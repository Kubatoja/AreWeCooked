(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function a(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(u){if(u.ep)return;u.ep=!0;const f=a(u);fetch(u.href,f)}})();function Fb(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Lc={exports:{}},Ya={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function Zb(){if(sg)return Ya;sg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(r,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var _ in u)_!=="key"&&(f[_]=u[_])}else f=u;return u=f.ref,{$$typeof:l,type:r,key:h,ref:u!==void 0?u:null,props:f}}return Ya.Fragment=n,Ya.jsx=a,Ya.jsxs=a,Ya}var rg;function Pb(){return rg||(rg=1,Lc.exports=Zb()),Lc.exports}var G=Pb(),Hc={exports:{}},W={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function Wb(){if(og)return W;og=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function T(S){return S===null||typeof S!="object"?null:(S=b&&S[b]||S["@@iterator"],typeof S=="function"?S:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Z={};function ae(S,I,k){this.props=S,this.context=I,this.refs=Z,this.updater=k||z}ae.prototype.isReactComponent={},ae.prototype.setState=function(S,I){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,I,"setState")},ae.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function Ze(){}Ze.prototype=ae.prototype;function He(S,I,k){this.props=S,this.context=I,this.refs=Z,this.updater=k||z}var Ce=He.prototype=new Ze;Ce.constructor=He,L(Ce,ae.prototype),Ce.isPureReactComponent=!0;var lt=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},mt=Object.prototype.hasOwnProperty;function gt(S,I,k,H,Y,oe){return k=oe.ref,{$$typeof:l,type:S,key:I,ref:k!==void 0?k:null,props:oe}}function pt(S,I){return gt(S.type,I,void 0,void 0,void 0,S.props)}function Kt(S){return typeof S=="object"&&S!==null&&S.$$typeof===l}function Yi(S){var I={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(k){return I[k]})}var ln=/\/+/g;function $e(S,I){return typeof S=="object"&&S!==null&&S.key!=null?Yi(""+S.key):I.toString(36)}function fi(){}function hi(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(fi,fi):(S.status="pending",S.then(function(I){S.status==="pending"&&(S.status="fulfilled",S.value=I)},function(I){S.status==="pending"&&(S.status="rejected",S.reason=I)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function et(S,I,k,H,Y){var oe=typeof S;(oe==="undefined"||oe==="boolean")&&(S=null);var P=!1;if(S===null)P=!0;else switch(oe){case"bigint":case"string":case"number":P=!0;break;case"object":switch(S.$$typeof){case l:case n:P=!0;break;case v:return P=S._init,et(P(S._payload),I,k,H,Y)}}if(P)return Y=Y(S),P=H===""?"."+$e(S,0):H,lt(Y)?(k="",P!=null&&(k=P.replace(ln,"$&/")+"/"),et(Y,I,k,"",function(Nn){return Nn})):Y!=null&&(Kt(Y)&&(Y=pt(Y,k+(Y.key==null||S&&S.key===Y.key?"":(""+Y.key).replace(ln,"$&/")+"/")+P)),I.push(Y)),1;P=0;var yt=H===""?".":H+":";if(lt(S))for(var Ae=0;Ae<S.length;Ae++)H=S[Ae],oe=yt+$e(H,Ae),P+=et(H,I,k,oe,Y);else if(Ae=T(S),typeof Ae=="function")for(S=Ae.call(S),Ae=0;!(H=S.next()).done;)H=H.value,oe=yt+$e(H,Ae++),P+=et(H,I,k,oe,Y);else if(oe==="object"){if(typeof S.then=="function")return et(hi(S),I,k,H,Y);throw I=String(S),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return P}function O(S,I,k){if(S==null)return S;var H=[],Y=0;return et(S,H,"","",function(oe){return I.call(k,oe,Y++)}),H}function B(S){if(S._status===-1){var I=S._result;I=I(),I.then(function(k){(S._status===0||S._status===-1)&&(S._status=1,S._result=k)},function(k){(S._status===0||S._status===-1)&&(S._status=2,S._result=k)}),S._status===-1&&(S._status=0,S._result=I)}if(S._status===1)return S._result.default;throw S._result}var X=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function ye(){}return W.Children={map:O,forEach:function(S,I,k){O(S,function(){I.apply(this,arguments)},k)},count:function(S){var I=0;return O(S,function(){I++}),I},toArray:function(S){return O(S,function(I){return I})||[]},only:function(S){if(!Kt(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},W.Component=ae,W.Fragment=a,W.Profiler=u,W.PureComponent=He,W.StrictMode=r,W.Suspense=g,W.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,W.__COMPILER_RUNTIME={__proto__:null,c:function(S){return re.H.useMemoCache(S)}},W.cache=function(S){return function(){return S.apply(null,arguments)}},W.cloneElement=function(S,I,k){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var H=L({},S.props),Y=S.key,oe=void 0;if(I!=null)for(P in I.ref!==void 0&&(oe=void 0),I.key!==void 0&&(Y=""+I.key),I)!mt.call(I,P)||P==="key"||P==="__self"||P==="__source"||P==="ref"&&I.ref===void 0||(H[P]=I[P]);var P=arguments.length-2;if(P===1)H.children=k;else if(1<P){for(var yt=Array(P),Ae=0;Ae<P;Ae++)yt[Ae]=arguments[Ae+2];H.children=yt}return gt(S.type,Y,void 0,void 0,oe,H)},W.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},W.createElement=function(S,I,k){var H,Y={},oe=null;if(I!=null)for(H in I.key!==void 0&&(oe=""+I.key),I)mt.call(I,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(Y[H]=I[H]);var P=arguments.length-2;if(P===1)Y.children=k;else if(1<P){for(var yt=Array(P),Ae=0;Ae<P;Ae++)yt[Ae]=arguments[Ae+2];Y.children=yt}if(S&&S.defaultProps)for(H in P=S.defaultProps,P)Y[H]===void 0&&(Y[H]=P[H]);return gt(S,oe,void 0,void 0,null,Y)},W.createRef=function(){return{current:null}},W.forwardRef=function(S){return{$$typeof:_,render:S}},W.isValidElement=Kt,W.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:B}},W.memo=function(S,I){return{$$typeof:m,type:S,compare:I===void 0?null:I}},W.startTransition=function(S){var I=re.T,k={};re.T=k;try{var H=S(),Y=re.S;Y!==null&&Y(k,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(ye,X)}catch(oe){X(oe)}finally{re.T=I}},W.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},W.use=function(S){return re.H.use(S)},W.useActionState=function(S,I,k){return re.H.useActionState(S,I,k)},W.useCallback=function(S,I){return re.H.useCallback(S,I)},W.useContext=function(S){return re.H.useContext(S)},W.useDebugValue=function(){},W.useDeferredValue=function(S,I){return re.H.useDeferredValue(S,I)},W.useEffect=function(S,I,k){var H=re.H;if(typeof k=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(S,I)},W.useId=function(){return re.H.useId()},W.useImperativeHandle=function(S,I,k){return re.H.useImperativeHandle(S,I,k)},W.useInsertionEffect=function(S,I){return re.H.useInsertionEffect(S,I)},W.useLayoutEffect=function(S,I){return re.H.useLayoutEffect(S,I)},W.useMemo=function(S,I){return re.H.useMemo(S,I)},W.useOptimistic=function(S,I){return re.H.useOptimistic(S,I)},W.useReducer=function(S,I,k){return re.H.useReducer(S,I,k)},W.useRef=function(S){return re.H.useRef(S)},W.useState=function(S){return re.H.useState(S)},W.useSyncExternalStore=function(S,I,k){return re.H.useSyncExternalStore(S,I,k)},W.useTransition=function(){return re.H.useTransition()},W.version="19.1.0",W}var ug;function wf(){return ug||(ug=1,Hc.exports=Wb()),Hc.exports}var Bt=wf();const ti=Fb(Bt);var Bc={exports:{}},Va={},kc={exports:{}},jc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function Jb(){return cg||(cg=1,function(l){function n(O,B){var X=O.length;O.push(B);e:for(;0<X;){var ye=X-1>>>1,S=O[ye];if(0<u(S,B))O[ye]=B,O[X]=S,X=ye;else break e}}function a(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var B=O[0],X=O.pop();if(X!==B){O[0]=X;e:for(var ye=0,S=O.length,I=S>>>1;ye<I;){var k=2*(ye+1)-1,H=O[k],Y=k+1,oe=O[Y];if(0>u(H,X))Y<S&&0>u(oe,H)?(O[ye]=oe,O[Y]=X,ye=Y):(O[ye]=H,O[k]=X,ye=k);else if(Y<S&&0>u(oe,X))O[ye]=oe,O[Y]=X,ye=Y;else break e}}return B}function u(O,B){var X=O.sortIndex-B.sortIndex;return X!==0?X:O.id-B.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,_=h.now();l.unstable_now=function(){return h.now()-_}}var g=[],m=[],v=1,b=null,T=3,z=!1,L=!1,Z=!1,ae=!1,Ze=typeof setTimeout=="function"?setTimeout:null,He=typeof clearTimeout=="function"?clearTimeout:null,Ce=typeof setImmediate<"u"?setImmediate:null;function lt(O){for(var B=a(m);B!==null;){if(B.callback===null)r(m);else if(B.startTime<=O)r(m),B.sortIndex=B.expirationTime,n(g,B);else break;B=a(m)}}function re(O){if(Z=!1,lt(O),!L)if(a(g)!==null)L=!0,mt||(mt=!0,$e());else{var B=a(m);B!==null&&et(re,B.startTime-O)}}var mt=!1,gt=-1,pt=5,Kt=-1;function Yi(){return ae?!0:!(l.unstable_now()-Kt<pt)}function ln(){if(ae=!1,mt){var O=l.unstable_now();Kt=O;var B=!0;try{e:{L=!1,Z&&(Z=!1,He(gt),gt=-1),z=!0;var X=T;try{t:{for(lt(O),b=a(g);b!==null&&!(b.expirationTime>O&&Yi());){var ye=b.callback;if(typeof ye=="function"){b.callback=null,T=b.priorityLevel;var S=ye(b.expirationTime<=O);if(O=l.unstable_now(),typeof S=="function"){b.callback=S,lt(O),B=!0;break t}b===a(g)&&r(g),lt(O)}else r(g);b=a(g)}if(b!==null)B=!0;else{var I=a(m);I!==null&&et(re,I.startTime-O),B=!1}}break e}finally{b=null,T=X,z=!1}B=void 0}}finally{B?$e():mt=!1}}}var $e;if(typeof Ce=="function")$e=function(){Ce(ln)};else if(typeof MessageChannel<"u"){var fi=new MessageChannel,hi=fi.port2;fi.port1.onmessage=ln,$e=function(){hi.postMessage(null)}}else $e=function(){Ze(ln,0)};function et(O,B){gt=Ze(function(){O(l.unstable_now())},B)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(O){O.callback=null},l.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pt=0<O?Math.floor(1e3/O):5},l.unstable_getCurrentPriorityLevel=function(){return T},l.unstable_next=function(O){switch(T){case 1:case 2:case 3:var B=3;break;default:B=T}var X=T;T=B;try{return O()}finally{T=X}},l.unstable_requestPaint=function(){ae=!0},l.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var X=T;T=O;try{return B()}finally{T=X}},l.unstable_scheduleCallback=function(O,B,X){var ye=l.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ye+X:ye):X=ye,O){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=X+S,O={id:v++,callback:B,priorityLevel:O,startTime:X,expirationTime:S,sortIndex:-1},X>ye?(O.sortIndex=X,n(m,O),a(g)===null&&O===a(m)&&(Z?(He(gt),gt=-1):Z=!0,et(re,X-ye))):(O.sortIndex=S,n(g,O),L||z||(L=!0,mt||(mt=!0,$e()))),O},l.unstable_shouldYield=Yi,l.unstable_wrapCallback=function(O){var B=T;return function(){var X=T;T=B;try{return O.apply(this,arguments)}finally{T=X}}}}(jc)),jc}var fg;function $b(){return fg||(fg=1,kc.exports=Jb()),kc.exports}var qc={exports:{}},it={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function e1(){if(hg)return it;hg=1;var l=wf();function n(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(g,m,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:g,containerInfo:m,implementation:v}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,it.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return f(g,m,null,v)},it.flushSync=function(g){var m=h.T,v=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=m,r.p=v,r.d.f()}},it.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(g,m))},it.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},it.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,b=_(v,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,z=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?r.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:z}):v==="script"&&r.d.X(g,{crossOrigin:b,integrity:T,fetchPriority:z,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},it.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=_(m.as,m.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(g)},it.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,b=_(v,m.crossOrigin);r.d.L(g,v,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},it.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=_(m.as,m.crossOrigin);r.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(g)},it.requestFormReset=function(g){r.d.r(g)},it.unstable_batchedUpdates=function(g,m){return g(m)},it.useFormState=function(g,m,v){return h.H.useFormState(g,m,v)},it.useFormStatus=function(){return h.H.useHostTransitionStatus()},it.version="19.1.0",it}var dg;function t1(){if(dg)return qc.exports;dg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),qc.exports=e1(),qc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function n1(){if(_g)return Va;_g=1;var l=$b(),n=wf(),a=t1();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _(e){if(f(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,s=t;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(s=o.return,s!==null){i=s;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return _(o),e;if(c===s)return _(o),t;c=c.sibling}throw Error(r(188))}if(i.return!==s.return)i=o,s=c;else{for(var d=!1,p=o.child;p;){if(p===i){d=!0,i=o,s=c;break}if(p===s){d=!0,s=o,i=c;break}p=p.sibling}if(!d){for(p=c.child;p;){if(p===i){d=!0,i=c,s=o;break}if(p===s){d=!0,s=c,i=o;break}p=p.sibling}if(!d)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),Ze=Symbol.for("react.provider"),He=Symbol.for("react.consumer"),Ce=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),gt=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),Kt=Symbol.for("react.activity"),Yi=Symbol.for("react.memo_cache_sentinel"),ln=Symbol.iterator;function $e(e){return e===null||typeof e!="object"?null:(e=ln&&e[ln]||e["@@iterator"],typeof e=="function"?e:null)}var fi=Symbol.for("react.client.reference");function hi(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===fi?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case ae:return"Profiler";case Z:return"StrictMode";case re:return"Suspense";case mt:return"SuspenseList";case Kt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case Ce:return(e.displayName||"Context")+".Provider";case He:return(e._context.displayName||"Context")+".Consumer";case lt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gt:return t=e.displayName||null,t!==null?t:hi(e.type)||"Memo";case pt:t=e._payload,e=e._init;try{return hi(e(t))}catch{}}return null}var et=Array.isArray,O=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ye=[],S=-1;function I(e){return{current:e}}function k(e){0>S||(e.current=ye[S],ye[S]=null,S--)}function H(e,t){S++,ye[S]=e.current,e.current=t}var Y=I(null),oe=I(null),P=I(null),yt=I(null);function Ae(e,t){switch(H(P,t),H(oe,e),H(Y,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?zm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=zm(t),e=Um(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(Y),H(Y,e)}function Nn(){k(Y),k(oe),k(P)}function So(e){e.memoizedState!==null&&H(yt,e);var t=Y.current,i=Um(t,e.type);t!==i&&(H(oe,e),H(Y,i))}function bs(e){oe.current===e&&(k(Y),k(oe)),yt.current===e&&(k(yt),Ba._currentValue=X)}var Eo=Object.prototype.hasOwnProperty,To=l.unstable_scheduleCallback,Co=l.unstable_cancelCallback,wv=l.unstable_shouldYield,Nv=l.unstable_requestPaint,Ft=l.unstable_now,Rv=l.unstable_getCurrentPriorityLevel,_h=l.unstable_ImmediatePriority,mh=l.unstable_UserBlockingPriority,Ss=l.unstable_NormalPriority,Dv=l.unstable_LowPriority,gh=l.unstable_IdlePriority,Ov=l.log,Mv=l.unstable_setDisableYieldValue,Xl=null,vt=null;function Rn(e){if(typeof Ov=="function"&&Mv(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(Xl,e)}catch{}}var bt=Math.clz32?Math.clz32:zv,xv=Math.log,Iv=Math.LN2;function zv(e){return e>>>=0,e===0?32:31-(xv(e)/Iv|0)|0}var Es=256,Ts=4194304;function di(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Cs(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var o=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var p=s&134217727;return p!==0?(s=p&~c,s!==0?o=di(s):(d&=p,d!==0?o=di(d):i||(i=p&~e,i!==0&&(o=di(i))))):(p=s&~c,p!==0?o=di(p):d!==0?o=di(d):i||(i=s&~e,i!==0&&(o=di(i)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:o}function Kl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Uv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ph(){var e=Es;return Es<<=1,(Es&4194048)===0&&(Es=256),e}function yh(){var e=Ts;return Ts<<=1,(Ts&62914560)===0&&(Ts=4194304),e}function Ao(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Fl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Lv(e,t,i,s,o,c){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var p=e.entanglements,y=e.expirationTimes,w=e.hiddenUpdates;for(i=d&~i;0<i;){var D=31-bt(i),x=1<<D;p[D]=0,y[D]=-1;var N=w[D];if(N!==null)for(w[D]=null,D=0;D<N.length;D++){var R=N[D];R!==null&&(R.lane&=-536870913)}i&=~x}s!==0&&vh(e,s,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function vh(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-bt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&4194090}function bh(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-bt(i),o=1<<s;o&t|e[s]&t&&(e[s]|=t),i&=~o}}function wo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function No(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Sh(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:eg(e.type))}function Hv(e,t){var i=B.p;try{return B.p=e,t()}finally{B.p=i}}var Dn=Math.random().toString(36).slice(2),tt="__reactFiber$"+Dn,ot="__reactProps$"+Dn,Vi="__reactContainer$"+Dn,Ro="__reactEvents$"+Dn,Bv="__reactListeners$"+Dn,kv="__reactHandles$"+Dn,Eh="__reactResources$"+Dn,Zl="__reactMarker$"+Dn;function Do(e){delete e[tt],delete e[ot],delete e[Ro],delete e[Bv],delete e[kv]}function Qi(e){var t=e[tt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Vi]||i[tt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=km(e);e!==null;){if(i=e[tt])return i;e=km(e)}return t}e=i,i=e.parentNode}return null}function Xi(e){if(e=e[tt]||e[Vi]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Pl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Ki(e){var t=e[Eh];return t||(t=e[Eh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[Zl]=!0}var Th=new Set,Ch={};function _i(e,t){Fi(e,t),Fi(e+"Capture",t)}function Fi(e,t){for(Ch[e]=t,e=0;e<t.length;e++)Th.add(t[e])}var jv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ah={},wh={};function qv(e){return Eo.call(wh,e)?!0:Eo.call(Ah,e)?!1:jv.test(e)?wh[e]=!0:(Ah[e]=!0,!1)}function As(e,t,i){if(qv(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function ws(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function an(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}var Oo,Nh;function Zi(e){if(Oo===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Oo=t&&t[1]||"",Nh=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oo+e+Nh}var Mo=!1;function xo(e,t){if(!e||Mo)return"";Mo=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var x=function(){throw Error()};if(Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(R){var N=R}Reflect.construct(e,[],x)}else{try{x.call()}catch(R){N=R}e.call(x.prototype)}}else{try{throw Error()}catch(R){N=R}(x=e())&&typeof x.catch=="function"&&x.catch(function(){})}}catch(R){if(R&&N&&typeof R.stack=="string")return[R.stack,N.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),d=c[0],p=c[1];if(d&&p){var y=d.split(`
`),w=p.split(`
`);for(o=s=0;s<y.length&&!y[s].includes("DetermineComponentFrameRoot");)s++;for(;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;if(s===y.length||o===w.length)for(s=y.length-1,o=w.length-1;1<=s&&0<=o&&y[s]!==w[o];)o--;for(;1<=s&&0<=o;s--,o--)if(y[s]!==w[o]){if(s!==1||o!==1)do if(s--,o--,0>o||y[s]!==w[o]){var D=`
`+y[s].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=s&&0<=o);break}}}finally{Mo=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Zi(i):""}function Gv(e){switch(e.tag){case 26:case 27:case 5:return Zi(e.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return xo(e.type,!1);case 11:return xo(e.type.render,!1);case 1:return xo(e.type,!0);case 31:return Zi("Activity");default:return""}}function Rh(e){try{var t="";do t+=Gv(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yv(e){var t=Dh(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){s=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ns(e){e._valueTracker||(e._valueTracker=Yv(e))}function Oh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=Dh(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function Rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vv=/[\n"\\]/g;function Ot(e){return e.replace(Vv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Io(e,t,i,s,o,c,d,p){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Dt(t)):e.value!==""+Dt(t)&&(e.value=""+Dt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?zo(e,d,Dt(t)):i!=null?zo(e,d,Dt(i)):s!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Dt(p):e.removeAttribute("name")}function Mh(e,t,i,s,o,c,d,p){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;i=i!=null?""+Dt(i):"",t=t!=null?""+Dt(t):i,p||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=p?e.checked:!!s,e.defaultChecked=!!s,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d)}function zo(e,t,i){t==="number"&&Rs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Pi(e,t,i,s){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Dt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function xh(e,t,i){if(t!=null&&(t=""+Dt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Dt(i):""}function Ih(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(r(92));if(et(s)){if(1<s.length)throw Error(r(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=Dt(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s)}function Wi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Qv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zh(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||Qv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Uh(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&i[o]!==s&&zh(e,o,s)}else for(var c in t)t.hasOwnProperty(c)&&zh(e,c,t[c])}function Uo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(e){return Kv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Lo=null;function Ho(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ji=null,$i=null;function Lh(e){var t=Xi(e);if(t&&(e=t.stateNode)){var i=e[ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(Io(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ot(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var o=s[ot]||null;if(!o)throw Error(r(90));Io(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&Oh(s)}break e;case"textarea":xh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Pi(e,!!i.multiple,t,!1)}}}var Bo=!1;function Hh(e,t,i){if(Bo)return e(t,i);Bo=!0;try{var s=e(t);return s}finally{if(Bo=!1,(Ji!==null||$i!==null)&&(_r(),Ji&&(t=Ji,e=$i,$i=Ji=null,Lh(t),e)))for(t=0;t<e.length;t++)Lh(e[t])}}function Wl(e,t){var i=e.stateNode;if(i===null)return null;var s=i[ot]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ko=!1;if(sn)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){ko=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{ko=!1}var On=null,jo=null,Os=null;function Bh(){if(Os)return Os;var e,t=jo,i=t.length,s,o="value"in On?On.value:On.textContent,c=o.length;for(e=0;e<i&&t[e]===o[e];e++);var d=i-e;for(s=1;s<=d&&t[i-s]===o[c-s];s++);return Os=o.slice(e,1<s?1-s:void 0)}function Ms(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function kh(){return!1}function ut(e){function t(i,s,o,c,d){this._reactName=i,this._targetInst=o,this.type=s,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(c):c[p]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?xs:kh,this.isPropagationStopped=kh,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),t}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=ut(mi),$l=v({},mi,{view:0,detail:0}),Fv=ut($l),qo,Go,ea,zs=v({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ea&&(ea&&e.type==="mousemove"?(qo=e.screenX-ea.screenX,Go=e.screenY-ea.screenY):Go=qo=0,ea=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:Go}}),jh=ut(zs),Zv=v({},zs,{dataTransfer:0}),Pv=ut(Zv),Wv=v({},$l,{relatedTarget:0}),Yo=ut(Wv),Jv=v({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),$v=ut(Jv),e0=v({},mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t0=ut(e0),n0=v({},mi,{data:0}),qh=ut(n0),i0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=a0[e])?!!t[e]:!1}function Vo(){return s0}var r0=v({},$l,{key:function(e){if(e.key){var t=i0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?l0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vo,charCode:function(e){return e.type==="keypress"?Ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o0=ut(r0),u0=v({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gh=ut(u0),c0=v({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vo}),f0=ut(c0),h0=v({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),d0=ut(h0),_0=v({},zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m0=ut(_0),g0=v({},mi,{newState:0,oldState:0}),p0=ut(g0),y0=[9,13,27,32],Qo=sn&&"CompositionEvent"in window,ta=null;sn&&"documentMode"in document&&(ta=document.documentMode);var v0=sn&&"TextEvent"in window&&!ta,Yh=sn&&(!Qo||ta&&8<ta&&11>=ta),Vh=" ",Qh=!1;function Xh(e,t){switch(e){case"keyup":return y0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var el=!1;function b0(e,t){switch(e){case"compositionend":return Kh(t);case"keypress":return t.which!==32?null:(Qh=!0,Vh);case"textInput":return e=t.data,e===Vh&&Qh?null:e;default:return null}}function S0(e,t){if(el)return e==="compositionend"||!Qo&&Xh(e,t)?(e=Bh(),Os=jo=On=null,el=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yh&&t.locale!=="ko"?null:t.data;default:return null}}var E0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!E0[e.type]:t==="textarea"}function Zh(e,t,i,s){Ji?$i?$i.push(s):$i=[s]:Ji=s,t=br(t,"onChange"),0<t.length&&(i=new Is("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var na=null,ia=null;function T0(e){Dm(e,0)}function Us(e){var t=Pl(e);if(Oh(t))return e}function Ph(e,t){if(e==="change")return t}var Wh=!1;if(sn){var Xo;if(sn){var Ko="oninput"in document;if(!Ko){var Jh=document.createElement("div");Jh.setAttribute("oninput","return;"),Ko=typeof Jh.oninput=="function"}Xo=Ko}else Xo=!1;Wh=Xo&&(!document.documentMode||9<document.documentMode)}function $h(){na&&(na.detachEvent("onpropertychange",ed),ia=na=null)}function ed(e){if(e.propertyName==="value"&&Us(ia)){var t=[];Zh(t,ia,e,Ho(e)),Hh(T0,t)}}function C0(e,t,i){e==="focusin"?($h(),na=t,ia=i,na.attachEvent("onpropertychange",ed)):e==="focusout"&&$h()}function A0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Us(ia)}function w0(e,t){if(e==="click")return Us(t)}function N0(e,t){if(e==="input"||e==="change")return Us(t)}function R0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:R0;function la(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var o=i[s];if(!Eo.call(t,o)||!St(e[o],t[o]))return!1}return!0}function td(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nd(e,t){var i=td(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=td(i)}}function id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ld(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Rs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Rs(e.document)}return t}function Fo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var D0=sn&&"documentMode"in document&&11>=document.documentMode,tl=null,Zo=null,aa=null,Po=!1;function ad(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Po||tl==null||tl!==Rs(s)||(s=tl,"selectionStart"in s&&Fo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),aa&&la(aa,s)||(aa=s,s=br(Zo,"onSelect"),0<s.length&&(t=new Is("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=tl)))}function gi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var nl={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionrun:gi("Transition","TransitionRun"),transitionstart:gi("Transition","TransitionStart"),transitioncancel:gi("Transition","TransitionCancel"),transitionend:gi("Transition","TransitionEnd")},Wo={},sd={};sn&&(sd=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function pi(e){if(Wo[e])return Wo[e];if(!nl[e])return e;var t=nl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in sd)return Wo[e]=t[i];return e}var rd=pi("animationend"),od=pi("animationiteration"),ud=pi("animationstart"),O0=pi("transitionrun"),M0=pi("transitionstart"),x0=pi("transitioncancel"),cd=pi("transitionend"),fd=new Map,Jo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jo.push("scrollEnd");function qt(e,t){fd.set(e,t),_i(t,[e])}var hd=new WeakMap;function Mt(e,t){if(typeof e=="object"&&e!==null){var i=hd.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Rh(t)},hd.set(e,t),t)}return{value:e,source:t,stack:Rh(t)}}var xt=[],il=0,$o=0;function Ls(){for(var e=il,t=$o=il=0;t<e;){var i=xt[t];xt[t++]=null;var s=xt[t];xt[t++]=null;var o=xt[t];xt[t++]=null;var c=xt[t];if(xt[t++]=null,s!==null&&o!==null){var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}c!==0&&dd(i,o,c)}}function Hs(e,t,i,s){xt[il++]=e,xt[il++]=t,xt[il++]=i,xt[il++]=s,$o|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function eu(e,t,i,s){return Hs(e,t,i,s),Bs(e)}function ll(e,t){return Hs(e,null,null,t),Bs(e)}function dd(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var o=!1,c=e.return;c!==null;)c.childLanes|=i,s=c.alternate,s!==null&&(s.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-bt(i),e=c.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=i|536870912),c):null}function Bs(e){if(50<Oa)throw Oa=0,sc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var al={};function I0(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,i,s){return new I0(e,t,i,s)}function tu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rn(e,t){var i=e.alternate;return i===null?(i=Et(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function _d(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ks(e,t,i,s,o,c){var d=0;if(s=e,typeof e=="function")tu(e)&&(d=1);else if(typeof e=="string")d=Ub(e,i,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Kt:return e=Et(31,i,t,o),e.elementType=Kt,e.lanes=c,e;case L:return yi(i.children,o,c,t);case Z:d=8,o|=24;break;case ae:return e=Et(12,i,t,o|2),e.elementType=ae,e.lanes=c,e;case re:return e=Et(13,i,t,o),e.elementType=re,e.lanes=c,e;case mt:return e=Et(19,i,t,o),e.elementType=mt,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ze:case Ce:d=10;break e;case He:d=9;break e;case lt:d=11;break e;case gt:d=14;break e;case pt:d=16,s=null;break e}d=29,i=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=Et(d,i,t,o),t.elementType=e,t.type=s,t.lanes=c,t}function yi(e,t,i,s){return e=Et(7,e,s,t),e.lanes=i,e}function nu(e,t,i){return e=Et(6,e,null,t),e.lanes=i,e}function iu(e,t,i){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var sl=[],rl=0,js=null,qs=0,It=[],zt=0,vi=null,on=1,un="";function bi(e,t){sl[rl++]=qs,sl[rl++]=js,js=e,qs=t}function md(e,t,i){It[zt++]=on,It[zt++]=un,It[zt++]=vi,vi=e;var s=on;e=un;var o=32-bt(s)-1;s&=~(1<<o),i+=1;var c=32-bt(t)+o;if(30<c){var d=o-o%5;c=(s&(1<<d)-1).toString(32),s>>=d,o-=d,on=1<<32-bt(t)+o|i<<o|s,un=c+e}else on=1<<c|i<<o|s,un=e}function lu(e){e.return!==null&&(bi(e,1),md(e,1,0))}function au(e){for(;e===js;)js=sl[--rl],sl[rl]=null,qs=sl[--rl],sl[rl]=null;for(;e===vi;)vi=It[--zt],It[zt]=null,un=It[--zt],It[zt]=null,on=It[--zt],It[zt]=null}var at=null,Oe=null,fe=!1,Si=null,Zt=!1,su=Error(r(519));function Ei(e){var t=Error(r(418,""));throw oa(Mt(t,e)),su}function gd(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[tt]=e,t[ot]=s,i){case"dialog":le("cancel",t),le("close",t);break;case"iframe":case"object":case"embed":le("load",t);break;case"video":case"audio":for(i=0;i<xa.length;i++)le(xa[i],t);break;case"source":le("error",t);break;case"img":case"image":case"link":le("error",t),le("load",t);break;case"details":le("toggle",t);break;case"input":le("invalid",t),Mh(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Ns(t);break;case"select":le("invalid",t);break;case"textarea":le("invalid",t),Ih(t,s.value,s.defaultValue,s.children),Ns(t)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||Im(t.textContent,i)?(s.popover!=null&&(le("beforetoggle",t),le("toggle",t)),s.onScroll!=null&&le("scroll",t),s.onScrollEnd!=null&&le("scrollend",t),s.onClick!=null&&(t.onclick=Sr),t=!0):t=!1,t||Ei(e)}function pd(e){for(at=e.return;at;)switch(at.tag){case 5:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:at=at.return}}function sa(e){if(e!==at)return!1;if(!fe)return pd(e),fe=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Ec(e.type,e.memoizedProps)),i=!i),i&&Oe&&Ei(e),pd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Oe=Yt(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Oe=null}}else t===27?(t=Oe,Xn(e.type)?(e=wc,wc=null,Oe=e):Oe=t):Oe=at?Yt(e.stateNode.nextSibling):null;return!0}function ra(){Oe=at=null,fe=!1}function yd(){var e=Si;return e!==null&&(ht===null?ht=e:ht.push.apply(ht,e),Si=null),e}function oa(e){Si===null?Si=[e]:Si.push(e)}var ru=I(null),Ti=null,cn=null;function Mn(e,t,i){H(ru,t._currentValue),t._currentValue=i}function fn(e){e._currentValue=ru.current,k(ru)}function ou(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function uu(e,t,i,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var d=o.child;c=c.firstContext;e:for(;c!==null;){var p=c;c=o;for(var y=0;y<t.length;y++)if(p.context===t[y]){c.lanes|=i,p=c.alternate,p!==null&&(p.lanes|=i),ou(c.return,i,e),s||(d=null);break e}c=p.next}}else if(o.tag===18){if(d=o.return,d===null)throw Error(r(341));d.lanes|=i,c=d.alternate,c!==null&&(c.lanes|=i),ou(d,i,e),d=null}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===e){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}}function ua(e,t,i,s){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var d=o.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var p=o.type;St(o.pendingProps.value,d.value)||(e!==null?e.push(p):e=[p])}}else if(o===yt.current){if(d=o.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ba):e=[Ba])}o=o.return}e!==null&&uu(t,e,i,s),t.flags|=262144}function Gs(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){Ti=e,cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return vd(Ti,e)}function Ys(e,t){return Ti===null&&Ci(e),vd(e,t)}function vd(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},cn===null){if(e===null)throw Error(r(308));cn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else cn=cn.next=t;return i}var z0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},U0=l.unstable_scheduleCallback,L0=l.unstable_NormalPriority,Be={$$typeof:Ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cu(){return{controller:new z0,data:new Map,refCount:0}}function ca(e){e.refCount--,e.refCount===0&&U0(L0,function(){e.controller.abort()})}var fa=null,fu=0,ol=0,ul=null;function H0(e,t){if(fa===null){var i=fa=[];fu=0,ol=dc(),ul={status:"pending",value:void 0,then:function(s){i.push(s)}}}return fu++,t.then(bd,bd),t}function bd(){if(--fu===0&&fa!==null){ul!==null&&(ul.status="fulfilled");var e=fa;fa=null,ol=0,ul=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function B0(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),s}var Sd=O.S;O.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&H0(e,t),Sd!==null&&Sd(e,t)};var Ai=I(null);function hu(){var e=Ai.current;return e!==null?e:Se.pooledCache}function Vs(e,t){t===null?H(Ai,Ai.current):H(Ai,t.pool)}function Ed(){var e=hu();return e===null?null:{parent:Be._currentValue,pool:e}}var ha=Error(r(460)),Td=Error(r(474)),Qs=Error(r(542)),du={then:function(){}};function Cd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xs(){}function Ad(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Xs,Xs),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Nd(e),e;default:if(typeof t.status=="string")t.then(Xs,Xs);else{if(e=Se,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Nd(e),e}throw da=t,ha}}var da=null;function wd(){if(da===null)throw Error(r(459));var e=da;return da=null,e}function Nd(e){if(e===ha||e===Qs)throw Error(r(483))}var xn=!1;function _u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function In(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zn(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(he&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Bs(e),dd(e,null,i),t}return Hs(e,s,t,i),Bs(e)}function _a(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,bh(e,i)}}function gu(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?o=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?o=c=t:c=c.next=t}else o=c=t;i={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var pu=!1;function ma(){if(pu){var e=ul;if(e!==null)throw e}}function ga(e,t,i,s){pu=!1;var o=e.updateQueue;xn=!1;var c=o.firstBaseUpdate,d=o.lastBaseUpdate,p=o.shared.pending;if(p!==null){o.shared.pending=null;var y=p,w=y.next;y.next=null,d===null?c=w:d.next=w,d=y;var D=e.alternate;D!==null&&(D=D.updateQueue,p=D.lastBaseUpdate,p!==d&&(p===null?D.firstBaseUpdate=w:p.next=w,D.lastBaseUpdate=y))}if(c!==null){var x=o.baseState;d=0,D=w=y=null,p=c;do{var N=p.lane&-536870913,R=N!==p.lane;if(R?(se&N)===N:(s&N)===N){N!==0&&N===ol&&(pu=!0),D!==null&&(D=D.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var F=e,V=p;N=t;var pe=i;switch(V.tag){case 1:if(F=V.payload,typeof F=="function"){x=F.call(pe,x,N);break e}x=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=V.payload,N=typeof F=="function"?F.call(pe,x,N):F,N==null)break e;x=v({},x,N);break e;case 2:xn=!0}}N=p.callback,N!==null&&(e.flags|=64,R&&(e.flags|=8192),R=o.callbacks,R===null?o.callbacks=[N]:R.push(N))}else R={lane:N,tag:p.tag,payload:p.payload,callback:p.callback,next:null},D===null?(w=D=R,y=x):D=D.next=R,d|=N;if(p=p.next,p===null){if(p=o.shared.pending,p===null)break;R=p,p=R.next,R.next=null,o.lastBaseUpdate=R,o.shared.pending=null}}while(!0);D===null&&(y=x),o.baseState=y,o.firstBaseUpdate=w,o.lastBaseUpdate=D,c===null&&(o.shared.lanes=0),Gn|=d,e.lanes=d,e.memoizedState=x}}function Rd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Dd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Rd(i[e],t)}var cl=I(null),Ks=I(0);function Od(e,t){e=yn,H(Ks,e),H(cl,t),yn=e|t.baseLanes}function yu(){H(Ks,yn),H(cl,cl.current)}function vu(){yn=Ks.current,k(cl),k(Ks)}var Un=0,J=null,me=null,Ue=null,Fs=!1,fl=!1,wi=!1,Zs=0,pa=0,hl=null,k0=0;function Ie(){throw Error(r(321))}function bu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!St(e[i],t[i]))return!1;return!0}function Su(e,t,i,s,o,c){return Un=c,J=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?d_:__,wi=!1,c=i(s,o),wi=!1,fl&&(c=xd(t,i,s,o)),Md(e),c}function Md(e){O.H=tr;var t=me!==null&&me.next!==null;if(Un=0,Ue=me=J=null,Fs=!1,pa=0,hl=null,t)throw Error(r(300));e===null||Ge||(e=e.dependencies,e!==null&&Gs(e)&&(Ge=!0))}function xd(e,t,i,s){J=e;var o=0;do{if(fl&&(hl=null),pa=0,fl=!1,25<=o)throw Error(r(301));if(o+=1,Ue=me=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}O.H=X0,c=t(i,s)}while(fl);return c}function j0(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?ya(t):t,e=e.useState()[0],(me!==null?me.memoizedState:null)!==e&&(J.flags|=1024),t}function Eu(){var e=Zs!==0;return Zs=0,e}function Tu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Cu(e){if(Fs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fs=!1}Un=0,Ue=me=J=null,fl=!1,pa=Zs=0,hl=null}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?J.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Le(){if(me===null){var e=J.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=Ue===null?J.memoizedState:Ue.next;if(t!==null)Ue=t,me=e;else{if(e===null)throw J.alternate===null?Error(r(467)):Error(r(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},Ue===null?J.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function Au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ya(e){var t=pa;return pa+=1,hl===null&&(hl=[]),e=Ad(hl,e,t),t=J,(Ue===null?t.memoizedState:Ue.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?d_:__),e}function Ps(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ya(e);if(e.$$typeof===Ce)return nt(e)}throw Error(r(438,String(e)))}function wu(e){var t=null,i=J.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=J.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Au(),J.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=Yi;return t.index++,i}function hn(e,t){return typeof t=="function"?t(e):t}function Ws(e){var t=Le();return Nu(t,me,e)}function Nu(e,t,i){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var o=e.baseQueue,c=s.pending;if(c!==null){if(o!==null){var d=o.next;o.next=c.next,c.next=d}t.baseQueue=o=c,s.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var p=d=null,y=null,w=t,D=!1;do{var x=w.lane&-536870913;if(x!==w.lane?(se&x)===x:(Un&x)===x){var N=w.revertLane;if(N===0)y!==null&&(y=y.next={lane:0,revertLane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),x===ol&&(D=!0);else if((Un&N)===N){w=w.next,N===ol&&(D=!0);continue}else x={lane:0,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},y===null?(p=y=x,d=c):y=y.next=x,J.lanes|=N,Gn|=N;x=w.action,wi&&i(c,x),c=w.hasEagerState?w.eagerState:i(c,x)}else N={lane:x,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},y===null?(p=y=N,d=c):y=y.next=N,J.lanes|=x,Gn|=x;w=w.next}while(w!==null&&w!==t);if(y===null?d=c:y.next=p,!St(c,e.memoizedState)&&(Ge=!0,D&&(i=ul,i!==null)))throw i;e.memoizedState=c,e.baseState=d,e.baseQueue=y,s.lastRenderedState=c}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Ru(e){var t=Le(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var s=i.dispatch,o=i.pending,c=t.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do c=e(c,d.action),d=d.next;while(d!==o);St(c,t.memoizedState)||(Ge=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,s]}function Id(e,t,i){var s=J,o=Le(),c=fe;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var d=!St((me||o).memoizedState,i);d&&(o.memoizedState=i,Ge=!0),o=o.queue;var p=Ld.bind(null,s,o,e);if(va(2048,8,p,[e]),o.getSnapshot!==t||d||Ue!==null&&Ue.memoizedState.tag&1){if(s.flags|=2048,dl(9,Js(),Ud.bind(null,s,o,i,t),null),Se===null)throw Error(r(349));c||(Un&124)!==0||zd(s,t,i)}return i}function zd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=J.updateQueue,t===null?(t=Au(),J.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Ud(e,t,i,s){t.value=i,t.getSnapshot=s,Hd(t)&&Bd(e)}function Ld(e,t,i){return i(function(){Hd(t)&&Bd(e)})}function Hd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!St(e,i)}catch{return!0}}function Bd(e){var t=ll(e,2);t!==null&&Nt(t,e,2)}function Du(e){var t=ct();if(typeof e=="function"){var i=e;if(e=i(),wi){Rn(!0);try{i()}finally{Rn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:e},t}function kd(e,t,i,s){return e.baseState=i,Nu(e,me,typeof s=="function"?s:hn)}function q0(e,t,i,s,o){if(er(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};O.T!==null?i(!0):c.isTransition=!1,s(c),i=t.pending,i===null?(c.next=t.pending=c,jd(t,c)):(c.next=i.next,t.pending=i.next=c)}}function jd(e,t){var i=t.action,s=t.payload,o=e.state;if(t.isTransition){var c=O.T,d={};O.T=d;try{var p=i(o,s),y=O.S;y!==null&&y(d,p),qd(e,t,p)}catch(w){Ou(e,t,w)}finally{O.T=c}}else try{c=i(o,s),qd(e,t,c)}catch(w){Ou(e,t,w)}}function qd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Gd(e,t,s)},function(s){return Ou(e,t,s)}):Gd(e,t,i)}function Gd(e,t,i){t.status="fulfilled",t.value=i,Yd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,jd(e,i)))}function Ou(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,Yd(t),t=t.next;while(t!==s)}e.action=null}function Yd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Vd(e,t){return t}function Qd(e,t){if(fe){var i=Se.formState;if(i!==null){e:{var s=J;if(fe){if(Oe){t:{for(var o=Oe,c=Zt;o.nodeType!==8;){if(!c){o=null;break t}if(o=Yt(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Oe=Yt(o.nextSibling),s=o.data==="F!";break e}}Ei(s)}s=!1}s&&(t=i[0])}}return i=ct(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:t},i.queue=s,i=c_.bind(null,J,s),s.dispatch=i,s=Du(!1),c=Uu.bind(null,J,!1,s.queue),s=ct(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,i=q0.bind(null,J,o,c,i),o.dispatch=i,s.memoizedState=e,[t,i,!1]}function Xd(e){var t=Le();return Kd(t,me,e)}function Kd(e,t,i){if(t=Nu(e,t,Vd)[0],e=Ws(hn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ya(t)}catch(d){throw d===ha?Qs:d}else s=t;t=Le();var o=t.queue,c=o.dispatch;return i!==t.memoizedState&&(J.flags|=2048,dl(9,Js(),G0.bind(null,o,i),null)),[s,c,e]}function G0(e,t){e.action=t}function Fd(e){var t=Le(),i=me;if(i!==null)return Kd(t,i,e);Le(),t=t.memoizedState,i=Le();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function dl(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=J.updateQueue,t===null&&(t=Au(),J.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function Js(){return{destroy:void 0,resource:void 0}}function Zd(){return Le().memoizedState}function $s(e,t,i,s){var o=ct();s=s===void 0?null:s,J.flags|=e,o.memoizedState=dl(1|t,Js(),i,s)}function va(e,t,i,s){var o=Le();s=s===void 0?null:s;var c=o.memoizedState.inst;me!==null&&s!==null&&bu(s,me.memoizedState.deps)?o.memoizedState=dl(t,c,i,s):(J.flags|=e,o.memoizedState=dl(1|t,c,i,s))}function Pd(e,t){$s(8390656,8,e,t)}function Wd(e,t){va(2048,8,e,t)}function Jd(e,t){return va(4,2,e,t)}function $d(e,t){return va(4,4,e,t)}function e_(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function t_(e,t,i){i=i!=null?i.concat([e]):null,va(4,4,e_.bind(null,t,e),i)}function Mu(){}function n_(e,t){var i=Le();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&bu(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function i_(e,t){var i=Le();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&bu(t,s[1]))return s[0];if(s=e(),wi){Rn(!0);try{e()}finally{Rn(!1)}}return i.memoizedState=[s,t],s}function xu(e,t,i){return i===void 0||(Un&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=sm(),J.lanes|=e,Gn|=e,i)}function l_(e,t,i,s){return St(i,t)?i:cl.current!==null?(e=xu(e,i,s),St(e,t)||(Ge=!0),e):(Un&42)===0?(Ge=!0,e.memoizedState=i):(e=sm(),J.lanes|=e,Gn|=e,t)}function a_(e,t,i,s,o){var c=B.p;B.p=c!==0&&8>c?c:8;var d=O.T,p={};O.T=p,Uu(e,!1,t,i);try{var y=o(),w=O.S;if(w!==null&&w(p,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var D=B0(y,s);ba(e,t,D,wt(e))}else ba(e,t,s,wt(e))}catch(x){ba(e,t,{then:function(){},status:"rejected",reason:x},wt())}finally{B.p=c,O.T=d}}function Y0(){}function Iu(e,t,i,s){if(e.tag!==5)throw Error(r(476));var o=s_(e).queue;a_(e,o,t,X,i===null?Y0:function(){return r_(e),i(s)})}function s_(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:X},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function r_(e){var t=s_(e).next.queue;ba(e,t,{},wt())}function zu(){return nt(Ba)}function o_(){return Le().memoizedState}function u_(){return Le().memoizedState}function V0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=wt();e=In(i);var s=zn(t,e,i);s!==null&&(Nt(s,t,i),_a(s,t,i)),t={cache:cu()},e.payload=t;return}t=t.return}}function Q0(e,t,i){var s=wt();i={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},er(e)?f_(t,i):(i=eu(e,t,i,s),i!==null&&(Nt(i,e,s),h_(i,t,s)))}function c_(e,t,i){var s=wt();ba(e,t,i,s)}function ba(e,t,i,s){var o={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(er(e))f_(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,p=c(d,i);if(o.hasEagerState=!0,o.eagerState=p,St(p,d))return Hs(e,t,o,0),Se===null&&Ls(),!1}catch{}finally{}if(i=eu(e,t,o,s),i!==null)return Nt(i,e,s),h_(i,t,s),!0}return!1}function Uu(e,t,i,s){if(s={lane:2,revertLane:dc(),action:s,hasEagerState:!1,eagerState:null,next:null},er(e)){if(t)throw Error(r(479))}else t=eu(e,i,s,2),t!==null&&Nt(t,e,2)}function er(e){var t=e.alternate;return e===J||t!==null&&t===J}function f_(e,t){fl=Fs=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function h_(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,bh(e,i)}}var tr={readContext:nt,use:Ps,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie},d_={readContext:nt,use:Ps,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:Pd,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,$s(4194308,4,e_.bind(null,t,e),i)},useLayoutEffect:function(e,t){return $s(4194308,4,e,t)},useInsertionEffect:function(e,t){$s(4,2,e,t)},useMemo:function(e,t){var i=ct();t=t===void 0?null:t;var s=e();if(wi){Rn(!0);try{e()}finally{Rn(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=ct();if(i!==void 0){var o=i(t);if(wi){Rn(!0);try{i(t)}finally{Rn(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Q0.bind(null,J,e),[s.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:function(e){e=Du(e);var t=e.queue,i=c_.bind(null,J,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Mu,useDeferredValue:function(e,t){var i=ct();return xu(i,e,t)},useTransition:function(){var e=Du(!1);return e=a_.bind(null,J,e.queue,!0,!1),ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=J,o=ct();if(fe){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Se===null)throw Error(r(349));(se&124)!==0||zd(s,t,i)}o.memoizedState=i;var c={value:i,getSnapshot:t};return o.queue=c,Pd(Ld.bind(null,s,c,e),[e]),s.flags|=2048,dl(9,Js(),Ud.bind(null,s,c,i,t),null),i},useId:function(){var e=ct(),t=Se.identifierPrefix;if(fe){var i=un,s=on;i=(s&~(1<<32-bt(s)-1)).toString(32)+i,t=""+t+"R"+i,i=Zs++,0<i&&(t+="H"+i.toString(32)),t+=""}else i=k0++,t=""+t+"r"+i.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:zu,useFormState:Qd,useActionState:Qd,useOptimistic:function(e){var t=ct();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Uu.bind(null,J,!0,i),i.dispatch=t,[e,t]},useMemoCache:wu,useCacheRefresh:function(){return ct().memoizedState=V0.bind(null,J)}},__={readContext:nt,use:Ps,useCallback:n_,useContext:nt,useEffect:Wd,useImperativeHandle:t_,useInsertionEffect:Jd,useLayoutEffect:$d,useMemo:i_,useReducer:Ws,useRef:Zd,useState:function(){return Ws(hn)},useDebugValue:Mu,useDeferredValue:function(e,t){var i=Le();return l_(i,me.memoizedState,e,t)},useTransition:function(){var e=Ws(hn)[0],t=Le().memoizedState;return[typeof e=="boolean"?e:ya(e),t]},useSyncExternalStore:Id,useId:o_,useHostTransitionStatus:zu,useFormState:Xd,useActionState:Xd,useOptimistic:function(e,t){var i=Le();return kd(i,me,e,t)},useMemoCache:wu,useCacheRefresh:u_},X0={readContext:nt,use:Ps,useCallback:n_,useContext:nt,useEffect:Wd,useImperativeHandle:t_,useInsertionEffect:Jd,useLayoutEffect:$d,useMemo:i_,useReducer:Ru,useRef:Zd,useState:function(){return Ru(hn)},useDebugValue:Mu,useDeferredValue:function(e,t){var i=Le();return me===null?xu(i,e,t):l_(i,me.memoizedState,e,t)},useTransition:function(){var e=Ru(hn)[0],t=Le().memoizedState;return[typeof e=="boolean"?e:ya(e),t]},useSyncExternalStore:Id,useId:o_,useHostTransitionStatus:zu,useFormState:Fd,useActionState:Fd,useOptimistic:function(e,t){var i=Le();return me!==null?kd(i,me,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:wu,useCacheRefresh:u_},_l=null,Sa=0;function nr(e){var t=Sa;return Sa+=1,_l===null&&(_l=[]),Ad(_l,e,t)}function Ea(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ir(e,t){throw t.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function m_(e){var t=e._init;return t(e._payload)}function g_(e){function t(C,E){if(e){var A=C.deletions;A===null?(C.deletions=[E],C.flags|=16):A.push(E)}}function i(C,E){if(!e)return null;for(;E!==null;)t(C,E),E=E.sibling;return null}function s(C){for(var E=new Map;C!==null;)C.key!==null?E.set(C.key,C):E.set(C.index,C),C=C.sibling;return E}function o(C,E){return C=rn(C,E),C.index=0,C.sibling=null,C}function c(C,E,A){return C.index=A,e?(A=C.alternate,A!==null?(A=A.index,A<E?(C.flags|=67108866,E):A):(C.flags|=67108866,E)):(C.flags|=1048576,E)}function d(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function p(C,E,A,M){return E===null||E.tag!==6?(E=nu(A,C.mode,M),E.return=C,E):(E=o(E,A),E.return=C,E)}function y(C,E,A,M){var j=A.type;return j===L?D(C,E,A.props.children,M,A.key):E!==null&&(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===pt&&m_(j)===E.type)?(E=o(E,A.props),Ea(E,A),E.return=C,E):(E=ks(A.type,A.key,A.props,null,C.mode,M),Ea(E,A),E.return=C,E)}function w(C,E,A,M){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=iu(A,C.mode,M),E.return=C,E):(E=o(E,A.children||[]),E.return=C,E)}function D(C,E,A,M,j){return E===null||E.tag!==7?(E=yi(A,C.mode,M,j),E.return=C,E):(E=o(E,A),E.return=C,E)}function x(C,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=nu(""+E,C.mode,A),E.return=C,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case T:return A=ks(E.type,E.key,E.props,null,C.mode,A),Ea(A,E),A.return=C,A;case z:return E=iu(E,C.mode,A),E.return=C,E;case pt:var M=E._init;return E=M(E._payload),x(C,E,A)}if(et(E)||$e(E))return E=yi(E,C.mode,A,null),E.return=C,E;if(typeof E.then=="function")return x(C,nr(E),A);if(E.$$typeof===Ce)return x(C,Ys(C,E),A);ir(C,E)}return null}function N(C,E,A,M){var j=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return j!==null?null:p(C,E,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case T:return A.key===j?y(C,E,A,M):null;case z:return A.key===j?w(C,E,A,M):null;case pt:return j=A._init,A=j(A._payload),N(C,E,A,M)}if(et(A)||$e(A))return j!==null?null:D(C,E,A,M,null);if(typeof A.then=="function")return N(C,E,nr(A),M);if(A.$$typeof===Ce)return N(C,E,Ys(C,A),M);ir(C,A)}return null}function R(C,E,A,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return C=C.get(A)||null,p(E,C,""+M,j);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case T:return C=C.get(M.key===null?A:M.key)||null,y(E,C,M,j);case z:return C=C.get(M.key===null?A:M.key)||null,w(E,C,M,j);case pt:var ee=M._init;return M=ee(M._payload),R(C,E,A,M,j)}if(et(M)||$e(M))return C=C.get(A)||null,D(E,C,M,j,null);if(typeof M.then=="function")return R(C,E,A,nr(M),j);if(M.$$typeof===Ce)return R(C,E,A,Ys(E,M),j);ir(E,M)}return null}function F(C,E,A,M){for(var j=null,ee=null,q=E,Q=E=0,Ve=null;q!==null&&Q<A.length;Q++){q.index>Q?(Ve=q,q=null):Ve=q.sibling;var ue=N(C,q,A[Q],M);if(ue===null){q===null&&(q=Ve);break}e&&q&&ue.alternate===null&&t(C,q),E=c(ue,E,Q),ee===null?j=ue:ee.sibling=ue,ee=ue,q=Ve}if(Q===A.length)return i(C,q),fe&&bi(C,Q),j;if(q===null){for(;Q<A.length;Q++)q=x(C,A[Q],M),q!==null&&(E=c(q,E,Q),ee===null?j=q:ee.sibling=q,ee=q);return fe&&bi(C,Q),j}for(q=s(q);Q<A.length;Q++)Ve=R(q,C,Q,A[Q],M),Ve!==null&&(e&&Ve.alternate!==null&&q.delete(Ve.key===null?Q:Ve.key),E=c(Ve,E,Q),ee===null?j=Ve:ee.sibling=Ve,ee=Ve);return e&&q.forEach(function(Wn){return t(C,Wn)}),fe&&bi(C,Q),j}function V(C,E,A,M){if(A==null)throw Error(r(151));for(var j=null,ee=null,q=E,Q=E=0,Ve=null,ue=A.next();q!==null&&!ue.done;Q++,ue=A.next()){q.index>Q?(Ve=q,q=null):Ve=q.sibling;var Wn=N(C,q,ue.value,M);if(Wn===null){q===null&&(q=Ve);break}e&&q&&Wn.alternate===null&&t(C,q),E=c(Wn,E,Q),ee===null?j=Wn:ee.sibling=Wn,ee=Wn,q=Ve}if(ue.done)return i(C,q),fe&&bi(C,Q),j;if(q===null){for(;!ue.done;Q++,ue=A.next())ue=x(C,ue.value,M),ue!==null&&(E=c(ue,E,Q),ee===null?j=ue:ee.sibling=ue,ee=ue);return fe&&bi(C,Q),j}for(q=s(q);!ue.done;Q++,ue=A.next())ue=R(q,C,Q,ue.value,M),ue!==null&&(e&&ue.alternate!==null&&q.delete(ue.key===null?Q:ue.key),E=c(ue,E,Q),ee===null?j=ue:ee.sibling=ue,ee=ue);return e&&q.forEach(function(Kb){return t(C,Kb)}),fe&&bi(C,Q),j}function pe(C,E,A,M){if(typeof A=="object"&&A!==null&&A.type===L&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case T:e:{for(var j=A.key;E!==null;){if(E.key===j){if(j=A.type,j===L){if(E.tag===7){i(C,E.sibling),M=o(E,A.props.children),M.return=C,C=M;break e}}else if(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===pt&&m_(j)===E.type){i(C,E.sibling),M=o(E,A.props),Ea(M,A),M.return=C,C=M;break e}i(C,E);break}else t(C,E);E=E.sibling}A.type===L?(M=yi(A.props.children,C.mode,M,A.key),M.return=C,C=M):(M=ks(A.type,A.key,A.props,null,C.mode,M),Ea(M,A),M.return=C,C=M)}return d(C);case z:e:{for(j=A.key;E!==null;){if(E.key===j)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){i(C,E.sibling),M=o(E,A.children||[]),M.return=C,C=M;break e}else{i(C,E);break}else t(C,E);E=E.sibling}M=iu(A,C.mode,M),M.return=C,C=M}return d(C);case pt:return j=A._init,A=j(A._payload),pe(C,E,A,M)}if(et(A))return F(C,E,A,M);if($e(A)){if(j=$e(A),typeof j!="function")throw Error(r(150));return A=j.call(A),V(C,E,A,M)}if(typeof A.then=="function")return pe(C,E,nr(A),M);if(A.$$typeof===Ce)return pe(C,E,Ys(C,A),M);ir(C,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(i(C,E.sibling),M=o(E,A),M.return=C,C=M):(i(C,E),M=nu(A,C.mode,M),M.return=C,C=M),d(C)):i(C,E)}return function(C,E,A,M){try{Sa=0;var j=pe(C,E,A,M);return _l=null,j}catch(q){if(q===ha||q===Qs)throw q;var ee=Et(29,q,null,C.mode);return ee.lanes=M,ee.return=C,ee}finally{}}}var ml=g_(!0),p_=g_(!1),Ut=I(null),Pt=null;function Ln(e){var t=e.alternate;H(ke,ke.current&1),H(Ut,e),Pt===null&&(t===null||cl.current!==null||t.memoizedState!==null)&&(Pt=e)}function y_(e){if(e.tag===22){if(H(ke,ke.current),H(Ut,e),Pt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Pt=e)}}else Hn()}function Hn(){H(ke,ke.current),H(Ut,Ut.current)}function dn(e){k(Ut),Pt===e&&(Pt=null),k(ke)}var ke=I(0);function lr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Ac(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Lu(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Hu={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=wt(),o=In(s);o.payload=t,i!=null&&(o.callback=i),t=zn(e,o,s),t!==null&&(Nt(t,e,s),_a(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=wt(),o=In(s);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=zn(e,o,s),t!==null&&(Nt(t,e,s),_a(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=wt(),s=In(i);s.tag=2,t!=null&&(s.callback=t),t=zn(e,s,i),t!==null&&(Nt(t,e,i),_a(t,e,i))}};function v_(e,t,i,s,o,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,d):t.prototype&&t.prototype.isPureReactComponent?!la(i,s)||!la(o,c):!0}function b_(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&Hu.enqueueReplaceState(t,t.state,null)}function Ni(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}var ar=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function S_(e){ar(e)}function E_(e){console.error(e)}function T_(e){ar(e)}function sr(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function C_(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Bu(e,t,i){return i=In(i),i.tag=3,i.payload={element:null},i.callback=function(){sr(e,t)},i}function A_(e){return e=In(e),e.tag=3,e}function w_(e,t,i,s){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var c=s.value;e.payload=function(){return o(c)},e.callback=function(){C_(t,i,s)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){C_(t,i,s),typeof o!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var p=s.stack;this.componentDidCatch(s.value,{componentStack:p!==null?p:""})})}function K0(e,t,i,s,o){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&ua(t,i,o,!0),i=Ut.current,i!==null){switch(i.tag){case 13:return Pt===null?oc():i.alternate===null&&Me===0&&(Me=3),i.flags&=-257,i.flags|=65536,i.lanes=o,s===du?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),cc(e,s,o)),!1;case 22:return i.flags|=65536,s===du?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),cc(e,s,o)),!1}throw Error(r(435,i.tag))}return cc(e,s,o),oc(),!1}if(fe)return t=Ut.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==su&&(e=Error(r(422),{cause:s}),oa(Mt(e,i)))):(s!==su&&(t=Error(r(423),{cause:s}),oa(Mt(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Mt(s,i),o=Bu(e.stateNode,s,o),gu(e,o),Me!==4&&(Me=2)),!1;var c=Error(r(520),{cause:s});if(c=Mt(c,i),Da===null?Da=[c]:Da.push(c),Me!==4&&(Me=2),t===null)return!0;s=Mt(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=Bu(i.stateNode,s,e),gu(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Yn===null||!Yn.has(c))))return i.flags|=65536,o&=-o,i.lanes|=o,o=A_(o),w_(o,e,i,s),gu(i,o),!1}i=i.return}while(i!==null);return!1}var N_=Error(r(461)),Ge=!1;function Pe(e,t,i,s){t.child=e===null?p_(t,null,i,s):ml(t,e.child,i,s)}function R_(e,t,i,s,o){i=i.render;var c=t.ref;if("ref"in s){var d={};for(var p in s)p!=="ref"&&(d[p]=s[p])}else d=s;return Ci(t),s=Su(e,t,i,d,c,o),p=Eu(),e!==null&&!Ge?(Tu(e,t,o),_n(e,t,o)):(fe&&p&&lu(t),t.flags|=1,Pe(e,t,s,o),t.child)}function D_(e,t,i,s,o){if(e===null){var c=i.type;return typeof c=="function"&&!tu(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,O_(e,t,c,s,o)):(e=ks(i.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Xu(e,o)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:la,i(d,s)&&e.ref===t.ref)return _n(e,t,o)}return t.flags|=1,e=rn(c,s),e.ref=t.ref,e.return=t,t.child=e}function O_(e,t,i,s,o){if(e!==null){var c=e.memoizedProps;if(la(c,s)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=s=c,Xu(e,o))(e.flags&131072)!==0&&(Ge=!0);else return t.lanes=e.lanes,_n(e,t,o)}return ku(e,t,i,s,o)}function M_(e,t,i){var s=t.pendingProps,o=s.children,c=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((t.flags&128)!==0){if(s=c!==null?c.baseLanes|i:i,e!==null){for(o=t.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;t.childLanes=c&~s}else t.childLanes=0,t.child=null;return x_(e,t,s,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vs(t,c!==null?c.cachePool:null),c!==null?Od(t,c):yu(),y_(t);else return t.lanes=t.childLanes=536870912,x_(e,t,c!==null?c.baseLanes|i:i,i)}else c!==null?(Vs(t,c.cachePool),Od(t,c),Hn(),t.memoizedState=null):(e!==null&&Vs(t,null),yu(),Hn());return Pe(e,t,o,i),t.child}function x_(e,t,i,s){var o=hu();return o=o===null?null:{parent:Be._currentValue,pool:o},t.memoizedState={baseLanes:i,cachePool:o},e!==null&&Vs(t,null),yu(),y_(t),e!==null&&ua(e,t,s,!0),null}function rr(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function ku(e,t,i,s,o){return Ci(t),i=Su(e,t,i,s,void 0,o),s=Eu(),e!==null&&!Ge?(Tu(e,t,o),_n(e,t,o)):(fe&&s&&lu(t),t.flags|=1,Pe(e,t,i,o),t.child)}function I_(e,t,i,s,o,c){return Ci(t),t.updateQueue=null,i=xd(t,s,i,o),Md(e),s=Eu(),e!==null&&!Ge?(Tu(e,t,c),_n(e,t,c)):(fe&&s&&lu(t),t.flags|=1,Pe(e,t,i,c),t.child)}function z_(e,t,i,s,o){if(Ci(t),t.stateNode===null){var c=al,d=i.contextType;typeof d=="object"&&d!==null&&(c=nt(d)),c=new i(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Hu,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},_u(t),d=i.contextType,c.context=typeof d=="object"&&d!==null?nt(d):al,c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Lu(t,i,d,s),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&Hu.enqueueReplaceState(c,c.state,null),ga(t,s,c,o),ma(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var p=t.memoizedProps,y=Ni(i,p);c.props=y;var w=c.context,D=i.contextType;d=al,typeof D=="object"&&D!==null&&(d=nt(D));var x=i.getDerivedStateFromProps;D=typeof x=="function"||typeof c.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,D||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p||w!==d)&&b_(t,c,s,d),xn=!1;var N=t.memoizedState;c.state=N,ga(t,s,c,o),ma(),w=t.memoizedState,p||N!==w||xn?(typeof x=="function"&&(Lu(t,i,x,s),w=t.memoizedState),(y=xn||v_(t,i,y,s,N,w,d))?(D||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=w),c.props=s,c.state=w,c.context=d,s=y):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,mu(e,t),d=t.memoizedProps,D=Ni(i,d),c.props=D,x=t.pendingProps,N=c.context,w=i.contextType,y=al,typeof w=="object"&&w!==null&&(y=nt(w)),p=i.getDerivedStateFromProps,(w=typeof p=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==x||N!==y)&&b_(t,c,s,y),xn=!1,N=t.memoizedState,c.state=N,ga(t,s,c,o),ma();var R=t.memoizedState;d!==x||N!==R||xn||e!==null&&e.dependencies!==null&&Gs(e.dependencies)?(typeof p=="function"&&(Lu(t,i,p,s),R=t.memoizedState),(D=xn||v_(t,i,D,s,N,R,y)||e!==null&&e.dependencies!==null&&Gs(e.dependencies))?(w||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,R,y),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,R,y)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=R),c.props=s,c.state=R,c.context=y,s=D):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,rr(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=ml(t,e.child,null,o),t.child=ml(t,null,i,o)):Pe(e,t,i,o),t.memoizedState=c.state,e=t.child):e=_n(e,t,o),e}function U_(e,t,i,s){return ra(),t.flags|=256,Pe(e,t,i,s),t.child}var ju={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qu(e){return{baseLanes:e,cachePool:Ed()}}function Gu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Lt),e}function L_(e,t,i){var s=t.pendingProps,o=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(ke.current&2)!==0),d&&(o=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(fe){if(o?Ln(t):Hn(),fe){var p=Oe,y;if(y=p){e:{for(y=p,p=Zt;y.nodeType!==8;){if(!p){p=null;break e}if(y=Yt(y.nextSibling),y===null){p=null;break e}}p=y}p!==null?(t.memoizedState={dehydrated:p,treeContext:vi!==null?{id:on,overflow:un}:null,retryLane:536870912,hydrationErrors:null},y=Et(18,null,null,0),y.stateNode=p,y.return=t,t.child=y,at=t,Oe=null,y=!0):y=!1}y||Ei(t)}if(p=t.memoizedState,p!==null&&(p=p.dehydrated,p!==null))return Ac(p)?t.lanes=32:t.lanes=536870912,null;dn(t)}return p=s.children,s=s.fallback,o?(Hn(),o=t.mode,p=or({mode:"hidden",children:p},o),s=yi(s,o,i,null),p.return=t,s.return=t,p.sibling=s,t.child=p,o=t.child,o.memoizedState=qu(i),o.childLanes=Gu(e,d,i),t.memoizedState=ju,s):(Ln(t),Yu(t,p))}if(y=e.memoizedState,y!==null&&(p=y.dehydrated,p!==null)){if(c)t.flags&256?(Ln(t),t.flags&=-257,t=Vu(e,t,i)):t.memoizedState!==null?(Hn(),t.child=e.child,t.flags|=128,t=null):(Hn(),o=s.fallback,p=t.mode,s=or({mode:"visible",children:s.children},p),o=yi(o,p,i,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,ml(t,e.child,null,i),s=t.child,s.memoizedState=qu(i),s.childLanes=Gu(e,d,i),t.memoizedState=ju,t=o);else if(Ln(t),Ac(p)){if(d=p.nextSibling&&p.nextSibling.dataset,d)var w=d.dgst;d=w,s=Error(r(419)),s.stack="",s.digest=d,oa({value:s,source:null,stack:null}),t=Vu(e,t,i)}else if(Ge||ua(e,t,i,!1),d=(i&e.childLanes)!==0,Ge||d){if(d=Se,d!==null&&(s=i&-i,s=(s&42)!==0?1:wo(s),s=(s&(d.suspendedLanes|i))!==0?0:s,s!==0&&s!==y.retryLane))throw y.retryLane=s,ll(e,s),Nt(d,e,s),N_;p.data==="$?"||oc(),t=Vu(e,t,i)}else p.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=y.treeContext,Oe=Yt(p.nextSibling),at=t,fe=!0,Si=null,Zt=!1,e!==null&&(It[zt++]=on,It[zt++]=un,It[zt++]=vi,on=e.id,un=e.overflow,vi=t),t=Yu(t,s.children),t.flags|=4096);return t}return o?(Hn(),o=s.fallback,p=t.mode,y=e.child,w=y.sibling,s=rn(y,{mode:"hidden",children:s.children}),s.subtreeFlags=y.subtreeFlags&65011712,w!==null?o=rn(w,o):(o=yi(o,p,i,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,p=e.child.memoizedState,p===null?p=qu(i):(y=p.cachePool,y!==null?(w=Be._currentValue,y=y.parent!==w?{parent:w,pool:w}:y):y=Ed(),p={baseLanes:p.baseLanes|i,cachePool:y}),o.memoizedState=p,o.childLanes=Gu(e,d,i),t.memoizedState=ju,s):(Ln(t),i=e.child,e=i.sibling,i=rn(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function Yu(e,t){return t=or({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function or(e,t){return e=Et(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vu(e,t,i){return ml(t,e.child,null,i),e=Yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function H_(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ou(e.return,t,i)}function Qu(e,t,i,s,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:o}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=i,c.tailMode=o)}function B_(e,t,i){var s=t.pendingProps,o=s.revealOrder,c=s.tail;if(Pe(e,t,s.children,i),s=ke.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&H_(e,i,t);else if(e.tag===19)H_(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(H(ke,s),o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&lr(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Qu(t,!1,o,i,c);break;case"backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&lr(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Qu(t,!0,i,null,c);break;case"together":Qu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _n(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ua(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=rn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=rn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Xu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Gs(e)))}function F0(e,t,i){switch(t.tag){case 3:Ae(t,t.stateNode.containerInfo),Mn(t,Be,e.memoizedState.cache),ra();break;case 27:case 5:So(t);break;case 4:Ae(t,t.stateNode.containerInfo);break;case 10:Mn(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ln(t),t.flags|=128,null):(i&t.child.childLanes)!==0?L_(e,t,i):(Ln(t),e=_n(e,t,i),e!==null?e.sibling:null);Ln(t);break;case 19:var o=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(ua(e,t,i,!1),s=(i&t.childLanes)!==0),o){if(s)return B_(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),H(ke,ke.current),s)break;return null;case 22:case 23:return t.lanes=0,M_(e,t,i);case 24:Mn(t,Be,e.memoizedState.cache)}return _n(e,t,i)}function k_(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ge=!0;else{if(!Xu(e,i)&&(t.flags&128)===0)return Ge=!1,F0(e,t,i);Ge=(e.flags&131072)!==0}else Ge=!1,fe&&(t.flags&1048576)!==0&&md(t,qs,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,o=s._init;if(s=o(s._payload),t.type=s,typeof s=="function")tu(s)?(e=Ni(s,e),t.tag=1,t=z_(null,t,s,e,i)):(t.tag=0,t=ku(null,t,s,e,i));else{if(s!=null){if(o=s.$$typeof,o===lt){t.tag=11,t=R_(null,t,s,e,i);break e}else if(o===gt){t.tag=14,t=D_(null,t,s,e,i);break e}}throw t=hi(s)||s,Error(r(306,t,""))}}return t;case 0:return ku(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,o=Ni(s,t.pendingProps),z_(e,t,s,o,i);case 3:e:{if(Ae(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var c=t.memoizedState;o=c.element,mu(e,t),ga(t,s,null,i);var d=t.memoizedState;if(s=d.cache,Mn(t,Be,s),s!==c.cache&&uu(t,[Be],i,!0),ma(),s=d.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=U_(e,t,s,i);break e}else if(s!==o){o=Mt(Error(r(424)),t),oa(o),t=U_(e,t,s,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Oe=Yt(e.firstChild),at=t,fe=!0,Si=null,Zt=!0,i=p_(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ra(),s===o){t=_n(e,t,i);break e}Pe(e,t,s,i)}t=t.child}return t;case 26:return rr(e,t),e===null?(i=Ym(t.type,null,t.pendingProps,null))?t.memoizedState=i:fe||(i=t.type,e=t.pendingProps,s=Er(P.current).createElement(i),s[tt]=t,s[ot]=e,Je(s,i,e),qe(s),t.stateNode=s):t.memoizedState=Ym(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return So(t),e===null&&fe&&(s=t.stateNode=jm(t.type,t.pendingProps,P.current),at=t,Zt=!0,o=Oe,Xn(t.type)?(wc=o,Oe=Yt(s.firstChild)):Oe=o),Pe(e,t,t.pendingProps.children,i),rr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&fe&&((o=s=Oe)&&(s=Eb(s,t.type,t.pendingProps,Zt),s!==null?(t.stateNode=s,at=t,Oe=Yt(s.firstChild),Zt=!1,o=!0):o=!1),o||Ei(t)),So(t),o=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,s=c.children,Ec(o,c)?s=null:d!==null&&Ec(o,d)&&(t.flags|=32),t.memoizedState!==null&&(o=Su(e,t,j0,null,null,i),Ba._currentValue=o),rr(e,t),Pe(e,t,s,i),t.child;case 6:return e===null&&fe&&((e=i=Oe)&&(i=Tb(i,t.pendingProps,Zt),i!==null?(t.stateNode=i,at=t,Oe=null,e=!0):e=!1),e||Ei(t)),null;case 13:return L_(e,t,i);case 4:return Ae(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ml(t,null,s,i):Pe(e,t,s,i),t.child;case 11:return R_(e,t,t.type,t.pendingProps,i);case 7:return Pe(e,t,t.pendingProps,i),t.child;case 8:return Pe(e,t,t.pendingProps.children,i),t.child;case 12:return Pe(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,Mn(t,t.type,s.value),Pe(e,t,s.children,i),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,Ci(t),o=nt(o),s=s(o),t.flags|=1,Pe(e,t,s,i),t.child;case 14:return D_(e,t,t.type,t.pendingProps,i);case 15:return O_(e,t,t.type,t.pendingProps,i);case 19:return B_(e,t,i);case 31:return s=t.pendingProps,i=t.mode,s={mode:s.mode,children:s.children},e===null?(i=or(s,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=rn(e.child,s),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return M_(e,t,i);case 24:return Ci(t),s=nt(Be),e===null?(o=hu(),o===null&&(o=Se,c=cu(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=i),o=c),t.memoizedState={parent:s,cache:o},_u(t),Mn(t,Be,o)):((e.lanes&i)!==0&&(mu(e,t),ga(t,null,null,i),ma()),o=e.memoizedState,c=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Mn(t,Be,s)):(s=c.cache,Mn(t,Be,s),s!==o.cache&&uu(t,[Be],i,!0))),Pe(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function mn(e){e.flags|=4}function j_(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fm(t)){if(t=Ut.current,t!==null&&((se&4194048)===se?Pt!==null:(se&62914560)!==se&&(se&536870912)===0||t!==Pt))throw da=du,Td;e.flags|=8192}}function ur(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?yh():536870912,e.lanes|=t,vl|=t)}function Ta(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function Z0(e,t,i){var s=t.pendingProps;switch(au(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Ne(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),fn(Be),Nn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(sa(t)?mn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,yd())),Ne(t),null;case 26:return i=t.memoizedState,e===null?(mn(t),i!==null?(Ne(t),j_(t,i)):(Ne(t),t.flags&=-16777217)):i?i!==e.memoizedState?(mn(t),Ne(t),j_(t,i)):(Ne(t),t.flags&=-16777217):(e.memoizedProps!==s&&mn(t),Ne(t),t.flags&=-16777217),null;case 27:bs(t),i=P.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&mn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ne(t),null}e=Y.current,sa(t)?gd(t):(e=jm(o,s,i),t.stateNode=e,mn(t))}return Ne(t),null;case 5:if(bs(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&mn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ne(t),null}if(e=Y.current,sa(t))gd(t);else{switch(o=Er(P.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?o.createElement("select",{is:s.is}):o.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?o.createElement(i,{is:s.is}):o.createElement(i)}}e[tt]=t,e[ot]=s;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(Je(e,i,s),i){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&mn(t)}}return Ne(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&mn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=P.current,sa(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,o=at,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[tt]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Im(e.nodeValue,i)),e||Ei(t)}else e=Er(e).createTextNode(s),e[tt]=t,t.stateNode=e}return Ne(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=sa(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[tt]=t}else ra(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ne(t),o=!1}else o=yd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(dn(t),t):(dn(t),null)}if(dn(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=s!==null,e=e!==null&&e.memoizedState!==null,i){s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool);var c=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),ur(t,t.updateQueue),Ne(t),null;case 4:return Nn(),e===null&&pc(t.stateNode.containerInfo),Ne(t),null;case 10:return fn(t.type),Ne(t),null;case 19:if(k(ke),o=t.memoizedState,o===null)return Ne(t),null;if(s=(t.flags&128)!==0,c=o.rendering,c===null)if(s)Ta(o,!1);else{if(Me!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=lr(e),c!==null){for(t.flags|=128,Ta(o,!1),e=c.updateQueue,t.updateQueue=e,ur(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)_d(i,e),i=i.sibling;return H(ke,ke.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ft()>hr&&(t.flags|=128,s=!0,Ta(o,!1),t.lanes=4194304)}else{if(!s)if(e=lr(c),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,ur(t,e),Ta(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!fe)return Ne(t),null}else 2*Ft()-o.renderingStartTime>hr&&i!==536870912&&(t.flags|=128,s=!0,Ta(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(e=o.last,e!==null?e.sibling=c:t.child=c,o.last=c)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ft(),t.sibling=null,e=ke.current,H(ke,s?e&1|2:e&1),t):(Ne(t),null);case 22:case 23:return dn(t),vu(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),i=t.updateQueue,i!==null&&ur(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&k(Ai),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),fn(Be),Ne(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function P0(e,t){switch(au(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fn(Be),Nn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return bs(t),null;case 13:if(dn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ra()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return k(ke),null;case 4:return Nn(),null;case 10:return fn(t.type),null;case 22:case 23:return dn(t),vu(),e!==null&&k(Ai),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fn(Be),null;case 25:return null;default:return null}}function q_(e,t){switch(au(t),t.tag){case 3:fn(Be),Nn();break;case 26:case 27:case 5:bs(t);break;case 4:Nn();break;case 13:dn(t);break;case 19:k(ke);break;case 10:fn(t.type);break;case 22:case 23:dn(t),vu(),e!==null&&k(Ai);break;case 24:fn(Be)}}function Ca(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var o=s.next;i=o;do{if((i.tag&e)===e){s=void 0;var c=i.create,d=i.inst;s=c(),d.destroy=s}i=i.next}while(i!==o)}}catch(p){ve(t,t.return,p)}}function Bn(e,t,i){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){var d=s.inst,p=d.destroy;if(p!==void 0){d.destroy=void 0,o=t;var y=i,w=p;try{w()}catch(D){ve(o,y,D)}}}s=s.next}while(s!==c)}}catch(D){ve(t,t.return,D)}}function G_(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Dd(t,i)}catch(s){ve(e,e.return,s)}}}function Y_(e,t,i){i.props=Ni(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){ve(e,t,s)}}function Aa(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(o){ve(e,t,o)}}function Wt(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(o){ve(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){ve(e,t,o)}else i.current=null}function V_(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(o){ve(e,e.return,o)}}function Ku(e,t,i){try{var s=e.stateNode;pb(s,e.type,i,t),s[ot]=t}catch(o){ve(e,e.return,o)}}function Q_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xn(e.type)||e.tag===4}function Fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Q_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zu(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Sr));else if(s!==4&&(s===27&&Xn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Zu(e,t,i),e=e.sibling;e!==null;)Zu(e,t,i),e=e.sibling}function cr(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&Xn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(cr(e,t,i),e=e.sibling;e!==null;)cr(e,t,i),e=e.sibling}function X_(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Je(t,s,i),t[tt]=e,t[ot]=i}catch(c){ve(e,e.return,c)}}var gn=!1,ze=!1,Pu=!1,K_=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function W0(e,t){if(e=e.containerInfo,bc=Rr,e=ld(e),Fo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var o=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,p=-1,y=-1,w=0,D=0,x=e,N=null;t:for(;;){for(var R;x!==i||o!==0&&x.nodeType!==3||(p=d+o),x!==c||s!==0&&x.nodeType!==3||(y=d+s),x.nodeType===3&&(d+=x.nodeValue.length),(R=x.firstChild)!==null;)N=x,x=R;for(;;){if(x===e)break t;if(N===i&&++w===o&&(p=d),N===c&&++D===s&&(y=d),(R=x.nextSibling)!==null)break;x=N,N=x.parentNode}x=R}i=p===-1||y===-1?null:{start:p,end:y}}else i=null}i=i||{start:0,end:0}}else i=null;for(Sc={focusedElem:e,selectionRange:i},Rr=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){switch(t=Ye,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,o=c.memoizedProps,c=c.memoizedState,s=i.stateNode;try{var F=Ni(i.type,o,i.elementType===i.type);e=s.getSnapshotBeforeUpdate(F,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(V){ve(i,i.return,V)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Cc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}}function F_(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:kn(e,i),s&4&&Ca(5,i);break;case 1:if(kn(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){ve(i,i.return,d)}else{var o=Ni(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){ve(i,i.return,d)}}s&64&&G_(i),s&512&&Aa(i,i.return);break;case 3:if(kn(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Dd(e,t)}catch(d){ve(i,i.return,d)}}break;case 27:t===null&&s&4&&X_(i);case 26:case 5:kn(e,i),t===null&&s&4&&V_(i),s&512&&Aa(i,i.return);break;case 12:kn(e,i);break;case 13:kn(e,i),s&4&&W_(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=sb.bind(null,i),Cb(e,i))));break;case 22:if(s=i.memoizedState!==null||gn,!s){t=t!==null&&t.memoizedState!==null||ze,o=gn;var c=ze;gn=s,(ze=t)&&!c?jn(e,i,(i.subtreeFlags&8772)!==0):kn(e,i),gn=o,ze=c}break;case 30:break;default:kn(e,i)}}function Z_(e){var t=e.alternate;t!==null&&(e.alternate=null,Z_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Do(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var we=null,ft=!1;function pn(e,t,i){for(i=i.child;i!==null;)P_(e,t,i),i=i.sibling}function P_(e,t,i){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Xl,i)}catch{}switch(i.tag){case 26:ze||Wt(i,t),pn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ze||Wt(i,t);var s=we,o=ft;Xn(i.type)&&(we=i.stateNode,ft=!1),pn(e,t,i),za(i.stateNode),we=s,ft=o;break;case 5:ze||Wt(i,t);case 6:if(s=we,o=ft,we=null,pn(e,t,i),we=s,ft=o,we!==null)if(ft)try{(we.nodeType===9?we.body:we.nodeName==="HTML"?we.ownerDocument.body:we).removeChild(i.stateNode)}catch(c){ve(i,t,c)}else try{we.removeChild(i.stateNode)}catch(c){ve(i,t,c)}break;case 18:we!==null&&(ft?(e=we,Bm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ga(e)):Bm(we,i.stateNode));break;case 4:s=we,o=ft,we=i.stateNode.containerInfo,ft=!0,pn(e,t,i),we=s,ft=o;break;case 0:case 11:case 14:case 15:ze||Bn(2,i,t),ze||Bn(4,i,t),pn(e,t,i);break;case 1:ze||(Wt(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Y_(i,t,s)),pn(e,t,i);break;case 21:pn(e,t,i);break;case 22:ze=(s=ze)||i.memoizedState!==null,pn(e,t,i),ze=s;break;default:pn(e,t,i)}}function W_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(i){ve(t,t.return,i)}}function J0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new K_),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new K_),t;default:throw Error(r(435,e.tag))}}function Wu(e,t){var i=J0(e);t.forEach(function(s){var o=rb.bind(null,e,s);i.has(s)||(i.add(s),s.then(o,o))})}function Tt(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var o=i[s],c=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 27:if(Xn(p.type)){we=p.stateNode,ft=!1;break e}break;case 5:we=p.stateNode,ft=!1;break e;case 3:case 4:we=p.stateNode.containerInfo,ft=!0;break e}p=p.return}if(we===null)throw Error(r(160));P_(c,d,o),we=null,ft=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)J_(t,e),t=t.sibling}var Gt=null;function J_(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),Ct(e),s&4&&(Bn(3,e,e.return),Ca(3,e),Bn(5,e,e.return));break;case 1:Tt(t,e),Ct(e),s&512&&(ze||i===null||Wt(i,i.return)),s&64&&gn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var o=Gt;if(Tt(t,e),Ct(e),s&512&&(ze||i===null||Wt(i,i.return)),s&4){var c=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Zl]||c[tt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(s),o.head.insertBefore(c,o.querySelector("head > title"))),Je(c,s,i),c[tt]=e,qe(c),s=c;break e;case"link":var d=Xm("link","href",o).get(s+(i.href||""));if(d){for(var p=0;p<d.length;p++)if(c=d[p],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(p,1);break t}}c=o.createElement(s),Je(c,s,i),o.head.appendChild(c);break;case"meta":if(d=Xm("meta","content",o).get(s+(i.content||""))){for(p=0;p<d.length;p++)if(c=d[p],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(p,1);break t}}c=o.createElement(s),Je(c,s,i),o.head.appendChild(c);break;default:throw Error(r(468,s))}c[tt]=e,qe(c),s=c}e.stateNode=s}else Km(o,e.type,e.stateNode);else e.stateNode=Qm(o,s,e.memoizedProps);else c!==s?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,s===null?Km(o,e.type,e.stateNode):Qm(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Ku(e,e.memoizedProps,i.memoizedProps)}break;case 27:Tt(t,e),Ct(e),s&512&&(ze||i===null||Wt(i,i.return)),i!==null&&s&4&&Ku(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Tt(t,e),Ct(e),s&512&&(ze||i===null||Wt(i,i.return)),e.flags&32){o=e.stateNode;try{Wi(o,"")}catch(R){ve(e,e.return,R)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Ku(e,o,i!==null?i.memoizedProps:o)),s&1024&&(Pu=!0);break;case 6:if(Tt(t,e),Ct(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(R){ve(e,e.return,R)}}break;case 3:if(Ar=null,o=Gt,Gt=Tr(t.containerInfo),Tt(t,e),Gt=o,Ct(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Ga(t.containerInfo)}catch(R){ve(e,e.return,R)}Pu&&(Pu=!1,$_(e));break;case 4:s=Gt,Gt=Tr(e.stateNode.containerInfo),Tt(t,e),Ct(e),Gt=s;break;case 12:Tt(t,e),Ct(e);break;case 13:Tt(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ic=Ft()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Wu(e,s)));break;case 22:o=e.memoizedState!==null;var y=i!==null&&i.memoizedState!==null,w=gn,D=ze;if(gn=w||o,ze=D||y,Tt(t,e),ze=D,gn=w,Ct(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||y||gn||ze||Ri(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){y=i=t;try{if(c=y.stateNode,o)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{p=y.stateNode;var x=y.memoizedProps.style,N=x!=null&&x.hasOwnProperty("display")?x.display:null;p.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(R){ve(y,y.return,R)}}}else if(t.tag===6){if(i===null){y=t;try{y.stateNode.nodeValue=o?"":y.memoizedProps}catch(R){ve(y,y.return,R)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Wu(e,i))));break;case 19:Tt(t,e),Ct(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Wu(e,s)));break;case 30:break;case 21:break;default:Tt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(Q_(s)){i=s;break}s=s.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,c=Fu(e);cr(e,c,o);break;case 5:var d=i.stateNode;i.flags&32&&(Wi(d,""),i.flags&=-33);var p=Fu(e);cr(e,p,d);break;case 3:case 4:var y=i.stateNode.containerInfo,w=Fu(e);Zu(e,w,y);break;default:throw Error(r(161))}}catch(D){ve(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;$_(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function kn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)F_(e,t.alternate,t),t=t.sibling}function Ri(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bn(4,t,t.return),Ri(t);break;case 1:Wt(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Y_(t,t.return,i),Ri(t);break;case 27:za(t.stateNode);case 26:case 5:Wt(t,t.return),Ri(t);break;case 22:t.memoizedState===null&&Ri(t);break;case 30:Ri(t);break;default:Ri(t)}e=e.sibling}}function jn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:jn(o,c,i),Ca(4,c);break;case 1:if(jn(o,c,i),s=c,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(w){ve(s,s.return,w)}if(s=c,o=s.updateQueue,o!==null){var p=s.stateNode;try{var y=o.shared.hiddenCallbacks;if(y!==null)for(o.shared.hiddenCallbacks=null,o=0;o<y.length;o++)Rd(y[o],p)}catch(w){ve(s,s.return,w)}}i&&d&64&&G_(c),Aa(c,c.return);break;case 27:X_(c);case 26:case 5:jn(o,c,i),i&&s===null&&d&4&&V_(c),Aa(c,c.return);break;case 12:jn(o,c,i);break;case 13:jn(o,c,i),i&&d&4&&W_(o,c);break;case 22:c.memoizedState===null&&jn(o,c,i),Aa(c,c.return);break;case 30:break;default:jn(o,c,i)}t=t.sibling}}function Ju(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ca(i))}function $u(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ca(e))}function Jt(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)em(e,t,i,s),t=t.sibling}function em(e,t,i,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Jt(e,t,i,s),o&2048&&Ca(9,t);break;case 1:Jt(e,t,i,s);break;case 3:Jt(e,t,i,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ca(e)));break;case 12:if(o&2048){Jt(e,t,i,s),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,p=c.onPostCommit;typeof p=="function"&&p(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(y){ve(t,t.return,y)}}else Jt(e,t,i,s);break;case 13:Jt(e,t,i,s);break;case 23:break;case 22:c=t.stateNode,d=t.alternate,t.memoizedState!==null?c._visibility&2?Jt(e,t,i,s):wa(e,t):c._visibility&2?Jt(e,t,i,s):(c._visibility|=2,gl(e,t,i,s,(t.subtreeFlags&10256)!==0)),o&2048&&Ju(d,t);break;case 24:Jt(e,t,i,s),o&2048&&$u(t.alternate,t);break;default:Jt(e,t,i,s)}}function gl(e,t,i,s,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,d=t,p=i,y=s,w=d.flags;switch(d.tag){case 0:case 11:case 15:gl(c,d,p,y,o),Ca(8,d);break;case 23:break;case 22:var D=d.stateNode;d.memoizedState!==null?D._visibility&2?gl(c,d,p,y,o):wa(c,d):(D._visibility|=2,gl(c,d,p,y,o)),o&&w&2048&&Ju(d.alternate,d);break;case 24:gl(c,d,p,y,o),o&&w&2048&&$u(d.alternate,d);break;default:gl(c,d,p,y,o)}t=t.sibling}}function wa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,o=s.flags;switch(s.tag){case 22:wa(i,s),o&2048&&Ju(s.alternate,s);break;case 24:wa(i,s),o&2048&&$u(s.alternate,s);break;default:wa(i,s)}t=t.sibling}}var Na=8192;function pl(e){if(e.subtreeFlags&Na)for(e=e.child;e!==null;)tm(e),e=e.sibling}function tm(e){switch(e.tag){case 26:pl(e),e.flags&Na&&e.memoizedState!==null&&Hb(Gt,e.memoizedState,e.memoizedProps);break;case 5:pl(e);break;case 3:case 4:var t=Gt;Gt=Tr(e.stateNode.containerInfo),pl(e),Gt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Na,Na=16777216,pl(e),Na=t):pl(e));break;default:pl(e)}}function nm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ra(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];Ye=s,lm(s,e)}nm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)im(e),e=e.sibling}function im(e){switch(e.tag){case 0:case 11:case 15:Ra(e),e.flags&2048&&Bn(9,e,e.return);break;case 3:Ra(e);break;case 12:Ra(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fr(e)):Ra(e);break;default:Ra(e)}}function fr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];Ye=s,lm(s,e)}nm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bn(8,t,t.return),fr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,fr(t));break;default:fr(t)}e=e.sibling}}function lm(e,t){for(;Ye!==null;){var i=Ye;switch(i.tag){case 0:case 11:case 15:Bn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ca(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,Ye=s;else e:for(i=e;Ye!==null;){s=Ye;var o=s.sibling,c=s.return;if(Z_(s),s===i){Ye=null;break e}if(o!==null){o.return=c,Ye=o;break e}Ye=c}}}var $0={getCacheForType:function(e){var t=nt(Be),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},eb=typeof WeakMap=="function"?WeakMap:Map,he=0,Se=null,ie=null,se=0,de=0,At=null,qn=!1,yl=!1,ec=!1,yn=0,Me=0,Gn=0,Di=0,tc=0,Lt=0,vl=0,Da=null,ht=null,nc=!1,ic=0,hr=1/0,dr=null,Yn=null,We=0,Vn=null,bl=null,Sl=0,lc=0,ac=null,am=null,Oa=0,sc=null;function wt(){if((he&2)!==0&&se!==0)return se&-se;if(O.T!==null){var e=ol;return e!==0?e:dc()}return Sh()}function sm(){Lt===0&&(Lt=(se&536870912)===0||fe?ph():536870912);var e=Ut.current;return e!==null&&(e.flags|=32),Lt}function Nt(e,t,i){(e===Se&&(de===2||de===9)||e.cancelPendingCommit!==null)&&(El(e,0),Qn(e,se,Lt,!1)),Fl(e,i),((he&2)===0||e!==Se)&&(e===Se&&((he&2)===0&&(Di|=i),Me===4&&Qn(e,se,Lt,!1)),$t(e))}function rm(e,t,i){if((he&6)!==0)throw Error(r(327));var s=!i&&(t&124)===0&&(t&e.expiredLanes)===0||Kl(e,t),o=s?ib(e,t):uc(e,t,!0),c=s;do{if(o===0){yl&&!s&&Qn(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!tb(i)){o=uc(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var p=e;o=Da;var y=p.current.memoizedState.isDehydrated;if(y&&(El(p,d).flags|=256),d=uc(p,d,!1),d!==2){if(ec&&!y){p.errorRecoveryDisabledLanes|=c,Di|=c,o=4;break e}c=ht,ht=o,c!==null&&(ht===null?ht=c:ht.push.apply(ht,c))}o=d}if(c=!1,o!==2)continue}}if(o===1){El(e,0),Qn(e,t,0,!0);break}e:{switch(s=e,c=o,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Qn(s,t,Lt,!qn);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=ic+300-Ft(),10<o)){if(Qn(s,t,Lt,!qn),Cs(s,0,!0)!==0)break e;s.timeoutHandle=Lm(om.bind(null,s,i,ht,dr,nc,t,Lt,Di,vl,qn,c,2,-0,0),o);break e}om(s,i,ht,dr,nc,t,Lt,Di,vl,qn,c,0,-0,0)}}break}while(!0);$t(e)}function om(e,t,i,s,o,c,d,p,y,w,D,x,N,R){if(e.timeoutHandle=-1,x=t.subtreeFlags,(x&8192||(x&16785408)===16785408)&&(Ha={stylesheets:null,count:0,unsuspend:Lb},tm(t),x=Bb(),x!==null)){e.cancelPendingCommit=x(mm.bind(null,e,t,c,i,s,o,d,p,y,D,1,N,R)),Qn(e,c,d,!w);return}mm(e,t,c,i,s,o,d,p,y)}function tb(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var o=i[s],c=o.getSnapshot;o=o.value;try{if(!St(c(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t,i,s){t&=~tc,t&=~Di,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var c=31-bt(o),d=1<<c;s[c]=-1,o&=~d}i!==0&&vh(e,i,t)}function _r(){return(he&6)===0?(Ma(0),!1):!0}function rc(){if(ie!==null){if(de===0)var e=ie.return;else e=ie,cn=Ti=null,Cu(e),_l=null,Sa=0,e=ie;for(;e!==null;)q_(e.alternate,e),e=e.return;ie=null}}function El(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,vb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),rc(),Se=e,ie=i=rn(e.current,null),se=t,de=0,At=null,qn=!1,yl=Kl(e,t),ec=!1,vl=Lt=tc=Di=Gn=Me=0,ht=Da=null,nc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-bt(s),c=1<<o;t|=e[o],s&=~c}return yn=t,Ls(),i}function um(e,t){J=null,O.H=tr,t===ha||t===Qs?(t=wd(),de=3):t===Td?(t=wd(),de=4):de=t===N_?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,ie===null&&(Me=1,sr(e,Mt(t,e.current)))}function cm(){var e=O.H;return O.H=tr,e===null?tr:e}function fm(){var e=O.A;return O.A=$0,e}function oc(){Me=4,qn||(se&4194048)!==se&&Ut.current!==null||(yl=!0),(Gn&134217727)===0&&(Di&134217727)===0||Se===null||Qn(Se,se,Lt,!1)}function uc(e,t,i){var s=he;he|=2;var o=cm(),c=fm();(Se!==e||se!==t)&&(dr=null,El(e,t)),t=!1;var d=Me;e:do try{if(de!==0&&ie!==null){var p=ie,y=At;switch(de){case 8:rc(),d=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(t=!0);var w=de;if(de=0,At=null,Tl(e,p,y,w),i&&yl){d=0;break e}break;default:w=de,de=0,At=null,Tl(e,p,y,w)}}nb(),d=Me;break}catch(D){um(e,D)}while(!0);return t&&e.shellSuspendCounter++,cn=Ti=null,he=s,O.H=o,O.A=c,ie===null&&(Se=null,se=0,Ls()),d}function nb(){for(;ie!==null;)hm(ie)}function ib(e,t){var i=he;he|=2;var s=cm(),o=fm();Se!==e||se!==t?(dr=null,hr=Ft()+500,El(e,t)):yl=Kl(e,t);e:do try{if(de!==0&&ie!==null){t=ie;var c=At;t:switch(de){case 1:de=0,At=null,Tl(e,t,c,1);break;case 2:case 9:if(Cd(c)){de=0,At=null,dm(t);break}t=function(){de!==2&&de!==9||Se!==e||(de=7),$t(e)},c.then(t,t);break e;case 3:de=7;break e;case 4:de=5;break e;case 7:Cd(c)?(de=0,At=null,dm(t)):(de=0,At=null,Tl(e,t,c,7));break;case 5:var d=null;switch(ie.tag){case 26:d=ie.memoizedState;case 5:case 27:var p=ie;if(!d||Fm(d)){de=0,At=null;var y=p.sibling;if(y!==null)ie=y;else{var w=p.return;w!==null?(ie=w,mr(w)):ie=null}break t}}de=0,At=null,Tl(e,t,c,5);break;case 6:de=0,At=null,Tl(e,t,c,6);break;case 8:rc(),Me=6;break e;default:throw Error(r(462))}}lb();break}catch(D){um(e,D)}while(!0);return cn=Ti=null,O.H=s,O.A=o,he=i,ie!==null?0:(Se=null,se=0,Ls(),Me)}function lb(){for(;ie!==null&&!wv();)hm(ie)}function hm(e){var t=k_(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?mr(e):ie=t}function dm(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=I_(i,t,t.pendingProps,t.type,void 0,se);break;case 11:t=I_(i,t,t.pendingProps,t.type.render,t.ref,se);break;case 5:Cu(t);default:q_(i,t),t=ie=_d(t,yn),t=k_(i,t,yn)}e.memoizedProps=e.pendingProps,t===null?mr(e):ie=t}function Tl(e,t,i,s){cn=Ti=null,Cu(t),_l=null,Sa=0;var o=t.return;try{if(K0(e,o,t,i,se)){Me=1,sr(e,Mt(i,e.current)),ie=null;return}}catch(c){if(o!==null)throw ie=o,c;Me=1,sr(e,Mt(i,e.current)),ie=null;return}t.flags&32768?(fe||s===1?e=!0:yl||(se&536870912)!==0?e=!1:(qn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ut.current,s!==null&&s.tag===13&&(s.flags|=16384))),_m(t,e)):mr(t)}function mr(e){var t=e;do{if((t.flags&32768)!==0){_m(t,qn);return}e=t.return;var i=Z0(t.alternate,t,yn);if(i!==null){ie=i;return}if(t=t.sibling,t!==null){ie=t;return}ie=t=e}while(t!==null);Me===0&&(Me=5)}function _m(e,t){do{var i=P0(e.alternate,e);if(i!==null){i.flags&=32767,ie=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ie=e;return}ie=e=i}while(e!==null);Me=6,ie=null}function mm(e,t,i,s,o,c,d,p,y){e.cancelPendingCommit=null;do gr();while(We!==0);if((he&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=$o,Lv(e,i,c,d,p,y),e===Se&&(ie=Se=null,se=0),bl=t,Vn=e,Sl=i,lc=c,ac=o,am=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ob(Ss,function(){return bm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=O.T,O.T=null,o=B.p,B.p=2,d=he,he|=4;try{W0(e,t,i)}finally{he=d,B.p=o,O.T=s}}We=1,gm(),pm(),ym()}}function gm(){if(We===1){We=0;var e=Vn,t=bl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=O.T,O.T=null;var s=B.p;B.p=2;var o=he;he|=4;try{J_(t,e);var c=Sc,d=ld(e.containerInfo),p=c.focusedElem,y=c.selectionRange;if(d!==p&&p&&p.ownerDocument&&id(p.ownerDocument.documentElement,p)){if(y!==null&&Fo(p)){var w=y.start,D=y.end;if(D===void 0&&(D=w),"selectionStart"in p)p.selectionStart=w,p.selectionEnd=Math.min(D,p.value.length);else{var x=p.ownerDocument||document,N=x&&x.defaultView||window;if(N.getSelection){var R=N.getSelection(),F=p.textContent.length,V=Math.min(y.start,F),pe=y.end===void 0?V:Math.min(y.end,F);!R.extend&&V>pe&&(d=pe,pe=V,V=d);var C=nd(p,V),E=nd(p,pe);if(C&&E&&(R.rangeCount!==1||R.anchorNode!==C.node||R.anchorOffset!==C.offset||R.focusNode!==E.node||R.focusOffset!==E.offset)){var A=x.createRange();A.setStart(C.node,C.offset),R.removeAllRanges(),V>pe?(R.addRange(A),R.extend(E.node,E.offset)):(A.setEnd(E.node,E.offset),R.addRange(A))}}}}for(x=[],R=p;R=R.parentNode;)R.nodeType===1&&x.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<x.length;p++){var M=x[p];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}Rr=!!bc,Sc=bc=null}finally{he=o,B.p=s,O.T=i}}e.current=t,We=2}}function pm(){if(We===2){We=0;var e=Vn,t=bl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=O.T,O.T=null;var s=B.p;B.p=2;var o=he;he|=4;try{F_(e,t.alternate,t)}finally{he=o,B.p=s,O.T=i}}We=3}}function ym(){if(We===4||We===3){We=0,Nv();var e=Vn,t=bl,i=Sl,s=am;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,bl=Vn=null,vm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Yn=null),No(i),t=t.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Xl,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=O.T,o=B.p,B.p=2,O.T=null;try{for(var c=e.onRecoverableError,d=0;d<s.length;d++){var p=s[d];c(p.value,{componentStack:p.stack})}}finally{O.T=t,B.p=o}}(Sl&3)!==0&&gr(),$t(e),o=e.pendingLanes,(i&4194090)!==0&&(o&42)!==0?e===sc?Oa++:(Oa=0,sc=e):Oa=0,Ma(0)}}function vm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ca(t)))}function gr(e){return gm(),pm(),ym(),bm()}function bm(){if(We!==5)return!1;var e=Vn,t=lc;lc=0;var i=No(Sl),s=O.T,o=B.p;try{B.p=32>i?32:i,O.T=null,i=ac,ac=null;var c=Vn,d=Sl;if(We=0,bl=Vn=null,Sl=0,(he&6)!==0)throw Error(r(331));var p=he;if(he|=4,im(c.current),em(c,c.current,d,i),he=p,Ma(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Xl,c)}catch{}return!0}finally{B.p=o,O.T=s,vm(e,t)}}function Sm(e,t,i){t=Mt(i,t),t=Bu(e.stateNode,t,2),e=zn(e,t,2),e!==null&&(Fl(e,2),$t(e))}function ve(e,t,i){if(e.tag===3)Sm(e,e,i);else for(;t!==null;){if(t.tag===3){Sm(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Yn===null||!Yn.has(s))){e=Mt(i,e),i=A_(2),s=zn(t,i,2),s!==null&&(w_(i,s,t,e),Fl(s,2),$t(s));break}}t=t.return}}function cc(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new eb;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(i)||(ec=!0,o.add(i),e=ab.bind(null,e,t,i),t.then(e,e))}function ab(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Se===e&&(se&i)===i&&(Me===4||Me===3&&(se&62914560)===se&&300>Ft()-ic?(he&2)===0&&El(e,0):tc|=i,vl===se&&(vl=0)),$t(e)}function Em(e,t){t===0&&(t=yh()),e=ll(e,t),e!==null&&(Fl(e,t),$t(e))}function sb(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Em(e,i)}function rb(e,t){var i=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),Em(e,i)}function ob(e,t){return To(e,t)}var pr=null,Cl=null,fc=!1,yr=!1,hc=!1,Oi=0;function $t(e){e!==Cl&&e.next===null&&(Cl===null?pr=Cl=e:Cl=Cl.next=e),yr=!0,fc||(fc=!0,cb())}function Ma(e,t){if(!hc&&yr){hc=!0;do for(var i=!1,s=pr;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var c=0;else{var d=s.suspendedLanes,p=s.pingedLanes;c=(1<<31-bt(42|e)+1)-1,c&=o&~(d&~p),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,wm(s,c))}else c=se,c=Cs(s,s===Se?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||Kl(s,c)||(i=!0,wm(s,c));s=s.next}while(i);hc=!1}}function ub(){Tm()}function Tm(){yr=fc=!1;var e=0;Oi!==0&&(yb()&&(e=Oi),Oi=0);for(var t=Ft(),i=null,s=pr;s!==null;){var o=s.next,c=Cm(s,t);c===0?(s.next=null,i===null?pr=o:i.next=o,o===null&&(Cl=i)):(i=s,(e!==0||(c&3)!==0)&&(yr=!0)),s=o}Ma(e)}function Cm(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-bt(c),p=1<<d,y=o[d];y===-1?((p&i)===0||(p&s)!==0)&&(o[d]=Uv(p,t)):y<=t&&(e.expiredLanes|=p),c&=~p}if(t=Se,i=se,i=Cs(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(de===2||de===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Co(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Kl(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&Co(s),No(i)){case 2:case 8:i=mh;break;case 32:i=Ss;break;case 268435456:i=gh;break;default:i=Ss}return s=Am.bind(null,e),i=To(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&Co(s),e.callbackPriority=2,e.callbackNode=null,2}function Am(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(gr()&&e.callbackNode!==i)return null;var s=se;return s=Cs(e,e===Se?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(rm(e,s,t),Cm(e,Ft()),e.callbackNode!=null&&e.callbackNode===i?Am.bind(null,e):null)}function wm(e,t){if(gr())return null;rm(e,t,!0)}function cb(){bb(function(){(he&6)!==0?To(_h,ub):Tm()})}function dc(){return Oi===0&&(Oi=ph()),Oi}function Nm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ds(""+e)}function Rm(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function fb(e,t,i,s,o){if(t==="submit"&&i&&i.stateNode===o){var c=Nm((o[ot]||null).action),d=s.submitter;d&&(t=(t=d[ot]||null)?Nm(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var p=new Is("action","action",null,s,o);e.push({event:p,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Oi!==0){var y=d?Rm(o,d):new FormData(o);Iu(i,{pending:!0,data:y,method:o.method,action:c},null,y)}}else typeof c=="function"&&(p.preventDefault(),y=d?Rm(o,d):new FormData(o),Iu(i,{pending:!0,data:y,method:o.method,action:c},c,y))},currentTarget:o}]})}}for(var _c=0;_c<Jo.length;_c++){var mc=Jo[_c],hb=mc.toLowerCase(),db=mc[0].toUpperCase()+mc.slice(1);qt(hb,"on"+db)}qt(rd,"onAnimationEnd"),qt(od,"onAnimationIteration"),qt(ud,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(O0,"onTransitionRun"),qt(M0,"onTransitionStart"),qt(x0,"onTransitionCancel"),qt(cd,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_b=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xa));function Dm(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],o=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var d=s.length-1;0<=d;d--){var p=s[d],y=p.instance,w=p.currentTarget;if(p=p.listener,y!==c&&o.isPropagationStopped())break e;c=p,o.currentTarget=w;try{c(o)}catch(D){ar(D)}o.currentTarget=null,c=y}else for(d=0;d<s.length;d++){if(p=s[d],y=p.instance,w=p.currentTarget,p=p.listener,y!==c&&o.isPropagationStopped())break e;c=p,o.currentTarget=w;try{c(o)}catch(D){ar(D)}o.currentTarget=null,c=y}}}}function le(e,t){var i=t[Ro];i===void 0&&(i=t[Ro]=new Set);var s=e+"__bubble";i.has(s)||(Om(t,e,2,!1),i.add(s))}function gc(e,t,i){var s=0;t&&(s|=4),Om(i,e,s,t)}var vr="_reactListening"+Math.random().toString(36).slice(2);function pc(e){if(!e[vr]){e[vr]=!0,Th.forEach(function(i){i!=="selectionchange"&&(_b.has(i)||gc(i,!1,e),gc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vr]||(t[vr]=!0,gc("selectionchange",!1,t))}}function Om(e,t,i,s){switch(eg(t)){case 2:var o=qb;break;case 8:o=Gb;break;default:o=Mc}i=o.bind(null,t,i,e),o=void 0,!ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function yc(e,t,i,s,o){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var p=s.stateNode.containerInfo;if(p===o)break;if(d===4)for(d=s.return;d!==null;){var y=d.tag;if((y===3||y===4)&&d.stateNode.containerInfo===o)return;d=d.return}for(;p!==null;){if(d=Qi(p),d===null)return;if(y=d.tag,y===5||y===6||y===26||y===27){s=c=d;continue e}p=p.parentNode}}s=s.return}Hh(function(){var w=c,D=Ho(i),x=[];e:{var N=fd.get(e);if(N!==void 0){var R=Is,F=e;switch(e){case"keypress":if(Ms(i)===0)break e;case"keydown":case"keyup":R=o0;break;case"focusin":F="focus",R=Yo;break;case"focusout":F="blur",R=Yo;break;case"beforeblur":case"afterblur":R=Yo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Pv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=f0;break;case rd:case od:case ud:R=$v;break;case cd:R=d0;break;case"scroll":case"scrollend":R=Fv;break;case"wheel":R=m0;break;case"copy":case"cut":case"paste":R=t0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Gh;break;case"toggle":case"beforetoggle":R=p0}var V=(t&4)!==0,pe=!V&&(e==="scroll"||e==="scrollend"),C=V?N!==null?N+"Capture":null:N;V=[];for(var E=w,A;E!==null;){var M=E;if(A=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||A===null||C===null||(M=Wl(E,C),M!=null&&V.push(Ia(E,M,A))),pe)break;E=E.return}0<V.length&&(N=new R(N,F,null,i,D),x.push({event:N,listeners:V}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",N&&i!==Lo&&(F=i.relatedTarget||i.fromElement)&&(Qi(F)||F[Vi]))break e;if((R||N)&&(N=D.window===D?D:(N=D.ownerDocument)?N.defaultView||N.parentWindow:window,R?(F=i.relatedTarget||i.toElement,R=w,F=F?Qi(F):null,F!==null&&(pe=f(F),V=F.tag,F!==pe||V!==5&&V!==27&&V!==6)&&(F=null)):(R=null,F=w),R!==F)){if(V=jh,M="onMouseLeave",C="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(V=Gh,M="onPointerLeave",C="onPointerEnter",E="pointer"),pe=R==null?N:Pl(R),A=F==null?N:Pl(F),N=new V(M,E+"leave",R,i,D),N.target=pe,N.relatedTarget=A,M=null,Qi(D)===w&&(V=new V(C,E+"enter",F,i,D),V.target=A,V.relatedTarget=pe,M=V),pe=M,R&&F)t:{for(V=R,C=F,E=0,A=V;A;A=Al(A))E++;for(A=0,M=C;M;M=Al(M))A++;for(;0<E-A;)V=Al(V),E--;for(;0<A-E;)C=Al(C),A--;for(;E--;){if(V===C||C!==null&&V===C.alternate)break t;V=Al(V),C=Al(C)}V=null}else V=null;R!==null&&Mm(x,N,R,V,!1),F!==null&&pe!==null&&Mm(x,pe,F,V,!0)}}e:{if(N=w?Pl(w):window,R=N.nodeName&&N.nodeName.toLowerCase(),R==="select"||R==="input"&&N.type==="file")var j=Ph;else if(Fh(N))if(Wh)j=N0;else{j=A0;var ee=C0}else R=N.nodeName,!R||R.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?w&&Uo(w.elementType)&&(j=Ph):j=w0;if(j&&(j=j(e,w))){Zh(x,j,i,D);break e}ee&&ee(e,N,w),e==="focusout"&&w&&N.type==="number"&&w.memoizedProps.value!=null&&zo(N,"number",N.value)}switch(ee=w?Pl(w):window,e){case"focusin":(Fh(ee)||ee.contentEditable==="true")&&(tl=ee,Zo=w,aa=null);break;case"focusout":aa=Zo=tl=null;break;case"mousedown":Po=!0;break;case"contextmenu":case"mouseup":case"dragend":Po=!1,ad(x,i,D);break;case"selectionchange":if(D0)break;case"keydown":case"keyup":ad(x,i,D)}var q;if(Qo)e:{switch(e){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else el?Xh(e,i)&&(Q="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Q="onCompositionStart");Q&&(Yh&&i.locale!=="ko"&&(el||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&el&&(q=Bh()):(On=D,jo="value"in On?On.value:On.textContent,el=!0)),ee=br(w,Q),0<ee.length&&(Q=new qh(Q,e,null,i,D),x.push({event:Q,listeners:ee}),q?Q.data=q:(q=Kh(i),q!==null&&(Q.data=q)))),(q=v0?b0(e,i):S0(e,i))&&(Q=br(w,"onBeforeInput"),0<Q.length&&(ee=new qh("onBeforeInput","beforeinput",null,i,D),x.push({event:ee,listeners:Q}),ee.data=q)),fb(x,e,w,i,D)}Dm(x,t)})}function Ia(e,t,i){return{instance:e,listener:t,currentTarget:i}}function br(e,t){for(var i=t+"Capture",s=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=Wl(e,i),o!=null&&s.unshift(Ia(e,o,c)),o=Wl(e,t),o!=null&&s.push(Ia(e,o,c))),e.tag===3)return s;e=e.return}return[]}function Al(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mm(e,t,i,s,o){for(var c=t._reactName,d=[];i!==null&&i!==s;){var p=i,y=p.alternate,w=p.stateNode;if(p=p.tag,y!==null&&y===s)break;p!==5&&p!==26&&p!==27||w===null||(y=w,o?(w=Wl(i,c),w!=null&&d.unshift(Ia(i,w,y))):o||(w=Wl(i,c),w!=null&&d.push(Ia(i,w,y)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var mb=/\r\n?/g,gb=/\u0000|\uFFFD/g;function xm(e){return(typeof e=="string"?e:""+e).replace(mb,`
`).replace(gb,"")}function Im(e,t){return t=xm(t),xm(e)===t}function Sr(){}function ge(e,t,i,s,o,c){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Wi(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Wi(e,""+s);break;case"className":ws(e,"class",s);break;case"tabIndex":ws(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ws(e,i,s);break;case"style":Uh(e,s,c);break;case"data":if(t!=="object"){ws(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Ds(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&ge(e,t,"name",o.name,o,null),ge(e,t,"formEncType",o.formEncType,o,null),ge(e,t,"formMethod",o.formMethod,o,null),ge(e,t,"formTarget",o.formTarget,o,null)):(ge(e,t,"encType",o.encType,o,null),ge(e,t,"method",o.method,o,null),ge(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Ds(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=Sr);break;case"onScroll":s!=null&&le("scroll",e);break;case"onScrollEnd":s!=null&&le("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Ds(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":le("beforetoggle",e),le("toggle",e),As(e,"popover",s);break;case"xlinkActuate":an(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":an(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":an(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":an(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":an(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":an(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":an(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":an(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":an(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":As(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Xv.get(i)||i,As(e,i,s))}}function vc(e,t,i,s,o,c){switch(i){case"style":Uh(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Wi(e,s):(typeof s=="number"||typeof s=="bigint")&&Wi(e,""+s);break;case"onScroll":s!=null&&le("scroll",e);break;case"onScrollEnd":s!=null&&le("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ch.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),c=e[ot]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof s=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,o);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):As(e,i,s)}}}function Je(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":le("error",e),le("load",e);var s=!1,o=!1,c;for(c in i)if(i.hasOwnProperty(c)){var d=i[c];if(d!=null)switch(c){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ge(e,t,c,d,i,null)}}o&&ge(e,t,"srcSet",i.srcSet,i,null),s&&ge(e,t,"src",i.src,i,null);return;case"input":le("invalid",e);var p=c=d=o=null,y=null,w=null;for(s in i)if(i.hasOwnProperty(s)){var D=i[s];if(D!=null)switch(s){case"name":o=D;break;case"type":d=D;break;case"checked":y=D;break;case"defaultChecked":w=D;break;case"value":c=D;break;case"defaultValue":p=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:ge(e,t,s,D,i,null)}}Mh(e,c,p,y,w,d,o,!1),Ns(e);return;case"select":le("invalid",e),s=d=c=null;for(o in i)if(i.hasOwnProperty(o)&&(p=i[o],p!=null))switch(o){case"value":c=p;break;case"defaultValue":d=p;break;case"multiple":s=p;default:ge(e,t,o,p,i,null)}t=c,i=d,e.multiple=!!s,t!=null?Pi(e,!!s,t,!1):i!=null&&Pi(e,!!s,i,!0);return;case"textarea":le("invalid",e),c=o=s=null;for(d in i)if(i.hasOwnProperty(d)&&(p=i[d],p!=null))switch(d){case"value":s=p;break;case"defaultValue":o=p;break;case"children":c=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:ge(e,t,d,p,i,null)}Ih(e,s,o,c),Ns(e);return;case"option":for(y in i)if(i.hasOwnProperty(y)&&(s=i[y],s!=null))switch(y){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ge(e,t,y,s,i,null)}return;case"dialog":le("beforetoggle",e),le("toggle",e),le("cancel",e),le("close",e);break;case"iframe":case"object":le("load",e);break;case"video":case"audio":for(s=0;s<xa.length;s++)le(xa[s],e);break;case"image":le("error",e),le("load",e);break;case"details":le("toggle",e);break;case"embed":case"source":case"link":le("error",e),le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in i)if(i.hasOwnProperty(w)&&(s=i[w],s!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ge(e,t,w,s,i,null)}return;default:if(Uo(t)){for(D in i)i.hasOwnProperty(D)&&(s=i[D],s!==void 0&&vc(e,t,D,s,i,void 0));return}}for(p in i)i.hasOwnProperty(p)&&(s=i[p],s!=null&&ge(e,t,p,s,i,null))}function pb(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,d=null,p=null,y=null,w=null,D=null;for(R in i){var x=i[R];if(i.hasOwnProperty(R)&&x!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":y=x;default:s.hasOwnProperty(R)||ge(e,t,R,null,s,x)}}for(var N in s){var R=s[N];if(x=i[N],s.hasOwnProperty(N)&&(R!=null||x!=null))switch(N){case"type":c=R;break;case"name":o=R;break;case"checked":w=R;break;case"defaultChecked":D=R;break;case"value":d=R;break;case"defaultValue":p=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:R!==x&&ge(e,t,N,R,s,x)}}Io(e,d,p,y,w,D,c,o);return;case"select":R=d=p=N=null;for(c in i)if(y=i[c],i.hasOwnProperty(c)&&y!=null)switch(c){case"value":break;case"multiple":R=y;default:s.hasOwnProperty(c)||ge(e,t,c,null,s,y)}for(o in s)if(c=s[o],y=i[o],s.hasOwnProperty(o)&&(c!=null||y!=null))switch(o){case"value":N=c;break;case"defaultValue":p=c;break;case"multiple":d=c;default:c!==y&&ge(e,t,o,c,s,y)}t=p,i=d,s=R,N!=null?Pi(e,!!i,N,!1):!!s!=!!i&&(t!=null?Pi(e,!!i,t,!0):Pi(e,!!i,i?[]:"",!1));return;case"textarea":R=N=null;for(p in i)if(o=i[p],i.hasOwnProperty(p)&&o!=null&&!s.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:ge(e,t,p,null,s,o)}for(d in s)if(o=s[d],c=i[d],s.hasOwnProperty(d)&&(o!=null||c!=null))switch(d){case"value":N=o;break;case"defaultValue":R=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&ge(e,t,d,o,s,c)}xh(e,N,R);return;case"option":for(var F in i)if(N=i[F],i.hasOwnProperty(F)&&N!=null&&!s.hasOwnProperty(F))switch(F){case"selected":e.selected=!1;break;default:ge(e,t,F,null,s,N)}for(y in s)if(N=s[y],R=i[y],s.hasOwnProperty(y)&&N!==R&&(N!=null||R!=null))switch(y){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:ge(e,t,y,N,s,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var V in i)N=i[V],i.hasOwnProperty(V)&&N!=null&&!s.hasOwnProperty(V)&&ge(e,t,V,null,s,N);for(w in s)if(N=s[w],R=i[w],s.hasOwnProperty(w)&&N!==R&&(N!=null||R!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,t));break;default:ge(e,t,w,N,s,R)}return;default:if(Uo(t)){for(var pe in i)N=i[pe],i.hasOwnProperty(pe)&&N!==void 0&&!s.hasOwnProperty(pe)&&vc(e,t,pe,void 0,s,N);for(D in s)N=s[D],R=i[D],!s.hasOwnProperty(D)||N===R||N===void 0&&R===void 0||vc(e,t,D,N,s,R);return}}for(var C in i)N=i[C],i.hasOwnProperty(C)&&N!=null&&!s.hasOwnProperty(C)&&ge(e,t,C,null,s,N);for(x in s)N=s[x],R=i[x],!s.hasOwnProperty(x)||N===R||N==null&&R==null||ge(e,t,x,N,s,R)}var bc=null,Sc=null;function Er(e){return e.nodeType===9?e:e.ownerDocument}function zm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Um(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ec(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tc=null;function yb(){var e=window.event;return e&&e.type==="popstate"?e===Tc?!1:(Tc=e,!0):(Tc=null,!1)}var Lm=typeof setTimeout=="function"?setTimeout:void 0,vb=typeof clearTimeout=="function"?clearTimeout:void 0,Hm=typeof Promise=="function"?Promise:void 0,bb=typeof queueMicrotask=="function"?queueMicrotask:typeof Hm<"u"?function(e){return Hm.resolve(null).then(e).catch(Sb)}:Lm;function Sb(e){setTimeout(function(){throw e})}function Xn(e){return e==="head"}function Bm(e,t){var i=t,s=0,o=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(0<s&&8>s){i=s;var d=e.ownerDocument;if(i&1&&za(d.documentElement),i&2&&za(d.body),i&4)for(i=d.head,za(i),d=i.firstChild;d;){var p=d.nextSibling,y=d.nodeName;d[Zl]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=p}}if(o===0){e.removeChild(c),Ga(t);return}o--}else i==="$"||i==="$?"||i==="$!"?o++:s=i.charCodeAt(0)-48;else s=0;i=c}while(i);Ga(t)}function Cc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Cc(i),Do(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Eb(e,t,i,s){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Zl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function Tb(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Yt(e.nextSibling),e===null))return null;return e}function Ac(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Cb(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var wc=null;function km(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function jm(e,t,i){switch(t=Er(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function za(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Do(e)}var Ht=new Map,qm=new Set;function Tr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vn=B.d;B.d={f:Ab,r:wb,D:Nb,C:Rb,L:Db,m:Ob,X:xb,S:Mb,M:Ib};function Ab(){var e=vn.f(),t=_r();return e||t}function wb(e){var t=Xi(e);t!==null&&t.tag===5&&t.type==="form"?r_(t):vn.r(e)}var wl=typeof document>"u"?null:document;function Gm(e,t,i){var s=wl;if(s&&typeof t=="string"&&t){var o=Ot(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),qm.has(o)||(qm.add(o),e={rel:e,crossOrigin:i,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),Je(t,"link",e),qe(t),s.head.appendChild(t)))}}function Nb(e){vn.D(e),Gm("dns-prefetch",e,null)}function Rb(e,t){vn.C(e,t),Gm("preconnect",e,t)}function Db(e,t,i){vn.L(e,t,i);var s=wl;if(s&&e&&t){var o='link[rel="preload"][as="'+Ot(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+Ot(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+Ot(i.imageSizes)+'"]')):o+='[href="'+Ot(e)+'"]';var c=o;switch(t){case"style":c=Nl(e);break;case"script":c=Rl(e)}Ht.has(c)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Ht.set(c,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(Ua(c))||t==="script"&&s.querySelector(La(c))||(t=s.createElement("link"),Je(t,"link",e),qe(t),s.head.appendChild(t)))}}function Ob(e,t){vn.m(e,t);var i=wl;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ot(s)+'"][href="'+Ot(e)+'"]',c=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Rl(e)}if(!Ht.has(c)&&(e=v({rel:"modulepreload",href:e},t),Ht.set(c,e),i.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(La(c)))return}s=i.createElement("link"),Je(s,"link",e),qe(s),i.head.appendChild(s)}}}function Mb(e,t,i){vn.S(e,t,i);var s=wl;if(s&&e){var o=Ki(s).hoistableStyles,c=Nl(e);t=t||"default";var d=o.get(c);if(!d){var p={loading:0,preload:null};if(d=s.querySelector(Ua(c)))p.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Ht.get(c))&&Nc(e,i);var y=d=s.createElement("link");qe(y),Je(y,"link",e),y._p=new Promise(function(w,D){y.onload=w,y.onerror=D}),y.addEventListener("load",function(){p.loading|=1}),y.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Cr(d,t,s)}d={type:"stylesheet",instance:d,count:1,state:p},o.set(c,d)}}}function xb(e,t){vn.X(e,t);var i=wl;if(i&&e){var s=Ki(i).hoistableScripts,o=Rl(e),c=s.get(o);c||(c=i.querySelector(La(o)),c||(e=v({src:e,async:!0},t),(t=Ht.get(o))&&Rc(e,t),c=i.createElement("script"),qe(c),Je(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function Ib(e,t){vn.M(e,t);var i=wl;if(i&&e){var s=Ki(i).hoistableScripts,o=Rl(e),c=s.get(o);c||(c=i.querySelector(La(o)),c||(e=v({src:e,async:!0,type:"module"},t),(t=Ht.get(o))&&Rc(e,t),c=i.createElement("script"),qe(c),Je(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function Ym(e,t,i,s){var o=(o=P.current)?Tr(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Nl(i.href),i=Ki(o).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Nl(i.href);var c=Ki(o).hoistableStyles,d=c.get(e);if(d||(o=o.ownerDocument||o,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=o.querySelector(Ua(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Ht.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Ht.set(e,i),c||zb(o,e,i,d.state))),t&&s===null)throw Error(r(528,""));return d}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Rl(i),i=Ki(o).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Nl(e){return'href="'+Ot(e)+'"'}function Ua(e){return'link[rel="stylesheet"]['+e+"]"}function Vm(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function zb(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Je(t,"link",i),qe(t),e.head.appendChild(t))}function Rl(e){return'[src="'+Ot(e)+'"]'}function La(e){return"script[async]"+e}function Qm(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Ot(i.href)+'"]');if(s)return t.instance=s,qe(s),s;var o=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),qe(s),Je(s,"style",o),Cr(s,i.precedence,e),t.instance=s;case"stylesheet":o=Nl(i.href);var c=e.querySelector(Ua(o));if(c)return t.state.loading|=4,t.instance=c,qe(c),c;s=Vm(i),(o=Ht.get(o))&&Nc(s,o),c=(e.ownerDocument||e).createElement("link"),qe(c);var d=c;return d._p=new Promise(function(p,y){d.onload=p,d.onerror=y}),Je(c,"link",s),t.state.loading|=4,Cr(c,i.precedence,e),t.instance=c;case"script":return c=Rl(i.src),(o=e.querySelector(La(c)))?(t.instance=o,qe(o),o):(s=i,(o=Ht.get(c))&&(s=v({},i),Rc(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),qe(o),Je(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Cr(s,i.precedence,e));return t.instance}function Cr(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,c=o,d=0;d<s.length;d++){var p=s[d];if(p.dataset.precedence===t)c=p;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Rc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ar=null;function Xm(e,t,i){if(Ar===null){var s=new Map,o=Ar=new Map;o.set(i,s)}else o=Ar,s=o.get(i),s||(s=new Map,o.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var c=i[o];if(!(c[Zl]||c[tt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var p=s.get(d);p?p.push(c):s.set(d,[c])}}return s}function Km(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Ub(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Fm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ha=null;function Lb(){}function Hb(e,t,i){if(Ha===null)throw Error(r(475));var s=Ha;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=Nl(i.href),c=e.querySelector(Ua(o));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=wr.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=c,qe(c);return}c=e.ownerDocument||e,i=Vm(i),(o=Ht.get(o))&&Nc(i,o),c=c.createElement("link"),qe(c);var d=c;d._p=new Promise(function(p,y){d.onload=p,d.onerror=y}),Je(c,"link",i),t.instance=c}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=wr.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function Bb(){if(Ha===null)throw Error(r(475));var e=Ha;return e.stylesheets&&e.count===0&&Dc(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function wr(){if(this.count--,this.count===0){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nr=null;function Dc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nr=new Map,t.forEach(kb,e),Nr=null,wr.call(e))}function kb(e,t){if(!(t.state.loading&4)){var i=Nr.get(e);if(i)var s=i.get(null);else{i=new Map,Nr.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var d=o[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),s=d)}s&&i.set(null,s)}o=t.instance,d=o.getAttribute("data-precedence"),c=i.get(d)||s,c===s&&i.set(null,o),i.set(d,o),this.count++,s=wr.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ba={$$typeof:Ce,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function jb(e,t,i,s,o,c,d,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ao(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.hiddenUpdates=Ao(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function Zm(e,t,i,s,o,c,d,p,y,w,D,x){return e=new jb(e,t,i,d,p,y,w,x),t=1,c===!0&&(t|=24),c=Et(3,null,null,t),e.current=c,c.stateNode=e,t=cu(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:i,cache:t},_u(c),e}function Pm(e){return e?(e=al,e):al}function Wm(e,t,i,s,o,c){o=Pm(o),s.context===null?s.context=o:s.pendingContext=o,s=In(t),s.payload={element:i},c=c===void 0?null:c,c!==null&&(s.callback=c),i=zn(e,s,t),i!==null&&(Nt(i,e,t),_a(i,e,t))}function Jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Oc(e,t){Jm(e,t),(e=e.alternate)&&Jm(e,t)}function $m(e){if(e.tag===13){var t=ll(e,67108864);t!==null&&Nt(t,e,67108864),Oc(e,67108864)}}var Rr=!0;function qb(e,t,i,s){var o=O.T;O.T=null;var c=B.p;try{B.p=2,Mc(e,t,i,s)}finally{B.p=c,O.T=o}}function Gb(e,t,i,s){var o=O.T;O.T=null;var c=B.p;try{B.p=8,Mc(e,t,i,s)}finally{B.p=c,O.T=o}}function Mc(e,t,i,s){if(Rr){var o=xc(s);if(o===null)yc(e,t,s,Dr,i),tg(e,s);else if(Vb(o,e,t,i,s))s.stopPropagation();else if(tg(e,s),t&4&&-1<Yb.indexOf(e)){for(;o!==null;){var c=Xi(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=di(c.pendingLanes);if(d!==0){var p=c;for(p.pendingLanes|=2,p.entangledLanes|=2;d;){var y=1<<31-bt(d);p.entanglements[1]|=y,d&=~y}$t(c),(he&6)===0&&(hr=Ft()+500,Ma(0))}}break;case 13:p=ll(c,2),p!==null&&Nt(p,c,2),_r(),Oc(c,2)}if(c=xc(s),c===null&&yc(e,t,s,Dr,i),c===o)break;o=c}o!==null&&s.stopPropagation()}else yc(e,t,s,null,i)}}function xc(e){return e=Ho(e),Ic(e)}var Dr=null;function Ic(e){if(Dr=null,e=Qi(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Dr=e,null}function eg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rv()){case _h:return 2;case mh:return 8;case Ss:case Dv:return 32;case gh:return 268435456;default:return 32}default:return 32}}var zc=!1,Kn=null,Fn=null,Zn=null,ka=new Map,ja=new Map,Pn=[],Yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tg(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":ka.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ja.delete(t.pointerId)}}function qa(e,t,i,s,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Xi(t),t!==null&&$m(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Vb(e,t,i,s,o){switch(t){case"focusin":return Kn=qa(Kn,e,t,i,s,o),!0;case"dragenter":return Fn=qa(Fn,e,t,i,s,o),!0;case"mouseover":return Zn=qa(Zn,e,t,i,s,o),!0;case"pointerover":var c=o.pointerId;return ka.set(c,qa(ka.get(c)||null,e,t,i,s,o)),!0;case"gotpointercapture":return c=o.pointerId,ja.set(c,qa(ja.get(c)||null,e,t,i,s,o)),!0}return!1}function ng(e){var t=Qi(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,Hv(e.priority,function(){if(i.tag===13){var s=wt();s=wo(s);var o=ll(i,s);o!==null&&Nt(o,i,s),Oc(i,s)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Or(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=xc(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Lo=s,i.target.dispatchEvent(s),Lo=null}else return t=Xi(i),t!==null&&$m(t),e.blockedOn=i,!1;t.shift()}return!0}function ig(e,t,i){Or(e)&&i.delete(t)}function Qb(){zc=!1,Kn!==null&&Or(Kn)&&(Kn=null),Fn!==null&&Or(Fn)&&(Fn=null),Zn!==null&&Or(Zn)&&(Zn=null),ka.forEach(ig),ja.forEach(ig)}function Mr(e,t){e.blockedOn===t&&(e.blockedOn=null,zc||(zc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Qb)))}var xr=null;function lg(e){xr!==e&&(xr=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){xr===e&&(xr=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Ic(s||i)===null)continue;break}var c=Xi(i);c!==null&&(e.splice(t,3),t-=3,Iu(c,{pending:!0,data:o,method:i.method,action:s},s,o))}}))}function Ga(e){function t(y){return Mr(y,e)}Kn!==null&&Mr(Kn,e),Fn!==null&&Mr(Fn,e),Zn!==null&&Mr(Zn,e),ka.forEach(t),ja.forEach(t);for(var i=0;i<Pn.length;i++){var s=Pn[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Pn.length&&(i=Pn[0],i.blockedOn===null);)ng(i),i.blockedOn===null&&Pn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],d=o[ot]||null;if(typeof c=="function")d||lg(i);else if(d){var p=null;if(c&&c.hasAttribute("formAction")){if(o=c,d=c[ot]||null)p=d.formAction;else if(Ic(o)!==null)continue}else p=d.action;typeof p=="function"?i[s+1]=p:(i.splice(s,3),s-=3),lg(i)}}}function Uc(e){this._internalRoot=e}Ir.prototype.render=Uc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,s=wt();Wm(i,s,e,t,null,null)},Ir.prototype.unmount=Uc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wm(e.current,2,null,e,null,null),_r(),t[Vi]=null}};function Ir(e){this._internalRoot=e}Ir.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Pn.length&&t!==0&&t<Pn[i].priority;i++);Pn.splice(i,0,e),i===0&&ng(e)}};var ag=n.version;if(ag!=="19.1.0")throw Error(r(527,ag,"19.1.0"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Xb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zr.isDisabled&&zr.supportsFiber)try{Xl=zr.inject(Xb),vt=zr}catch{}}return Va.createRoot=function(e,t){if(!u(e))throw Error(r(299));var i=!1,s="",o=S_,c=E_,d=T_,p=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(p=t.unstable_transitionCallbacks)),t=Zm(e,1,!1,null,null,i,s,o,c,d,p,null),e[Vi]=t.current,pc(e),new Uc(t)},Va.hydrateRoot=function(e,t,i){if(!u(e))throw Error(r(299));var s=!1,o="",c=S_,d=E_,p=T_,y=null,w=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(y=i.unstable_transitionCallbacks),i.formState!==void 0&&(w=i.formState)),t=Zm(e,1,!0,t,i??null,s,o,c,d,p,y,w),t.context=Pm(null),i=t.current,s=wt(),s=wo(s),o=In(s),o.callback=null,zn(i,o,s),i=s,t.current.lanes=i,Fl(t,i),$t(t),e[Vi]=t.current,pc(e),new Ir(t)},Va.version="19.1.0",Va}var mg;function i1(){if(mg)return Bc.exports;mg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Bc.exports=n1(),Bc.exports}var l1=i1();const a1="/assets/background-RG-AS7W3.jpg";function s1(){return G.jsx("div",{className:"background",children:G.jsx("img",{src:a1,alt:"bg",className:"rotating-background"})})}const r1=()=>{};var gg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(l,n){if(!l)throw ql(n)},ql=function(l){return new Error("Firebase Database ("+Ep.SDK_VERSION+") INTERNAL ASSERT FAILED: "+l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=function(l){const n=[];let a=0;for(let r=0;r<l.length;r++){let u=l.charCodeAt(r);u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):(u&64512)===55296&&r+1<l.length&&(l.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(l.charCodeAt(++r)&1023),n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128)}return n},o1=function(l){const n=[];let a=0,r=0;for(;a<l.length;){const u=l[a++];if(u<128)n[r++]=String.fromCharCode(u);else if(u>191&&u<224){const f=l[a++];n[r++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=l[a++],h=l[a++],_=l[a++],g=((u&7)<<18|(f&63)<<12|(h&63)<<6|_&63)-65536;n[r++]=String.fromCharCode(55296+(g>>10)),n[r++]=String.fromCharCode(56320+(g&1023))}else{const f=l[a++],h=l[a++];n[r++]=String.fromCharCode((u&15)<<12|(f&63)<<6|h&63)}}return n.join("")},Nf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<l.length;u+=3){const f=l[u],h=u+1<l.length,_=h?l[u+1]:0,g=u+2<l.length,m=g?l[u+2]:0,v=f>>2,b=(f&3)<<4|_>>4;let T=(_&15)<<2|m>>6,z=m&63;g||(z=64,h||(T=64)),r.push(a[v],a[b],a[T],a[z])}return r.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(Tp(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):o1(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<l.length;){const f=a[l.charAt(u++)],_=u<l.length?a[l.charAt(u)]:0;++u;const m=u<l.length?a[l.charAt(u)]:64;++u;const b=u<l.length?a[l.charAt(u)]:64;if(++u,f==null||_==null||m==null||b==null)throw new u1;const T=f<<2|_>>4;if(r.push(T),m!==64){const z=_<<4&240|m>>2;if(r.push(z),b!==64){const L=m<<6&192|b;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class u1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cp=function(l){const n=Tp(l);return Nf.encodeByteArray(n,!0)},Br=function(l){return Cp(l).replace(/\./g,"")},nf=function(l){try{return Nf.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(l){return Ap(void 0,l)}function Ap(l,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const a=n;return new Date(a.getTime());case Object:l===void 0&&(l={});break;case Array:l=[];break;default:return n}for(const a in n)!n.hasOwnProperty(a)||!f1(a)||(l[a]=Ap(l[a],n[a]));return l}function f1(l){return l!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=()=>h1().__FIREBASE_DEFAULTS__,_1=()=>{if(typeof process>"u"||typeof gg>"u")return;const l=gg.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},m1=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&nf(l[1]);return n&&JSON.parse(n)},wp=()=>{try{return r1()||d1()||_1()||m1()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},g1=l=>{var n,a;return(a=(n=wp())===null||n===void 0?void 0:n.emulatorHosts)===null||a===void 0?void 0:a[l]},p1=l=>{const n=g1(l);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),r]:[n.substring(0,a),r]},Np=()=>{var l;return(l=wp())===null||l===void 0?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,r)=>{a?this.reject(a):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(l){return l.endsWith(".cloudworkstations.dev")}async function y1(l){return(await fetch(l,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},r=n||"demo-project",u=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},l);return[Br(JSON.stringify(a)),Br(JSON.stringify(h)),""].join(".")}const Za={};function b1(){const l={prod:[],emulator:[]};for(const n of Object.keys(Za))Za[n]?l.emulator.push(n):l.prod.push(n);return l}function S1(l){let n=document.getElementById(l),a=!1;return n||(n=document.createElement("div"),n.setAttribute("id",l),a=!0),{created:a,element:n}}let pg=!1;function Rp(l,n){if(typeof window>"u"||typeof document>"u"||!Rf(window.location.host)||Za[l]===n||Za[l]||pg)return;Za[l]=n;function a(T){return`__firebase__banner__${T}`}const r="__firebase__banner",f=b1().prod.length>0;function h(){const T=document.getElementById(r);T&&T.remove()}function _(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,z){T.setAttribute("width","24"),T.setAttribute("id",z),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{pg=!0,h()},T}function v(T,z){T.setAttribute("id",z),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=S1(r),z=a("text"),L=document.getElementById(z)||document.createElement("span"),Z=a("learnmore"),ae=document.getElementById(Z)||document.createElement("a"),Ze=a("preprendIcon"),He=document.getElementById(Ze)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Ce=T.element;_(Ce),v(ae,Z);const lt=m();g(He,Ze),Ce.append(He,L,ae,lt),document.body.appendChild(Ce)}f?(L.innerText="Preview backend disconnected.",He.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(He.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(E1())}function T1(){const l=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof l=="object"&&l.id!==void 0}function C1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A1(){return Ep.NODE_ADMIN===!0}function Op(){try{return typeof indexedDB=="object"}catch{return!1}}function Mp(){return new Promise((l,n)=>{try{let a=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),a||self.indexedDB.deleteDatabase(r),l(!0)},u.onupgradeneeded=()=>{a=!1},u.onerror=()=>{var f;n(((f=u.error)===null||f===void 0?void 0:f.message)||"")}}catch(a){n(a)}})}function w1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="FirebaseError";class ji extends Error{constructor(n,a,r){super(a),this.code=n,this.customData=r,this.name=N1,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lo.prototype.create)}}class lo{constructor(n,a,r){this.service=n,this.serviceName=a,this.errors=r}create(n,...a){const r=a[0]||{},u=`${this.service}/${n}`,f=this.errors[n],h=f?R1(f,r):"Error",_=`${this.serviceName}: ${h} (${u}).`;return new ji(u,_,r)}}function R1(l,n){return l.replace(D1,(a,r)=>{const u=n[r];return u!=null?String(u):`<${r}?>`})}const D1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(l){return JSON.parse(l)}function je(l){return JSON.stringify(l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=function(l){let n={},a={},r={},u="";try{const f=l.split(".");n=ns(nf(f[0])||""),a=ns(nf(f[1])||""),u=f[2],r=a.d||{},delete a.d}catch{}return{header:n,claims:a,data:r,signature:u}},O1=function(l){const n=xp(l),a=n.claims;return!!a&&typeof a=="object"&&a.hasOwnProperty("iat")},M1=function(l){const n=xp(l).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(l,n){return Object.prototype.hasOwnProperty.call(l,n)}function zl(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]}function lf(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}function kr(l,n,a){const r={};for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=n.call(a,l[u],u,l));return r}function is(l,n){if(l===n)return!0;const a=Object.keys(l),r=Object.keys(n);for(const u of a){if(!r.includes(u))return!1;const f=l[u],h=n[u];if(yg(f)&&yg(h)){if(!is(f,h))return!1}else if(f!==h)return!1}for(const u of r)if(!a.includes(u))return!1;return!0}function yg(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(l){const n=[];for(const[a,r]of Object.entries(l))Array.isArray(r)?r.forEach(u=>{n.push(encodeURIComponent(a)+"="+encodeURIComponent(u))}):n.push(encodeURIComponent(a)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,a){a||(a=0);const r=this.W_;if(typeof n=="string")for(let b=0;b<16;b++)r[b]=n.charCodeAt(a)<<24|n.charCodeAt(a+1)<<16|n.charCodeAt(a+2)<<8|n.charCodeAt(a+3),a+=4;else for(let b=0;b<16;b++)r[b]=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3],a+=4;for(let b=16;b<80;b++){const T=r[b-3]^r[b-8]^r[b-14]^r[b-16];r[b]=(T<<1|T>>>31)&4294967295}let u=this.chain_[0],f=this.chain_[1],h=this.chain_[2],_=this.chain_[3],g=this.chain_[4],m,v;for(let b=0;b<80;b++){b<40?b<20?(m=_^f&(h^_),v=1518500249):(m=f^h^_,v=1859775393):b<60?(m=f&h|_&(f|h),v=2400959708):(m=f^h^_,v=3395469782);const T=(u<<5|u>>>27)+m+g+v+r[b]&4294967295;g=_,_=h,h=(f<<30|f>>>2)&4294967295,f=u,u=T}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+_&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(n,a){if(n==null)return;a===void 0&&(a=n.length);const r=a-this.blockSize;let u=0;const f=this.buf_;let h=this.inbuf_;for(;u<a;){if(h===0)for(;u<=r;)this.compress_(n,u),u+=this.blockSize;if(typeof n=="string"){for(;u<a;)if(f[h]=n.charCodeAt(u),++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}else for(;u<a;)if(f[h]=n[u],++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=a}digest(){const n=[];let a=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=a&255,a/=256;this.compress_(this.buf_);let r=0;for(let u=0;u<5;u++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[u]>>f&255,++r;return n}}function Ul(l,n){return`${l} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=function(l){const n=[];let a=0;for(let r=0;r<l.length;r++){let u=l.charCodeAt(r);if(u>=55296&&u<=56319){const f=u-55296;r++,U(r<l.length,"Surrogate pair missing trail surrogate.");const h=l.charCodeAt(r)-56320;u=65536+(f<<10)+h}u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):u<65536?(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128)}return n},ao=function(l){let n=0;for(let a=0;a<l.length;a++){const r=l.charCodeAt(a);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,a++):n+=3}return n};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=1e3,L1=2,H1=4*60*60*1e3,B1=.5;function vg(l,n=U1,a=L1){const r=n*Math.pow(a,l),u=Math.round(B1*r*(Math.random()-.5)*2);return Math.min(H1,r+u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(l){return l&&l._delegate?l._delegate:l}class En{constructor(n,a,r){this.name=n,this.instanceFactory=a,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const r=new en;if(this.instancesDeferred.set(a,r),this.isInitialized(a)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:a});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){var a;const r=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),u=(a=n==null?void 0:n.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(f){if(u)return null;throw f}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(q1(n))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[a,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);try{const f=this.getOrInitializeService({instanceIdentifier:u});r.resolve(f)}catch{}}}}clearInstance(n=Mi){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Mi){return this.instances.has(n)}getOptions(n=Mi){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:a});for(const[f,h]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(f);r===_&&h.resolve(u)}return u}onInit(n,a){var r;const u=this.normalizeInstanceIdentifier(a),f=(r=this.onInitCallbacks.get(u))!==null&&r!==void 0?r:new Set;f.add(n),this.onInitCallbacks.set(u,f);const h=this.instances.get(u);return h&&n(h,u),()=>{f.delete(n)}}invokeOnInitCallbacks(n,a){const r=this.onInitCallbacks.get(a);if(r)for(const u of r)try{u(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j1(n),options:a}),this.instances.set(n,r),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Mi){return this.component?this.component.multipleInstances?n:Mi:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j1(l){return l===Mi?void 0:l}function q1(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new k1(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Te||(Te={}));const Y1={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},V1=Te.INFO,Q1={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},X1=(l,n,...a)=>{if(n<l.logLevel)return;const r=new Date().toISOString(),u=Q1[n];if(u)console[u](`[${r}]  ${l.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Df{constructor(n){this.name=n,this._logLevel=V1,this._logHandler=X1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Te))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?Y1[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...n),this._logHandler(this,Te.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...n),this._logHandler(this,Te.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...n),this._logHandler(this,Te.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...n),this._logHandler(this,Te.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...n),this._logHandler(this,Te.ERROR,...n)}}const K1=(l,n)=>n.some(a=>l instanceof a);let bg,Sg;function F1(){return bg||(bg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z1(){return Sg||(Sg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ip=new WeakMap,af=new WeakMap,zp=new WeakMap,Gc=new WeakMap,Of=new WeakMap;function P1(l){const n=new Promise((a,r)=>{const u=()=>{l.removeEventListener("success",f),l.removeEventListener("error",h)},f=()=>{a(ni(l.result)),u()},h=()=>{r(l.error),u()};l.addEventListener("success",f),l.addEventListener("error",h)});return n.then(a=>{a instanceof IDBCursor&&Ip.set(a,l)}).catch(()=>{}),Of.set(n,l),n}function W1(l){if(af.has(l))return;const n=new Promise((a,r)=>{const u=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",h),l.removeEventListener("abort",h)},f=()=>{a(),u()},h=()=>{r(l.error||new DOMException("AbortError","AbortError")),u()};l.addEventListener("complete",f),l.addEventListener("error",h),l.addEventListener("abort",h)});af.set(l,n)}let sf={get(l,n,a){if(l instanceof IDBTransaction){if(n==="done")return af.get(l);if(n==="objectStoreNames")return l.objectStoreNames||zp.get(l);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return ni(l[n])},set(l,n,a){return l[n]=a,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function J1(l){sf=l(sf)}function $1(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const r=l.call(Yc(this),n,...a);return zp.set(r,n.sort?n.sort():[n]),ni(r)}:Z1().includes(l)?function(...n){return l.apply(Yc(this),n),ni(Ip.get(this))}:function(...n){return ni(l.apply(Yc(this),n))}}function eS(l){return typeof l=="function"?$1(l):(l instanceof IDBTransaction&&W1(l),K1(l,F1())?new Proxy(l,sf):l)}function ni(l){if(l instanceof IDBRequest)return P1(l);if(Gc.has(l))return Gc.get(l);const n=eS(l);return n!==l&&(Gc.set(l,n),Of.set(n,l)),n}const Yc=l=>Of.get(l);function Up(l,n,{blocked:a,upgrade:r,blocking:u,terminated:f}={}){const h=indexedDB.open(l,n),_=ni(h);return r&&h.addEventListener("upgradeneeded",g=>{r(ni(h.result),g.oldVersion,g.newVersion,ni(h.transaction),g)}),a&&h.addEventListener("blocked",g=>a(g.oldVersion,g.newVersion,g)),_.then(g=>{f&&g.addEventListener("close",()=>f()),u&&g.addEventListener("versionchange",m=>u(m.oldVersion,m.newVersion,m))}).catch(()=>{}),_}const tS=["get","getKey","getAll","getAllKeys","count"],nS=["put","add","delete","clear"],Vc=new Map;function Eg(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(Vc.get(n))return Vc.get(n);const a=n.replace(/FromIndex$/,""),r=n!==a,u=nS.includes(a);if(!(a in(r?IDBIndex:IDBObjectStore).prototype)||!(u||tS.includes(a)))return;const f=async function(h,..._){const g=this.transaction(h,u?"readwrite":"readonly");let m=g.store;return r&&(m=m.index(_.shift())),(await Promise.all([m[a](..._),u&&g.done]))[0]};return Vc.set(n,f),f}J1(l=>({...l,get:(n,a,r)=>Eg(n,a)||l.get(n,a,r),has:(n,a)=>!!Eg(n,a)||l.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(lS(a)){const r=a.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(a=>a).join(" ")}}function lS(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const rf="@firebase/app",Tg="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new Df("@firebase/app"),aS="@firebase/app-compat",sS="@firebase/analytics-compat",rS="@firebase/analytics",oS="@firebase/app-check-compat",uS="@firebase/app-check",cS="@firebase/auth",fS="@firebase/auth-compat",hS="@firebase/database",dS="@firebase/data-connect",_S="@firebase/database-compat",mS="@firebase/functions",gS="@firebase/functions-compat",pS="@firebase/installations",yS="@firebase/installations-compat",vS="@firebase/messaging",bS="@firebase/messaging-compat",SS="@firebase/performance",ES="@firebase/performance-compat",TS="@firebase/remote-config",CS="@firebase/remote-config-compat",AS="@firebase/storage",wS="@firebase/storage-compat",NS="@firebase/firestore",RS="@firebase/ai",DS="@firebase/firestore-compat",OS="firebase",MS="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="[DEFAULT]",xS={[rf]:"fire-core",[aS]:"fire-core-compat",[rS]:"fire-analytics",[sS]:"fire-analytics-compat",[uS]:"fire-app-check",[oS]:"fire-app-check-compat",[cS]:"fire-auth",[fS]:"fire-auth-compat",[hS]:"fire-rtdb",[dS]:"fire-data-connect",[_S]:"fire-rtdb-compat",[mS]:"fire-fn",[gS]:"fire-fn-compat",[pS]:"fire-iid",[yS]:"fire-iid-compat",[vS]:"fire-fcm",[bS]:"fire-fcm-compat",[SS]:"fire-perf",[ES]:"fire-perf-compat",[TS]:"fire-rc",[CS]:"fire-rc-compat",[AS]:"fire-gcs",[wS]:"fire-gcs-compat",[NS]:"fire-fst",[DS]:"fire-fst-compat",[RS]:"fire-vertex","fire-js":"fire-js",[OS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new Map,IS=new Map,uf=new Map;function Cg(l,n){try{l.container.addComponent(n)}catch(a){Tn.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,a)}}function si(l){const n=l.name;if(uf.has(n))return Tn.debug(`There were multiple attempts to register component ${n}.`),!1;uf.set(n,l);for(const a of jr.values())Cg(a,l);for(const a of IS.values())Cg(a,l);return!0}function ds(l,n){const a=l.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),l.container.getProvider(n)}function zS(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new lo("app","Firebase",US);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(n,a,r){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new En("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=MS;function Lp(l,n={}){let a=l;typeof n!="object"&&(n={name:n});const r=Object.assign({name:of,automaticDataCollectionEnabled:!0},n),u=r.name;if(typeof u!="string"||!u)throw ii.create("bad-app-name",{appName:String(u)});if(a||(a=Np()),!a)throw ii.create("no-options");const f=jr.get(u);if(f){if(is(a,f.options)&&is(r,f.config))return f;throw ii.create("duplicate-app",{appName:u})}const h=new G1(u);for(const g of uf.values())h.addComponent(g);const _=new LS(a,r,h);return jr.set(u,_),_}function Hp(l=of){const n=jr.get(l);if(!n&&l===of&&Np())return Lp();if(!n)throw ii.create("no-app",{appName:l});return n}function tn(l,n,a){var r;let u=(r=xS[l])!==null&&r!==void 0?r:l;a&&(u+=`-${a}`);const f=u.match(/\s|\//),h=n.match(/\s|\//);if(f||h){const _=[`Unable to register library "${u}" with version "${n}":`];f&&_.push(`library name "${u}" contains illegal characters (whitespace or "/")`),f&&h&&_.push("and"),h&&_.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Tn.warn(_.join(" "));return}si(new En(`${u}-version`,()=>({library:u,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firebase-heartbeat-database",kS=1,ls="firebase-heartbeat-store";let Qc=null;function Bp(){return Qc||(Qc=Up(BS,kS,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(ls)}catch(a){console.warn(a)}}}}).catch(l=>{throw ii.create("idb-open",{originalErrorMessage:l.message})})),Qc}async function jS(l){try{const a=(await Bp()).transaction(ls),r=await a.objectStore(ls).get(kp(l));return await a.done,r}catch(n){if(n instanceof ji)Tn.warn(n.message);else{const a=ii.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Tn.warn(a.message)}}}async function Ag(l,n){try{const r=(await Bp()).transaction(ls,"readwrite");await r.objectStore(ls).put(n,kp(l)),await r.done}catch(a){if(a instanceof ji)Tn.warn(a.message);else{const r=ii.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});Tn.warn(r.message)}}}function kp(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=1024,GS=30;class YS{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new QS(a),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,a;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=wg();if(((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(h=>h.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:u}),this._heartbeatsCache.heartbeats.length>GS){const h=XS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Tn.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=wg(),{heartbeatsToSend:r,unsentEntries:u}=VS(this._heartbeatsCache.heartbeats),f=Br(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=a,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(a){return Tn.warn(a),""}}}function wg(){return new Date().toISOString().substring(0,10)}function VS(l,n=qS){const a=[];let r=l.slice();for(const u of l){const f=a.find(h=>h.agent===u.agent);if(f){if(f.dates.push(u.date),Ng(a)>n){f.dates.pop();break}}else if(a.push({agent:u.agent,dates:[u.date]}),Ng(a)>n){a.pop();break}r=r.slice(1)}return{heartbeatsToSend:a,unsentEntries:r}}class QS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Op()?Mp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await jS(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var a;if(await this._canUseIndexedDBPromise){const u=await this.read();return Ag(this.app,{lastSentHeartbeatDate:(a=n.lastSentHeartbeatDate)!==null&&a!==void 0?a:u.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var a;if(await this._canUseIndexedDBPromise){const u=await this.read();return Ag(this.app,{lastSentHeartbeatDate:(a=n.lastSentHeartbeatDate)!==null&&a!==void 0?a:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...n.heartbeats]})}else return}}function Ng(l){return Br(JSON.stringify({version:2,heartbeats:l})).length}function XS(l){if(l.length===0)return-1;let n=0,a=l[0].date;for(let r=1;r<l.length;r++)l[r].date<a&&(a=l[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(l){si(new En("platform-logger",n=>new iS(n),"PRIVATE")),si(new En("heartbeat",n=>new YS(n),"PRIVATE")),tn(rf,Tg,l),tn(rf,Tg,"esm2017"),tn("fire-js","")}KS("");var Rg={};const Dg="@firebase/database",Og="1.0.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jp="";function FS(l){jp=l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,a){a==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),je(a))}get(n){const a=this.domStorage_.getItem(this.prefixedName_(n));return a==null?null:ns(a)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,a){a==null?delete this.cache_[n]:this.cache_[n]=a}get(n){return nn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const n=window[l];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new ZS(n)}}catch{}return new PS},Ii=qp("localStorage"),WS=qp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=new Df("@firebase/database"),JS=function(){let l=1;return function(){return l++}}(),Gp=function(l){const n=z1(l),a=new I1;a.update(n);const r=a.digest();return Nf.encodeByteArray(r)},_s=function(...l){let n="";for(let a=0;a<l.length;a++){const r=l[a];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=_s.apply(null,r):typeof r=="object"?n+=je(r):n+=r,n+=" "}return n};let Pa=null,Mg=!0;const $S=function(l,n){U(!0,"Can't turn on custom loggers persistently."),xl.logLevel=Te.VERBOSE,Pa=xl.log.bind(xl)},Ke=function(...l){if(Mg===!0&&(Mg=!1,Pa===null&&WS.get("logging_enabled")===!0&&$S()),Pa){const n=_s.apply(null,l);Pa(n)}},ms=function(l){return function(...n){Ke(l,...n)}},cf=function(...l){const n="FIREBASE INTERNAL ERROR: "+_s(...l);xl.error(n)},Cn=function(...l){const n=`FIREBASE FATAL ERROR: ${_s(...l)}`;throw xl.error(n),new Error(n)},rt=function(...l){const n="FIREBASE WARNING: "+_s(...l);xl.warn(n)},eE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},so=function(l){return typeof l=="number"&&(l!==l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},tE=function(l){if(document.readyState==="complete")l();else{let n=!1;const a=function(){if(!document.body){setTimeout(a,Math.floor(10));return}n||(n=!0,l())};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&a()}),window.attachEvent("onload",a))}},Ll="[MIN_NAME]",Ui="[MAX_NAME]",qi=function(l,n){if(l===n)return 0;if(l===Ll||n===Ui)return-1;if(n===Ll||l===Ui)return 1;{const a=xg(l),r=xg(n);return a!==null?r!==null?a-r===0?l.length-n.length:a-r:-1:r!==null?1:l<n?-1:1}},nE=function(l,n){return l===n?0:l<n?-1:1},Qa=function(l,n){if(n&&l in n)return n[l];throw new Error("Missing required key ("+l+") in object: "+je(n))},Mf=function(l){if(typeof l!="object"||l===null)return je(l);const n=[];for(const r in l)n.push(r);n.sort();let a="{";for(let r=0;r<n.length;r++)r!==0&&(a+=","),a+=je(n[r]),a+=":",a+=Mf(l[n[r]]);return a+="}",a},Yp=function(l,n){const a=l.length;if(a<=n)return[l];const r=[];for(let u=0;u<a;u+=n)u+n>a?r.push(l.substring(u,a)):r.push(l.substring(u,u+n));return r};function Fe(l,n){for(const a in l)l.hasOwnProperty(a)&&n(a,l[a])}const Vp=function(l){U(!so(l),"Invalid JSON number");const n=11,a=52,r=(1<<n-1)-1;let u,f,h,_,g;l===0?(f=0,h=0,u=1/l===-1/0?1:0):(u=l<0,l=Math.abs(l),l>=Math.pow(2,1-r)?(_=Math.min(Math.floor(Math.log(l)/Math.LN2),r),f=_+r,h=Math.round(l*Math.pow(2,a-_)-Math.pow(2,a))):(f=0,h=Math.round(l/Math.pow(2,1-r-a))));const m=[];for(g=a;g;g-=1)m.push(h%2?1:0),h=Math.floor(h/2);for(g=n;g;g-=1)m.push(f%2?1:0),f=Math.floor(f/2);m.push(u?1:0),m.reverse();const v=m.join("");let b="";for(g=0;g<64;g+=8){let T=parseInt(v.substr(g,8),2).toString(16);T.length===1&&(T="0"+T),b=b+T}return b.toLowerCase()},iE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},lE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function aE(l,n){let a="Unknown Error";l==="too_big"?a="The data requested exceeds the maximum size that can be accessed with a single request.":l==="permission_denied"?a="Client doesn't have permission to access the desired data.":l==="unavailable"&&(a="The service is unavailable");const r=new Error(l+" at "+n._path.toString()+": "+a);return r.code=l.toUpperCase(),r}const sE=new RegExp("^-?(0*)\\d{1,10}$"),rE=-2147483648,oE=2147483647,xg=function(l){if(sE.test(l)){const n=Number(l);if(n>=rE&&n<=oE)return n}return null},Gl=function(l){try{l()}catch(n){setTimeout(()=>{const a=n.stack||"";throw rt("Exception was thrown by user callback.",a),n},Math.floor(0))}},uE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Wa=function(l,n){const a=setTimeout(l,n);return typeof a=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):typeof a=="object"&&a.unref&&a.unref(),a};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(n,a){this.appCheckProvider=a,this.appName=n.name,zS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=a==null?void 0:a.getImmediate({optional:!0}),this.appCheck||a==null||a.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((a,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(a,r):a(null)},0)})}addTokenChangeListener(n){var a;(a=this.appCheckProvider)===null||a===void 0||a.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){rt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(n,a,r){this.appName_=n,this.firebaseOptions_=a,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(u=>this.auth_=u)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(a=>a&&a.code==="auth/token-not-initialized"?(Ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(a,r):a(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(a=>a.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(a=>a.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rt(n)}}class Hr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Hr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="5",Qp="v",Xp="s",Kp="r",Fp="f",Zp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Pp="ls",Wp="p",ff="ac",Jp="websocket",$p="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(n,a,r,u,f=!1,h="",_=!1,g=!1,m=null){this.secure=a,this.namespace=r,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=_,this.isUsingEmulator=g,this.emulatorOptions=m,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ii.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ii.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",a=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${a}`}}function hE(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams}function ty(l,n,a){U(typeof n=="string","typeof type must == string"),U(typeof a=="object","typeof params must == object");let r;if(n===Jp)r=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else if(n===$p)r=(l.secure?"https://":"http://")+l.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);hE(l)&&(a.ns=l.namespace);const u=[];return Fe(a,(f,h)=>{u.push(f+"="+h)}),r+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.counters_={}}incrementCounter(n,a=1){nn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=a}get(){return c1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc={},Kc={};function If(l){const n=l.toString();return Xc[n]||(Xc[n]=new dE),Xc[n]}function _E(l,n){const a=l.toString();return Kc[a]||(Kc[a]=n()),Kc[a]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,a){this.closeAfterResponse=n,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,a){for(this.pendingResponses[n]=a;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<r.length;++u)r[u]&&Gl(()=>{this.onMessage_(r[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="start",gE="close",pE="pLPCommand",yE="pRTLPCB",ny="id",iy="pw",ly="ser",vE="cb",bE="seg",SE="ts",EE="d",TE="dframe",ay=1870,sy=30,CE=ay-sy,AE=25e3,wE=3e4;class Ol{constructor(n,a,r,u,f,h,_){this.connId=n,this.repoInfo=a,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.transportSessionId=h,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ms(n),this.stats_=If(a),this.urlFn=g=>(this.appCheckToken&&(g[ff]=this.appCheckToken),ty(a,$p,g))}open(n,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new mE(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(wE)),tE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zf((...f)=>{const[h,_,g,m,v]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===Ig)this.id=_,this.password=g;else if(h===gE)_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,_]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,_)},()=>{this.onClosed_()},this.urlFn);const r={};r[Ig]="t",r[ly]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[vE]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Qp]=xf,this.transportSessionId&&(r[Xp]=this.transportSessionId),this.lastSessionId&&(r[Pp]=this.lastSessionId),this.applicationId&&(r[Wp]=this.applicationId),this.appCheckToken&&(r[ff]=this.appCheckToken),typeof location<"u"&&location.hostname&&Zp.test(location.hostname)&&(r[Kp]=Fp);const u=this.urlFn(r);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ol.forceAllow_=!0}static forceDisallow(){Ol.forceDisallow_=!0}static isAvailable(){return Ol.forceAllow_?!0:!Ol.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!iE()&&!lE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const a=je(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const r=Cp(a),u=Yp(r,CE);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(n,a){this.myDisconnFrame=document.createElement("iframe");const r={};r[TE]="t",r[ny]=n,r[iy]=a,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const a=je(n).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class zf{constructor(n,a,r,u){this.onDisconnect=r,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=JS(),window[pE+this.uniqueCallbackIdentifier]=n,window[yE+this.uniqueCallbackIdentifier]=a,this.myIFrame=zf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(_){Ke("frame writing exception"),_.stack&&Ke(_.stack),Ke(_)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Ke("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,a){for(this.myID=n,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[ny]=this.myID,n[iy]=this.myPW,n[ly]=this.currentSerial;let a=this.urlFn(n),r="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+sy+r.length<=ay;){const h=this.pendingSegs.shift();r=r+"&"+bE+u+"="+h.seg+"&"+SE+u+"="+h.ts+"&"+EE+u+"="+h.d,u++}return a=a+r,this.addLongPollTag_(a,this.currentSerial),!0}else return!1}enqueueSegment(n,a,r){this.pendingSegs.push({seg:n,ts:a,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,a){this.outstandingRequests.add(a);const r=()=>{this.outstandingRequests.delete(a),this.newRequest_()},u=setTimeout(r,Math.floor(AE)),f=()=>{clearTimeout(u),r()};this.addTag(n,f)}addTag(n,a){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const u=r.readyState;(!u||u==="loaded"||u==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),a())},r.onerror=()=>{Ke("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=16384,RE=45e3;let qr=null;typeof MozWebSocket<"u"?qr=MozWebSocket:typeof WebSocket<"u"&&(qr=WebSocket);class Vt{constructor(n,a,r,u,f,h,_){this.connId=n,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ms(this.connId),this.stats_=If(a),this.connURL=Vt.connectionURL_(a,h,_,u,r),this.nodeAdmin=a.nodeAdmin}static connectionURL_(n,a,r,u,f){const h={};return h[Qp]=xf,typeof location<"u"&&location.hostname&&Zp.test(location.hostname)&&(h[Kp]=Fp),a&&(h[Xp]=a),r&&(h[Pp]=r),u&&(h[ff]=u),f&&(h[Wp]=f),ty(n,Jp,h)}open(n,a){this.onDisconnect=a,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ii.set("previous_websocket_failure",!0);try{let r;A1(),this.mySock=new qr(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){Vt.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(a);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&qr!==null&&!Vt.forceDisallow_}static previouslyFailed(){return Ii.isInMemoryStorage||Ii.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ii.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const a=this.frames.join("");this.frames=null;const r=ns(a);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(U(this.frames===null,"We already have a frame buffer"),n.length<=6){const a=Number(n);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const a=n.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(a);else{const r=this.extractFrameCount_(a);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const a=je(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const r=Yp(a,NE);r.length>1&&this.sendString_(String(r.length));for(let u=0;u<r.length;u++)this.sendString_(r[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(RE))}sendString_(n){try{this.mySock.send(n)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Vt.responsesRequiredToBeHealthy=2;Vt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{static get ALL_TRANSPORTS(){return[Ol,Vt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const a=Vt&&Vt.isAvailable();let r=a&&!Vt.previouslyFailed();if(n.webSocketOnly&&(a||rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Vt];else{const u=this.transports_=[];for(const f of as.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f);as.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}as.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=6e4,OE=5e3,ME=10*1024,xE=100*1024,Fc="t",zg="d",IE="s",Ug="r",zE="e",Lg="o",Hg="a",Bg="n",kg="p",UE="h";class LE{constructor(n,a,r,u,f,h,_,g,m,v){this.id=n,this.repoInfo_=a,this.applicationId_=r,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=h,this.onReady_=_,this.onDisconnect_=g,this.onKill_=m,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ms("c:"+this.id+":"),this.transportManager_=new as(a),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,r)},Math.floor(0));const u=n.healthyTimeout||0;u>0&&(this.healthyTimeout_=Wa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>xE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ME?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return a=>{n===this.conn_?this.onConnectionLost_(a):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return a=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(a):n===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(n){const a={t:"d",d:n};this.sendData_(a)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Fc in n){const a=n[Fc];a===Hg?this.upgradeIfSecondaryHealthy_():a===Ug?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):a===Lg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const a=Qa("t",n),r=Qa("d",n);if(a==="c")this.onSecondaryControl_(r);else if(a==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+a)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:kg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Hg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Bg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const a=Qa("t",n),r=Qa("d",n);a==="c"?this.onControl_(r):a==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const a=Qa(Fc,n);if(zg in n){const r=n[zg];if(a===UE){const u=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(a===Bg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else a===IE?this.onConnectionShutdown_(r):a===Ug?this.onReset_(r):a===zE?cf("Server Error: "+r):a===Lg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cf("Unknown control packet command: "+a)}}onHandshake_(n){const a=n.ts,r=n.v,u=n.h;this.sessionId=n.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),xf!==r&&rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,r),Wa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(DE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,a){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(OE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:kg,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ii.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{put(n,a,r,u){}merge(n,a,r,u){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,a,r){}onDisconnectMerge(n,a,r){}onDisconnectCancel(n,a){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(n){this.allowedEvents_=n,this.listeners_={},U(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...a){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let u=0;u<r.length;u++)r[u].callback.apply(r[u].context,a)}}on(n,a,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:a,context:r});const u=this.getInitialEvent(n);u&&a.apply(r,u)}off(n,a,r){this.validateEventType_(n);const u=this.listeners_[n]||[];for(let f=0;f<u.length;f++)if(u[f].callback===a&&(!r||r===u[f].context)){u.splice(f,1);return}}validateEventType_(n){U(this.allowedEvents_.find(a=>a===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends oy{static getInstance(){return new Gr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Dp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return U(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=32,qg=768;class _e{constructor(n,a){if(a===void 0){this.pieces_=n.split("/");let r=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[r]=this.pieces_[u],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=a}toString(){let n="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)this.pieces_[a]!==""&&(n+="/"+this.pieces_[a]);return n||"/"}}function ce(){return new _e("")}function $(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function ri(l){return l.pieces_.length-l.pieceNum_}function be(l){let n=l.pieceNum_;return n<l.pieces_.length&&n++,new _e(l.pieces_,n)}function Uf(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function HE(l){let n="";for(let a=l.pieceNum_;a<l.pieces_.length;a++)l.pieces_[a]!==""&&(n+="/"+encodeURIComponent(String(l.pieces_[a])));return n||"/"}function ss(l,n=0){return l.pieces_.slice(l.pieceNum_+n)}function uy(l){if(l.pieceNum_>=l.pieces_.length)return null;const n=[];for(let a=l.pieceNum_;a<l.pieces_.length-1;a++)n.push(l.pieces_[a]);return new _e(n,0)}function Re(l,n){const a=[];for(let r=l.pieceNum_;r<l.pieces_.length;r++)a.push(l.pieces_[r]);if(n instanceof _e)for(let r=n.pieceNum_;r<n.pieces_.length;r++)a.push(n.pieces_[r]);else{const r=n.split("/");for(let u=0;u<r.length;u++)r[u].length>0&&a.push(r[u])}return new _e(a,0)}function te(l){return l.pieceNum_>=l.pieces_.length}function st(l,n){const a=$(l),r=$(n);if(a===null)return n;if(a===r)return st(be(l),be(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+l+")")}function BE(l,n){const a=ss(l,0),r=ss(n,0);for(let u=0;u<a.length&&u<r.length;u++){const f=qi(a[u],r[u]);if(f!==0)return f}return a.length===r.length?0:a.length<r.length?-1:1}function Lf(l,n){if(ri(l)!==ri(n))return!1;for(let a=l.pieceNum_,r=n.pieceNum_;a<=l.pieces_.length;a++,r++)if(l.pieces_[a]!==n.pieces_[r])return!1;return!0}function kt(l,n){let a=l.pieceNum_,r=n.pieceNum_;if(ri(l)>ri(n))return!1;for(;a<l.pieces_.length;){if(l.pieces_[a]!==n.pieces_[r])return!1;++a,++r}return!0}class kE{constructor(n,a){this.errorPrefix_=a,this.parts_=ss(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ao(this.parts_[r]);cy(this)}}function jE(l,n){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(n),l.byteLength_+=ao(n),cy(l)}function qE(l){const n=l.parts_.pop();l.byteLength_-=ao(n),l.parts_.length>0&&(l.byteLength_-=1)}function cy(l){if(l.byteLength_>qg)throw new Error(l.errorPrefix_+"has a key path longer than "+qg+" bytes ("+l.byteLength_+").");if(l.parts_.length>jg)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jg+") or object contains a cycle "+xi(l))}function xi(l){return l.parts_.length===0?"":"in property '"+l.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends oy{static getInstance(){return new Hf}constructor(){super(["visible"]);let n,a;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return U(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=1e3,GE=60*5*1e3,Gg=30*1e3,YE=1.3,VE=3e4,QE="server_kill",Yg=3;class Sn extends ry{constructor(n,a,r,u,f,h,_,g){if(super(),this.repoInfo_=n,this.applicationId_=a,this.onDataUpdate_=r,this.onConnectStatus_=u,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=_,this.authOverride_=g,this.id=Sn.nextPersistentConnectionId_++,this.log_=ms("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xa,this.maxReconnectDelay_=GE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Hf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Gr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,a,r){const u=++this.requestNumber_,f={r:u,a:n,b:a};this.log_(je(f)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[u]=r)}get(n){this.initConnection_();const a=new en,u={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const _=h.d;h.s==="ok"?a.resolve(_):a.reject(_)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),a.promise}listen(n,a,r,u){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),U(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const _={onComplete:u,hashFn:a,query:n,tag:r};this.listens.get(h).set(f,_),this.connected_&&this.sendListen_(_)}sendGet_(n){const a=this.outstandingGets_[n];this.sendRequest("g",a.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),a.onComplete&&a.onComplete(r)})}sendListen_(n){const a=n.query,r=a._path.toString(),u=a._queryIdentifier;this.log_("Listen on "+r+" for "+u);const f={p:r},h="q";n.tag&&(f.q=a._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,_=>{const g=_.d,m=_.s;Sn.warnOnListenWarnings_(g,a),(this.listens.get(r)&&this.listens.get(r).get(u))===n&&(this.log_("listen response",_),m!=="ok"&&this.removeListen_(r,u),n.onComplete&&n.onComplete(m,g))})}static warnOnListenWarnings_(n,a){if(n&&typeof n=="object"&&nn(n,"w")){const r=zl(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const u='".indexOn": "'+a._queryParams.getIndex().toString()+'"',f=a._path.toString();rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||M1(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Gg)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,a=O1(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(a,r,u=>{const f=u.s,h=u.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const a=n.s,r=n.d||"error";a==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(a,r)})}unlisten(n,a){const r=n._path.toString(),u=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+u),U(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,u)&&this.connected_&&this.sendUnlisten_(r,u,n._queryObject,a)}sendUnlisten_(n,a,r,u){this.log_("Unlisten on "+n+" for "+a);const f={p:n},h="n";u&&(f.q=r,f.t=u),this.sendRequest(h,f)}onDisconnectPut(n,a,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,a,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:a,onComplete:r})}onDisconnectMerge(n,a,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,a,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:a,onComplete:r})}onDisconnectCancel(n,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:a})}sendOnDisconnect_(n,a,r,u){const f={p:a,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{u&&setTimeout(()=>{u(h.s,h.d)},Math.floor(0))})}put(n,a,r,u){this.putInternal("p",n,a,r,u)}merge(n,a,r,u){this.putInternal("m",n,a,r,u)}putInternal(n,a,r,u,f){this.initConnection_();const h={p:a,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:u}),this.outstandingPutCount_++;const _=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(_):this.log_("Buffering put: "+a)}sendPut_(n){const a=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,u=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(a,r,f=>{this.log_(a+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(f.s,f.d)})}reportStats(n){if(this.connected_){const a={c:n};this.log_("reportStats",a),this.sendRequest("s",a,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+je(n));const a=n.r,r=this.requestCBHash_[a];r&&(delete this.requestCBHash_[a],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,a){this.log_("handleServerMessage",n,a),n==="d"?this.onDataUpdate_(a.p,a.d,!1,a.t):n==="m"?this.onDataUpdate_(a.p,a.d,!0,a.t):n==="c"?this.onListenRevoked_(a.p,a.q):n==="ac"?this.onAuthRevoked_(a.s,a.d):n==="apc"?this.onAppCheckRevoked_(a.s,a.d):n==="sd"?this.onSecurityDebugPacket_(a):cf("Unrecognized action received from server: "+je(n)+`
Are you using the latest client?`)}onReady_(n,a){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=a,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Xa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>VE&&(this.reconnectDelay_=Xa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let a=Math.max(0,this.reconnectDelay_-n);a=Math.random()*a,this.log_("Trying to reconnect in "+a+"ms"),this.scheduleConnect_(a),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*YE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+Sn.nextConnectionId_++,f=this.lastSessionId;let h=!1,_=null;const g=function(){_?_.close():(h=!0,r())},m=function(b){U(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(b)};this.realtime_={close:g,sendRequest:m};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,T]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);h?Ke("getToken() completed but was canceled"):(Ke("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=T&&T.token,_=new LE(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,a,r,z=>{rt(z+" ("+this.repoInfo_.toString()+")"),this.interrupt(QE)},f))}catch(b){this.log_("Failed to get token: "+b),h||(this.repoInfo_.nodeAdmin&&rt(b),g())}}}interrupt(n){Ke("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ke("Resuming connection for reason: "+n),delete this.interruptReasons_[n],lf(this.interruptReasons_)&&(this.reconnectDelay_=Xa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const a=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:a})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const a=this.outstandingPuts_[n];a&&"h"in a.request&&a.queued&&(a.onComplete&&a.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,a){let r;a?r=a.map(f=>Mf(f)).join("$"):r="default";const u=this.removeListen_(n,r);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(n,a){const r=new _e(n).toString();let u;if(this.listens.has(r)){const f=this.listens.get(r);u=f.get(a),f.delete(a),f.size===0&&this.listens.delete(r)}else u=void 0;return u}onAuthRevoked_(n,a){Ke("Auth token revoked: "+n+"/"+a),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Yg&&(this.reconnectDelay_=Gg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,a){Ke("App check token revoked: "+n+"/"+a),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Yg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const a of n.values())this.sendListen_(a);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let a="js";n["sdk."+a+"."+jp.replace(/\./g,"-")]=1,Dp()?n["framework.cordova"]=1:C1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Gr.getInstance().currentlyOnline();return lf(this.interruptReasons_)&&n}}Sn.nextPersistentConnectionId_=0;Sn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(n,a){this.name=n,this.node=a}static Wrap(n,a){return new ne(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,a){const r=new ne(Ll,n),u=new ne(Ll,a);return this.compare(r,u)!==0}minPost(){return ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ur;class fy extends ro{static get __EMPTY_NODE(){return Ur}static set __EMPTY_NODE(n){Ur=n}compare(n,a){return qi(n.name,a.name)}isDefinedOn(n){throw ql("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,a){return!1}minPost(){return ne.MIN}maxPost(){return new ne(Ui,Ur)}makePost(n,a){return U(typeof n=="string","KeyIndex indexValue must always be a string."),new ne(n,Ur)}toString(){return".key"}}const Il=new fy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(n,a,r,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=a?r(n.key,a):1,u&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),a;if(this.resultGenerator_?a=this.resultGenerator_(n.key,n.value):a={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class Xe{constructor(n,a,r,u,f){this.key=n,this.value=a,this.color=r??Xe.RED,this.left=u??dt.EMPTY_NODE,this.right=f??dt.EMPTY_NODE}copy(n,a,r,u,f){return new Xe(n??this.key,a??this.value,r??this.color,u??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,r){let u=this;const f=r(n,u.key);return f<0?u=u.copy(null,null,null,u.left.insert(n,a,r),null):f===0?u=u.copy(null,a,null,null,null):u=u.copy(null,null,null,null,u.right.insert(n,a,r)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return dt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,a){let r,u;if(r=this,a(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,a),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),a(n,r.key)===0){if(r.right.isEmpty())return dt.EMPTY_NODE;u=r.right.min_(),r=r.copy(u.key,u.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,a))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}Xe.RED=!0;Xe.BLACK=!1;class XE{copy(n,a,r,u,f){return this}insert(n,a,r){return new Xe(n,a,null)}remove(n,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class dt{constructor(n,a=dt.EMPTY_NODE){this.comparator_=n,this.root_=a}insert(n,a){return new dt(this.comparator_,this.root_.insert(n,a,this.comparator_).copy(null,null,Xe.BLACK,null,null))}remove(n){return new dt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Xe.BLACK,null,null))}get(n){let a,r=this.root_;for(;!r.isEmpty();){if(a=this.comparator_(n,r.key),a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}getPredecessorKey(n){let a,r=this.root_,u=null;for(;!r.isEmpty();)if(a=this.comparator_(n,r.key),a===0){if(r.left.isEmpty())return u?u.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else a<0?r=r.left:a>0&&(u=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Lr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,a){return new Lr(this.root_,n,this.comparator_,!1,a)}getReverseIteratorFrom(n,a){return new Lr(this.root_,n,this.comparator_,!0,a)}getReverseIterator(n){return new Lr(this.root_,null,this.comparator_,!0,n)}}dt.EMPTY_NODE=new XE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(l,n){return qi(l.name,n.name)}function Bf(l,n){return qi(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf;function FE(l){hf=l}const hy=function(l){return typeof l=="number"?"number:"+Vp(l):"string:"+l},dy=function(l){if(l.isLeafNode()){const n=l.val();U(typeof n=="string"||typeof n=="number"||typeof n=="object"&&nn(n,".sv"),"Priority must be a string or number.")}else U(l===hf||l.isEmpty(),"priority of unexpected type.");U(l===hf||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg;class Qe{static set __childrenNodeConstructor(n){Vg=n}static get __childrenNodeConstructor(){return Vg}constructor(n,a=Qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=a,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),dy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new Qe(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:Qe.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return te(n)?this:$(n)===".priority"?this.priorityNode_:Qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,a){return null}updateImmediateChild(n,a){return n===".priority"?this.updatePriority(a):a.isEmpty()&&n!==".priority"?this:Qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,a).updatePriority(this.priorityNode_)}updateChild(n,a){const r=$(n);return r===null?a:a.isEmpty()&&r!==".priority"?this:(U(r!==".priority"||ri(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(be(n),a)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,a){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+hy(this.priorityNode_.val())+":");const a=typeof this.value_;n+=a+":",a==="number"?n+=Vp(this.value_):n+=this.value_,this.lazyHash_=Gp(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===Qe.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof Qe.__childrenNodeConstructor?-1:(U(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const a=typeof n.value_,r=typeof this.value_,u=Qe.VALUE_TYPE_ORDER.indexOf(a),f=Qe.VALUE_TYPE_ORDER.indexOf(r);return U(u>=0,"Unknown leaf type: "+a),U(f>=0,"Unknown leaf type: "+r),u===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-u}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const a=n;return this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}else return!1}}Qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _y,my;function ZE(l){_y=l}function PE(l){my=l}class WE extends ro{compare(n,a){const r=n.node.getPriority(),u=a.node.getPriority(),f=r.compareTo(u);return f===0?qi(n.name,a.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,a){return!n.getPriority().equals(a.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(Ui,new Qe("[PRIORITY-POST]",my))}makePost(n,a){const r=_y(n);return new ne(a,new Qe("[PRIORITY-POST]",r))}toString(){return".priority"}}const De=new WE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=Math.log(2);class $E{constructor(n){const a=f=>parseInt(Math.log(f)/JE,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=a(n+1),this.current_=this.count-1;const u=r(this.count);this.bits_=n+1&u}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Yr=function(l,n,a,r){l.sort(n);const u=function(g,m){const v=m-g;let b,T;if(v===0)return null;if(v===1)return b=l[g],T=a?a(b):b,new Xe(T,b.node,Xe.BLACK,null,null);{const z=parseInt(v/2,10)+g,L=u(g,z),Z=u(z+1,m);return b=l[z],T=a?a(b):b,new Xe(T,b.node,Xe.BLACK,L,Z)}},f=function(g){let m=null,v=null,b=l.length;const T=function(L,Z){const ae=b-L,Ze=b;b-=L;const He=u(ae+1,Ze),Ce=l[ae],lt=a?a(Ce):Ce;z(new Xe(lt,Ce.node,Z,null,He))},z=function(L){m?(m.left=L,m=L):(v=L,m=L)};for(let L=0;L<g.count;++L){const Z=g.nextBitIsOne(),ae=Math.pow(2,g.count-(L+1));Z?T(ae,Xe.BLACK):(T(ae,Xe.BLACK),T(ae,Xe.RED))}return v},h=new $E(l.length),_=f(h);return new dt(r||n,_)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc;const Dl={};class bn{static get Default(){return U(Dl&&De,"ChildrenNode.ts has not been loaded"),Zc=Zc||new bn({".priority":Dl},{".priority":De}),Zc}constructor(n,a){this.indexes_=n,this.indexSet_=a}get(n){const a=zl(this.indexes_,n);if(!a)throw new Error("No index defined for "+n);return a instanceof dt?a:null}hasIndex(n){return nn(this.indexSet_,n.toString())}addIndex(n,a){U(n!==Il,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let u=!1;const f=a.getIterator(ne.Wrap);let h=f.getNext();for(;h;)u=u||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let _;u?_=Yr(r,n.getCompare()):_=Dl;const g=n.toString(),m=Object.assign({},this.indexSet_);m[g]=n;const v=Object.assign({},this.indexes_);return v[g]=_,new bn(v,m)}addToIndexes(n,a){const r=kr(this.indexes_,(u,f)=>{const h=zl(this.indexSet_,f);if(U(h,"Missing index implementation for "+f),u===Dl)if(h.isDefinedOn(n.node)){const _=[],g=a.getIterator(ne.Wrap);let m=g.getNext();for(;m;)m.name!==n.name&&_.push(m),m=g.getNext();return _.push(n),Yr(_,h.getCompare())}else return Dl;else{const _=a.get(n.name);let g=u;return _&&(g=g.remove(new ne(n.name,_))),g.insert(n,n.node)}});return new bn(r,this.indexSet_)}removeFromIndexes(n,a){const r=kr(this.indexes_,u=>{if(u===Dl)return u;{const f=a.get(n.name);return f?u.remove(new ne(n.name,f)):u}});return new bn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka;class K{static get EMPTY_NODE(){return Ka||(Ka=new K(new dt(Bf),null,bn.Default))}constructor(n,a,r){this.children_=n,this.priorityNode_=a,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&dy(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ka}updatePriority(n){return this.children_.isEmpty()?this:new K(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const a=this.children_.get(n);return a===null?Ka:a}}getChild(n){const a=$(n);return a===null?this:this.getImmediateChild(a).getChild(be(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,a){if(U(a,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(a);{const r=new ne(n,a);let u,f;a.isEmpty()?(u=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(u=this.children_.insert(n,a),f=this.indexMap_.addToIndexes(r,this.children_));const h=u.isEmpty()?Ka:this.priorityNode_;return new K(u,h,f)}}updateChild(n,a){const r=$(n);if(r===null)return a;{U($(n)!==".priority"||ri(n)===1,".priority must be the last token in a path");const u=this.getImmediateChild(r).updateChild(be(n),a);return this.updateImmediateChild(r,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const a={};let r=0,u=0,f=!0;if(this.forEachChild(De,(h,_)=>{a[h]=_.val(n),r++,f&&K.INTEGER_REGEXP_.test(h)?u=Math.max(u,Number(h)):f=!1}),!n&&f&&u<2*r){const h=[];for(const _ in a)h[_]=a[_];return h}else return n&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+hy(this.getPriority().val())+":"),this.forEachChild(De,(a,r)=>{const u=r.hash();u!==""&&(n+=":"+a+":"+u)}),this.lazyHash_=n===""?"":Gp(n)}return this.lazyHash_}getPredecessorChildName(n,a,r){const u=this.resolveIndex_(r);if(u){const f=u.getPredecessorKey(new ne(n,a));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const a=this.resolveIndex_(n);if(a){const r=a.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const a=this.getFirstChildName(n);return a?new ne(a,this.children_.get(a)):null}getLastChildName(n){const a=this.resolveIndex_(n);if(a){const r=a.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const a=this.getLastChildName(n);return a?new ne(a,this.children_.get(a)):null}forEachChild(n,a){const r=this.resolveIndex_(n);return r?r.inorderTraversal(u=>a(u.name,u.node)):this.children_.inorderTraversal(a)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,a){const r=this.resolveIndex_(a);if(r)return r.getIteratorFrom(n,u=>u);{const u=this.children_.getIteratorFrom(n.name,ne.Wrap);let f=u.peek();for(;f!=null&&a.compare(f,n)<0;)u.getNext(),f=u.peek();return u}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,a){const r=this.resolveIndex_(a);if(r)return r.getReverseIteratorFrom(n,u=>u);{const u=this.children_.getReverseIteratorFrom(n.name,ne.Wrap);let f=u.peek();for(;f!=null&&a.compare(f,n)>0;)u.getNext(),f=u.peek();return u}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===gs?-1:0}withIndex(n){if(n===Il||this.indexMap_.hasIndex(n))return this;{const a=this.indexMap_.addIndex(n,this.children_);return new K(this.children_,this.priorityNode_,a)}}isIndexed(n){return n===Il||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const a=n;if(this.getPriority().equals(a.getPriority()))if(this.children_.count()===a.children_.count()){const r=this.getIterator(De),u=a.getIterator(De);let f=r.getNext(),h=u.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=u.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Il?null:this.indexMap_.get(n.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class eT extends K{constructor(){super(new dt(Bf),K.EMPTY_NODE,bn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return K.EMPTY_NODE}isEmpty(){return!1}}const gs=new eT;Object.defineProperties(ne,{MIN:{value:new ne(Ll,K.EMPTY_NODE)},MAX:{value:new ne(Ui,gs)}});fy.__EMPTY_NODE=K.EMPTY_NODE;Qe.__childrenNodeConstructor=K;FE(gs);PE(gs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=!0;function xe(l,n=null){if(l===null)return K.EMPTY_NODE;if(typeof l=="object"&&".priority"in l&&(n=l[".priority"]),U(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof l=="object"&&".value"in l&&l[".value"]!==null&&(l=l[".value"]),typeof l!="object"||".sv"in l){const a=l;return new Qe(a,xe(n))}if(!(l instanceof Array)&&tT){const a=[];let r=!1;if(Fe(l,(h,_)=>{if(h.substring(0,1)!=="."){const g=xe(_);g.isEmpty()||(r=r||!g.getPriority().isEmpty(),a.push(new ne(h,g)))}}),a.length===0)return K.EMPTY_NODE;const f=Yr(a,KE,h=>h.name,Bf);if(r){const h=Yr(a,De.getCompare());return new K(f,xe(n),new bn({".priority":h},{".priority":De}))}else return new K(f,xe(n),bn.Default)}else{let a=K.EMPTY_NODE;return Fe(l,(r,u)=>{if(nn(l,r)&&r.substring(0,1)!=="."){const f=xe(u);(f.isLeafNode()||!f.isEmpty())&&(a=a.updateImmediateChild(r,f))}}),a.updatePriority(xe(n))}}ZE(xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends ro{constructor(n){super(),this.indexPath_=n,U(!te(n)&&$(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,a){const r=this.extractChild(n.node),u=this.extractChild(a.node),f=r.compareTo(u);return f===0?qi(n.name,a.name):f}makePost(n,a){const r=xe(n),u=K.EMPTY_NODE.updateChild(this.indexPath_,r);return new ne(a,u)}maxPost(){const n=K.EMPTY_NODE.updateChild(this.indexPath_,gs);return new ne(Ui,n)}toString(){return ss(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends ro{compare(n,a){const r=n.node.compareTo(a.node);return r===0?qi(n.name,a.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,a){return!n.equals(a)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(n,a){const r=xe(n);return new ne(a,r)}toString(){return".value"}}const lT=new iT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(l){return{type:"value",snapshotNode:l}}function Hl(l,n){return{type:"child_added",snapshotNode:n,childName:l}}function rs(l,n){return{type:"child_removed",snapshotNode:n,childName:l}}function os(l,n,a){return{type:"child_changed",snapshotNode:n,childName:l,oldSnap:a}}function aT(l,n){return{type:"child_moved",snapshotNode:n,childName:l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(n){this.index_=n}updateChild(n,a,r,u,f,h){U(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=n.getImmediateChild(a);return _.getChild(u).equals(r.getChild(u))&&_.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(a)?h.trackChildChange(rs(a,_)):U(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?h.trackChildChange(Hl(a,r)):h.trackChildChange(os(a,r,_))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(a,r).withIndex(this.index_)}updateFullNode(n,a,r){return r!=null&&(n.isLeafNode()||n.forEachChild(De,(u,f)=>{a.hasChild(u)||r.trackChildChange(rs(u,f))}),a.isLeafNode()||a.forEachChild(De,(u,f)=>{if(n.hasChild(u)){const h=n.getImmediateChild(u);h.equals(f)||r.trackChildChange(os(u,f,h))}else r.trackChildChange(Hl(u,f))})),a.withIndex(this.index_)}updatePriority(n,a){return n.isEmpty()?K.EMPTY_NODE:n.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(n){this.indexedFilter_=new kf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=us.getStartPost_(n),this.endPost_=us.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const a=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return a&&r}updateChild(n,a,r,u,f,h){return this.matches(new ne(a,r))||(r=K.EMPTY_NODE),this.indexedFilter_.updateChild(n,a,r,u,f,h)}updateFullNode(n,a,r){a.isLeafNode()&&(a=K.EMPTY_NODE);let u=a.withIndex(this.index_);u=u.updatePriority(K.EMPTY_NODE);const f=this;return a.forEachChild(De,(h,_)=>{f.matches(new ne(h,_))||(u=u.updateImmediateChild(h,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,u,r)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const a=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),a)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const a=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),a)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(n){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=a=>{const r=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new us(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,a,r,u,f,h){return this.rangedFilter_.matches(new ne(a,r))||(r=K.EMPTY_NODE),n.getImmediateChild(a).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,a,r,u,f,h):this.fullLimitUpdateChild_(n,a,r,f,h)}updateFullNode(n,a,r){let u;if(a.isLeafNode()||a.isEmpty())u=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<a.numChildren()&&a.isIndexed(this.index_)){u=K.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const _=f.getNext();if(this.withinDirectionalStart(_))if(this.withinDirectionalEnd(_))u=u.updateImmediateChild(_.name,_.node),h++;else break;else continue}}else{u=a.withIndex(this.index_),u=u.updatePriority(K.EMPTY_NODE);let f;this.reverse_?f=u.getReverseIterator(this.index_):f=u.getIterator(this.index_);let h=0;for(;f.hasNext();){const _=f.getNext();h<this.limit_&&this.withinDirectionalStart(_)&&this.withinDirectionalEnd(_)?h++:u=u.updateImmediateChild(_.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,u,r)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,a,r,u,f){let h;if(this.reverse_){const b=this.index_.getCompare();h=(T,z)=>b(z,T)}else h=this.index_.getCompare();const _=n;U(_.numChildren()===this.limit_,"");const g=new ne(a,r),m=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),v=this.rangedFilter_.matches(g);if(_.hasChild(a)){const b=_.getImmediateChild(a);let T=u.getChildAfterChild(this.index_,m,this.reverse_);for(;T!=null&&(T.name===a||_.hasChild(T.name));)T=u.getChildAfterChild(this.index_,T,this.reverse_);const z=T==null?1:h(T,g);if(v&&!r.isEmpty()&&z>=0)return f!=null&&f.trackChildChange(os(a,r,b)),_.updateImmediateChild(a,r);{f!=null&&f.trackChildChange(rs(a,b));const Z=_.updateImmediateChild(a,K.EMPTY_NODE);return T!=null&&this.rangedFilter_.matches(T)?(f!=null&&f.trackChildChange(Hl(T.name,T.node)),Z.updateImmediateChild(T.name,T.node)):Z}}else return r.isEmpty()?n:v&&h(m,g)>=0?(f!=null&&(f.trackChildChange(rs(m.name,m.node)),f.trackChildChange(Hl(a,r))),_.updateImmediateChild(a,r).updateImmediateChild(m.name,K.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=De}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ll}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ui}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===De}copy(){const n=new jf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function rT(l){return l.loadsAllData()?new kf(l.getIndex()):l.hasLimit()?new sT(l):new us(l)}function Qg(l){const n={};if(l.isDefault())return n;let a;if(l.index_===De?a="$priority":l.index_===lT?a="$value":l.index_===Il?a="$key":(U(l.index_ instanceof nT,"Unrecognized index type!"),a=l.index_.toString()),n.orderBy=je(a),l.startSet_){const r=l.startAfterSet_?"startAfter":"startAt";n[r]=je(l.indexStartValue_),l.startNameSet_&&(n[r]+=","+je(l.indexStartName_))}if(l.endSet_){const r=l.endBeforeSet_?"endBefore":"endAt";n[r]=je(l.indexEndValue_),l.endNameSet_&&(n[r]+=","+je(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?n.limitToFirst=l.limit_:n.limitToLast=l.limit_),n}function Xg(l){const n={};if(l.startSet_&&(n.sp=l.indexStartValue_,l.startNameSet_&&(n.sn=l.indexStartName_),n.sin=!l.startAfterSet_),l.endSet_&&(n.ep=l.indexEndValue_,l.endNameSet_&&(n.en=l.indexEndName_),n.ein=!l.endBeforeSet_),l.limitSet_){n.l=l.limit_;let a=l.viewFrom_;a===""&&(l.isViewFromLeft()?a="l":a="r"),n.vf=a}return l.index_!==De&&(n.i=l.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends ry{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,a){return a!==void 0?"tag$"+a:(U(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,a,r,u){super(),this.repoInfo_=n,this.onDataUpdate_=a,this.authTokenProvider_=r,this.appCheckTokenProvider_=u,this.log_=ms("p:rest:"),this.listens_={}}listen(n,a,r,u){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Vr.getListenId_(n,r),_={};this.listens_[h]=_;const g=Qg(n._queryParams);this.restRequest_(f+".json",g,(m,v)=>{let b=v;if(m===404&&(b=null,m=null),m===null&&this.onDataUpdate_(f,b,!1,r),zl(this.listens_,h)===_){let T;m?m===401?T="permission_denied":T="rest_error:"+m:T="ok",u(T,null)}})}unlisten(n,a){const r=Vr.getListenId_(n,a);delete this.listens_[r]}get(n){const a=Qg(n._queryParams),r=n._path.toString(),u=new en;return this.restRequest_(r+".json",a,(f,h)=>{let _=h;f===404&&(_=null,f=null),f===null?(this.onDataUpdate_(r,_,!1,null),u.resolve(_)):u.reject(new Error(_))}),u.promise}refreshAuthToken(n){}restRequest_(n,a={},r){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(a.auth=u.accessToken),f&&f.token&&(a.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+x1(a);this.log_("Sending REST request for "+h);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(r&&_.readyState===4){this.log_("REST Response for "+h+" received. status:",_.status,"response:",_.responseText);let g=null;if(_.status>=200&&_.status<300){try{g=ns(_.responseText)}catch{rt("Failed to parse JSON response for "+h+": "+_.responseText)}r(null,g)}else _.status!==401&&_.status!==404&&rt("Got unsuccessful REST response for "+h+" Status: "+_.status),r(_.status);r=null}},_.open("GET",h,!0),_.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,a){this.rootNode_=this.rootNode_.updateChild(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return{value:null,children:new Map}}function Yl(l,n,a){if(te(n))l.value=a,l.children.clear();else if(l.value!==null)l.value=l.value.updateChild(n,a);else{const r=$(n);l.children.has(r)||l.children.set(r,Qr());const u=l.children.get(r);n=be(n),Yl(u,n,a)}}function df(l,n){if(te(n))return l.value=null,l.children.clear(),!0;if(l.value!==null){if(l.value.isLeafNode())return!1;{const a=l.value;return l.value=null,a.forEachChild(De,(r,u)=>{Yl(l,new _e(r),u)}),df(l,n)}}else if(l.children.size>0){const a=$(n);return n=be(n),l.children.has(a)&&df(l.children.get(a),n)&&l.children.delete(a),l.children.size===0}else return!0}function _f(l,n,a){l.value!==null?a(n,l.value):uT(l,(r,u)=>{const f=new _e(n.toString()+"/"+r);_f(u,f,a)})}function uT(l,n){l.children.forEach((a,r)=>{n(r,a)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),a=Object.assign({},n);return this.last_&&Fe(this.last_,(r,u)=>{a[r]=a[r]-u}),this.last_=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=10*1e3,fT=30*1e3,hT=5*60*1e3;class dT{constructor(n,a){this.server_=a,this.statsToReport_={},this.statsListener_=new cT(n);const r=Kg+(fT-Kg)*Math.random();Wa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),a={};let r=!1;Fe(n,(u,f)=>{f>0&&nn(this.statsToReport_,u)&&(a[u]=f,r=!0)}),r&&this.server_.reportStats(a),Wa(this.reportStats_.bind(this),Math.floor(Math.random()*2*hT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(l){l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qt||(Qt={}));function qf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Gf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Yf(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(n,a,r){this.path=n,this.affectedTree=a,this.revert=r,this.type=Qt.ACK_USER_WRITE,this.source=qf()}operationForChild(n){if(te(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new _e(n));return new Xr(ce(),a,this.revert)}}else return U($(this.path)===n,"operationForChild called for unrelated child."),new Xr(be(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(n,a){this.source=n,this.path=a,this.type=Qt.LISTEN_COMPLETE}operationForChild(n){return te(this.path)?new cs(this.source,ce()):new cs(this.source,be(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(n,a,r){this.source=n,this.path=a,this.snap=r,this.type=Qt.OVERWRITE}operationForChild(n){return te(this.path)?new Li(this.source,ce(),this.snap.getImmediateChild(n)):new Li(this.source,be(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(n,a,r){this.source=n,this.path=a,this.children=r,this.type=Qt.MERGE}operationForChild(n){if(te(this.path)){const a=this.children.subtree(new _e(n));return a.isEmpty()?null:a.value?new Li(this.source,ce(),a.value):new Bl(this.source,ce(),a)}else return U($(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Bl(this.source,be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(n,a,r){this.node_=n,this.fullyInitialized_=a,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(te(n))return this.isFullyInitialized()&&!this.filtered_;const a=$(n);return this.isCompleteForChild(a)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function mT(l,n,a,r){const u=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&l.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(aT(h.childName,h.snapshotNode))}),Fa(l,u,"child_removed",n,r,a),Fa(l,u,"child_added",n,r,a),Fa(l,u,"child_moved",f,r,a),Fa(l,u,"child_changed",n,r,a),Fa(l,u,"value",n,r,a),u}function Fa(l,n,a,r,u,f){const h=r.filter(_=>_.type===a);h.sort((_,g)=>pT(l,_,g)),h.forEach(_=>{const g=gT(l,_,f);u.forEach(m=>{m.respondsTo(_.type)&&n.push(m.createEvent(g,l.query_))})})}function gT(l,n,a){return n.type==="value"||n.type==="child_removed"||(n.prevName=a.getPredecessorChildName(n.childName,n.snapshotNode,l.index_)),n}function pT(l,n,a){if(n.childName==null||a.childName==null)throw ql("Should only compare child_ events.");const r=new ne(n.childName,n.snapshotNode),u=new ne(a.childName,a.snapshotNode);return l.index_.compare(r,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(l,n){return{eventCache:l,serverCache:n}}function Ja(l,n,a,r){return oo(new oi(n,a,r),l.serverCache)}function py(l,n,a,r){return oo(l.eventCache,new oi(n,a,r))}function Kr(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function Hi(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc;const yT=()=>(Pc||(Pc=new dt(nE)),Pc);class Ee{static fromObject(n){let a=new Ee(null);return Fe(n,(r,u)=>{a=a.set(new _e(r),u)}),a}constructor(n,a=yT()){this.value=n,this.children=a}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,a){if(this.value!=null&&a(this.value))return{path:ce(),value:this.value};if(te(n))return null;{const r=$(n),u=this.children.get(r);if(u!==null){const f=u.findRootMostMatchingPathAndValue(be(n),a);return f!=null?{path:Re(new _e(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(te(n))return this;{const a=$(n),r=this.children.get(a);return r!==null?r.subtree(be(n)):new Ee(null)}}set(n,a){if(te(n))return new Ee(a,this.children);{const r=$(n),f=(this.children.get(r)||new Ee(null)).set(be(n),a),h=this.children.insert(r,f);return new Ee(this.value,h)}}remove(n){if(te(n))return this.children.isEmpty()?new Ee(null):new Ee(null,this.children);{const a=$(n),r=this.children.get(a);if(r){const u=r.remove(be(n));let f;return u.isEmpty()?f=this.children.remove(a):f=this.children.insert(a,u),this.value===null&&f.isEmpty()?new Ee(null):new Ee(this.value,f)}else return this}}get(n){if(te(n))return this.value;{const a=$(n),r=this.children.get(a);return r?r.get(be(n)):null}}setTree(n,a){if(te(n))return a;{const r=$(n),f=(this.children.get(r)||new Ee(null)).setTree(be(n),a);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new Ee(this.value,h)}}fold(n){return this.fold_(ce(),n)}fold_(n,a){const r={};return this.children.inorderTraversal((u,f)=>{r[u]=f.fold_(Re(n,u),a)}),a(n,this.value,r)}findOnPath(n,a){return this.findOnPath_(n,ce(),a)}findOnPath_(n,a,r){const u=this.value?r(a,this.value):!1;if(u)return u;if(te(n))return null;{const f=$(n),h=this.children.get(f);return h?h.findOnPath_(be(n),Re(a,f),r):null}}foreachOnPath(n,a){return this.foreachOnPath_(n,ce(),a)}foreachOnPath_(n,a,r){if(te(n))return this;{this.value&&r(a,this.value);const u=$(n),f=this.children.get(u);return f?f.foreachOnPath_(be(n),Re(a,u),r):new Ee(null)}}foreach(n){this.foreach_(ce(),n)}foreach_(n,a){this.children.inorderTraversal((r,u)=>{u.foreach_(Re(n,r),a)}),this.value&&a(n,this.value)}foreachChild(n){this.children.inorderTraversal((a,r)=>{r.value&&n(a,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(n){this.writeTree_=n}static empty(){return new Xt(new Ee(null))}}function $a(l,n,a){if(te(n))return new Xt(new Ee(a));{const r=l.writeTree_.findRootMostValueAndPath(n);if(r!=null){const u=r.path;let f=r.value;const h=st(u,n);return f=f.updateChild(h,a),new Xt(l.writeTree_.set(u,f))}else{const u=new Ee(a),f=l.writeTree_.setTree(n,u);return new Xt(f)}}}function mf(l,n,a){let r=l;return Fe(a,(u,f)=>{r=$a(r,Re(n,u),f)}),r}function Fg(l,n){if(te(n))return Xt.empty();{const a=l.writeTree_.setTree(n,new Ee(null));return new Xt(a)}}function gf(l,n){return Gi(l,n)!=null}function Gi(l,n){const a=l.writeTree_.findRootMostValueAndPath(n);return a!=null?l.writeTree_.get(a.path).getChild(st(a.path,n)):null}function Zg(l){const n=[],a=l.writeTree_.value;return a!=null?a.isLeafNode()||a.forEachChild(De,(r,u)=>{n.push(new ne(r,u))}):l.writeTree_.children.inorderTraversal((r,u)=>{u.value!=null&&n.push(new ne(r,u.value))}),n}function li(l,n){if(te(n))return l;{const a=Gi(l,n);return a!=null?new Xt(new Ee(a)):new Xt(l.writeTree_.subtree(n))}}function pf(l){return l.writeTree_.isEmpty()}function kl(l,n){return yy(ce(),l.writeTree_,n)}function yy(l,n,a){if(n.value!=null)return a.updateChild(l,n.value);{let r=null;return n.children.inorderTraversal((u,f)=>{u===".priority"?(U(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):a=yy(Re(l,u),f,a)}),!a.getChild(l).isEmpty()&&r!==null&&(a=a.updateChild(Re(l,".priority"),r)),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(l,n){return Ey(n,l)}function vT(l,n,a,r,u){U(r>l.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),l.allWrites.push({path:n,snap:a,writeId:r,visible:u}),u&&(l.visibleWrites=$a(l.visibleWrites,n,a)),l.lastWriteId=r}function bT(l,n,a,r){U(r>l.lastWriteId,"Stacking an older merge on top of newer ones"),l.allWrites.push({path:n,children:a,writeId:r,visible:!0}),l.visibleWrites=mf(l.visibleWrites,n,a),l.lastWriteId=r}function ST(l,n){for(let a=0;a<l.allWrites.length;a++){const r=l.allWrites[a];if(r.writeId===n)return r}return null}function ET(l,n){const a=l.allWrites.findIndex(_=>_.writeId===n);U(a>=0,"removeWrite called with nonexistent writeId.");const r=l.allWrites[a];l.allWrites.splice(a,1);let u=r.visible,f=!1,h=l.allWrites.length-1;for(;u&&h>=0;){const _=l.allWrites[h];_.visible&&(h>=a&&TT(_,r.path)?u=!1:kt(r.path,_.path)&&(f=!0)),h--}if(u){if(f)return CT(l),!0;if(r.snap)l.visibleWrites=Fg(l.visibleWrites,r.path);else{const _=r.children;Fe(_,g=>{l.visibleWrites=Fg(l.visibleWrites,Re(r.path,g))})}return!0}else return!1}function TT(l,n){if(l.snap)return kt(l.path,n);for(const a in l.children)if(l.children.hasOwnProperty(a)&&kt(Re(l.path,a),n))return!0;return!1}function CT(l){l.visibleWrites=vy(l.allWrites,AT,ce()),l.allWrites.length>0?l.lastWriteId=l.allWrites[l.allWrites.length-1].writeId:l.lastWriteId=-1}function AT(l){return l.visible}function vy(l,n,a){let r=Xt.empty();for(let u=0;u<l.length;++u){const f=l[u];if(n(f)){const h=f.path;let _;if(f.snap)kt(a,h)?(_=st(a,h),r=$a(r,_,f.snap)):kt(h,a)&&(_=st(h,a),r=$a(r,ce(),f.snap.getChild(_)));else if(f.children){if(kt(a,h))_=st(a,h),r=mf(r,_,f.children);else if(kt(h,a))if(_=st(h,a),te(_))r=mf(r,ce(),f.children);else{const g=zl(f.children,$(_));if(g){const m=g.getChild(be(_));r=$a(r,ce(),m)}}}else throw ql("WriteRecord should have .snap or .children")}}return r}function by(l,n,a,r,u){if(!r&&!u){const f=Gi(l.visibleWrites,n);if(f!=null)return f;{const h=li(l.visibleWrites,n);if(pf(h))return a;if(a==null&&!gf(h,ce()))return null;{const _=a||K.EMPTY_NODE;return kl(h,_)}}}else{const f=li(l.visibleWrites,n);if(!u&&pf(f))return a;if(!u&&a==null&&!gf(f,ce()))return null;{const h=function(m){return(m.visible||u)&&(!r||!~r.indexOf(m.writeId))&&(kt(m.path,n)||kt(n,m.path))},_=vy(l.allWrites,h,n),g=a||K.EMPTY_NODE;return kl(_,g)}}}function wT(l,n,a){let r=K.EMPTY_NODE;const u=Gi(l.visibleWrites,n);if(u)return u.isLeafNode()||u.forEachChild(De,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(a){const f=li(l.visibleWrites,n);return a.forEachChild(De,(h,_)=>{const g=kl(li(f,new _e(h)),_);r=r.updateImmediateChild(h,g)}),Zg(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=li(l.visibleWrites,n);return Zg(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function NT(l,n,a,r,u){U(r||u,"Either existingEventSnap or existingServerSnap must exist");const f=Re(n,a);if(gf(l.visibleWrites,f))return null;{const h=li(l.visibleWrites,f);return pf(h)?u.getChild(a):kl(h,u.getChild(a))}}function RT(l,n,a,r){const u=Re(n,a),f=Gi(l.visibleWrites,u);if(f!=null)return f;if(r.isCompleteForChild(a)){const h=li(l.visibleWrites,u);return kl(h,r.getNode().getImmediateChild(a))}else return null}function DT(l,n){return Gi(l.visibleWrites,n)}function OT(l,n,a,r,u,f,h){let _;const g=li(l.visibleWrites,n),m=Gi(g,ce());if(m!=null)_=m;else if(a!=null)_=kl(g,a);else return[];if(_=_.withIndex(h),!_.isEmpty()&&!_.isLeafNode()){const v=[],b=h.getCompare(),T=f?_.getReverseIteratorFrom(r,h):_.getIteratorFrom(r,h);let z=T.getNext();for(;z&&v.length<u;)b(z,r)!==0&&v.push(z),z=T.getNext();return v}else return[]}function MT(){return{visibleWrites:Xt.empty(),allWrites:[],lastWriteId:-1}}function Fr(l,n,a,r){return by(l.writeTree,l.treePath,n,a,r)}function Vf(l,n){return wT(l.writeTree,l.treePath,n)}function Pg(l,n,a,r){return NT(l.writeTree,l.treePath,n,a,r)}function Zr(l,n){return DT(l.writeTree,Re(l.treePath,n))}function xT(l,n,a,r,u,f){return OT(l.writeTree,l.treePath,n,a,r,u,f)}function Qf(l,n,a){return RT(l.writeTree,l.treePath,n,a)}function Sy(l,n){return Ey(Re(l.treePath,n),l.writeTree)}function Ey(l,n){return{treePath:l,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.changeMap=new Map}trackChildChange(n){const a=n.type,r=n.childName;U(a==="child_added"||a==="child_changed"||a==="child_removed","Only child changes supported for tracking"),U(r!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(r);if(u){const f=u.type;if(a==="child_added"&&f==="child_removed")this.changeMap.set(r,os(r,n.snapshotNode,u.snapshotNode));else if(a==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(a==="child_removed"&&f==="child_changed")this.changeMap.set(r,rs(r,u.oldSnap));else if(a==="child_changed"&&f==="child_added")this.changeMap.set(r,Hl(r,n.snapshotNode));else if(a==="child_changed"&&f==="child_changed")this.changeMap.set(r,os(r,n.snapshotNode,u.oldSnap));else throw ql("Illegal combination of changes: "+n+" occurred after "+u)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{getCompleteChild(n){return null}getChildAfterChild(n,a,r){return null}}const Ty=new zT;class Xf{constructor(n,a,r=null){this.writes_=n,this.viewCache_=a,this.optCompleteServerCache_=r}getCompleteChild(n){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(n))return a.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new oi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qf(this.writes_,n,r)}}getChildAfterChild(n,a,r){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Hi(this.viewCache_),f=xT(this.writes_,u,a,1,r,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(l){return{filter:l}}function LT(l,n){U(n.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),U(n.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}function HT(l,n,a,r,u){const f=new IT;let h,_;if(a.type===Qt.OVERWRITE){const m=a;m.source.fromUser?h=yf(l,n,m.path,m.snap,r,u,f):(U(m.source.fromServer,"Unknown source."),_=m.source.tagged||n.serverCache.isFiltered()&&!te(m.path),h=Pr(l,n,m.path,m.snap,r,u,_,f))}else if(a.type===Qt.MERGE){const m=a;m.source.fromUser?h=kT(l,n,m.path,m.children,r,u,f):(U(m.source.fromServer,"Unknown source."),_=m.source.tagged||n.serverCache.isFiltered(),h=vf(l,n,m.path,m.children,r,u,_,f))}else if(a.type===Qt.ACK_USER_WRITE){const m=a;m.revert?h=GT(l,n,m.path,r,u,f):h=jT(l,n,m.path,m.affectedTree,r,u,f)}else if(a.type===Qt.LISTEN_COMPLETE)h=qT(l,n,a.path,r,f);else throw ql("Unknown operation type: "+a.type);const g=f.getChanges();return BT(n,h,g),{viewCache:h,changes:g}}function BT(l,n,a){const r=n.eventCache;if(r.isFullyInitialized()){const u=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=Kr(l);(a.length>0||!l.eventCache.isFullyInitialized()||u&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&a.push(gy(Kr(n)))}}function Cy(l,n,a,r,u,f){const h=n.eventCache;if(Zr(r,a)!=null)return n;{let _,g;if(te(a))if(U(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const m=Hi(n),v=m instanceof K?m:K.EMPTY_NODE,b=Vf(r,v);_=l.filter.updateFullNode(n.eventCache.getNode(),b,f)}else{const m=Fr(r,Hi(n));_=l.filter.updateFullNode(n.eventCache.getNode(),m,f)}else{const m=$(a);if(m===".priority"){U(ri(a)===1,"Can't have a priority with additional path components");const v=h.getNode();g=n.serverCache.getNode();const b=Pg(r,a,v,g);b!=null?_=l.filter.updatePriority(v,b):_=h.getNode()}else{const v=be(a);let b;if(h.isCompleteForChild(m)){g=n.serverCache.getNode();const T=Pg(r,a,h.getNode(),g);T!=null?b=h.getNode().getImmediateChild(m).updateChild(v,T):b=h.getNode().getImmediateChild(m)}else b=Qf(r,m,n.serverCache);b!=null?_=l.filter.updateChild(h.getNode(),m,b,v,u,f):_=h.getNode()}}return Ja(n,_,h.isFullyInitialized()||te(a),l.filter.filtersNodes())}}function Pr(l,n,a,r,u,f,h,_){const g=n.serverCache;let m;const v=h?l.filter:l.filter.getIndexedFilter();if(te(a))m=v.updateFullNode(g.getNode(),r,null);else if(v.filtersNodes()&&!g.isFiltered()){const z=g.getNode().updateChild(a,r);m=v.updateFullNode(g.getNode(),z,null)}else{const z=$(a);if(!g.isCompleteForPath(a)&&ri(a)>1)return n;const L=be(a),ae=g.getNode().getImmediateChild(z).updateChild(L,r);z===".priority"?m=v.updatePriority(g.getNode(),ae):m=v.updateChild(g.getNode(),z,ae,L,Ty,null)}const b=py(n,m,g.isFullyInitialized()||te(a),v.filtersNodes()),T=new Xf(u,b,f);return Cy(l,b,a,u,T,_)}function yf(l,n,a,r,u,f,h){const _=n.eventCache;let g,m;const v=new Xf(u,n,f);if(te(a))m=l.filter.updateFullNode(n.eventCache.getNode(),r,h),g=Ja(n,m,!0,l.filter.filtersNodes());else{const b=$(a);if(b===".priority")m=l.filter.updatePriority(n.eventCache.getNode(),r),g=Ja(n,m,_.isFullyInitialized(),_.isFiltered());else{const T=be(a),z=_.getNode().getImmediateChild(b);let L;if(te(T))L=r;else{const Z=v.getCompleteChild(b);Z!=null?Uf(T)===".priority"&&Z.getChild(uy(T)).isEmpty()?L=Z:L=Z.updateChild(T,r):L=K.EMPTY_NODE}if(z.equals(L))g=n;else{const Z=l.filter.updateChild(_.getNode(),b,L,T,v,h);g=Ja(n,Z,_.isFullyInitialized(),l.filter.filtersNodes())}}}return g}function Wg(l,n){return l.eventCache.isCompleteForChild(n)}function kT(l,n,a,r,u,f,h){let _=n;return r.foreach((g,m)=>{const v=Re(a,g);Wg(n,$(v))&&(_=yf(l,_,v,m,u,f,h))}),r.foreach((g,m)=>{const v=Re(a,g);Wg(n,$(v))||(_=yf(l,_,v,m,u,f,h))}),_}function Jg(l,n,a){return a.foreach((r,u)=>{n=n.updateChild(r,u)}),n}function vf(l,n,a,r,u,f,h,_){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let g=n,m;te(a)?m=r:m=new Ee(null).setTree(a,r);const v=n.serverCache.getNode();return m.children.inorderTraversal((b,T)=>{if(v.hasChild(b)){const z=n.serverCache.getNode().getImmediateChild(b),L=Jg(l,z,T);g=Pr(l,g,new _e(b),L,u,f,h,_)}}),m.children.inorderTraversal((b,T)=>{const z=!n.serverCache.isCompleteForChild(b)&&T.value===null;if(!v.hasChild(b)&&!z){const L=n.serverCache.getNode().getImmediateChild(b),Z=Jg(l,L,T);g=Pr(l,g,new _e(b),Z,u,f,h,_)}}),g}function jT(l,n,a,r,u,f,h){if(Zr(u,a)!=null)return n;const _=n.serverCache.isFiltered(),g=n.serverCache;if(r.value!=null){if(te(a)&&g.isFullyInitialized()||g.isCompleteForPath(a))return Pr(l,n,a,g.getNode().getChild(a),u,f,_,h);if(te(a)){let m=new Ee(null);return g.getNode().forEachChild(Il,(v,b)=>{m=m.set(new _e(v),b)}),vf(l,n,a,m,u,f,_,h)}else return n}else{let m=new Ee(null);return r.foreach((v,b)=>{const T=Re(a,v);g.isCompleteForPath(T)&&(m=m.set(v,g.getNode().getChild(T)))}),vf(l,n,a,m,u,f,_,h)}}function qT(l,n,a,r,u){const f=n.serverCache,h=py(n,f.getNode(),f.isFullyInitialized()||te(a),f.isFiltered());return Cy(l,h,a,r,Ty,u)}function GT(l,n,a,r,u,f){let h;if(Zr(r,a)!=null)return n;{const _=new Xf(r,n,u),g=n.eventCache.getNode();let m;if(te(a)||$(a)===".priority"){let v;if(n.serverCache.isFullyInitialized())v=Fr(r,Hi(n));else{const b=n.serverCache.getNode();U(b instanceof K,"serverChildren would be complete if leaf node"),v=Vf(r,b)}v=v,m=l.filter.updateFullNode(g,v,f)}else{const v=$(a);let b=Qf(r,v,n.serverCache);b==null&&n.serverCache.isCompleteForChild(v)&&(b=g.getImmediateChild(v)),b!=null?m=l.filter.updateChild(g,v,b,be(a),_,f):n.eventCache.getNode().hasChild(v)?m=l.filter.updateChild(g,v,K.EMPTY_NODE,be(a),_,f):m=g,m.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Fr(r,Hi(n)),h.isLeafNode()&&(m=l.filter.updateFullNode(m,h,f)))}return h=n.serverCache.isFullyInitialized()||Zr(r,ce())!=null,Ja(n,m,h,l.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(n,a){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,u=new kf(r.getIndex()),f=rT(r);this.processor_=UT(f);const h=a.serverCache,_=a.eventCache,g=u.updateFullNode(K.EMPTY_NODE,h.getNode(),null),m=f.updateFullNode(K.EMPTY_NODE,_.getNode(),null),v=new oi(g,h.isFullyInitialized(),u.filtersNodes()),b=new oi(m,_.isFullyInitialized(),f.filtersNodes());this.viewCache_=oo(b,v),this.eventGenerator_=new _T(this.query_)}get query(){return this.query_}}function VT(l){return l.viewCache_.serverCache.getNode()}function QT(l){return Kr(l.viewCache_)}function XT(l,n){const a=Hi(l.viewCache_);return a&&(l.query._queryParams.loadsAllData()||!te(n)&&!a.getImmediateChild($(n)).isEmpty())?a.getChild(n):null}function $g(l){return l.eventRegistrations_.length===0}function KT(l,n){l.eventRegistrations_.push(n)}function ep(l,n,a){const r=[];if(a){U(n==null,"A cancel should cancel all event registrations.");const u=l.query._path;l.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(a,u);h&&r.push(h)})}if(n){let u=[];for(let f=0;f<l.eventRegistrations_.length;++f){const h=l.eventRegistrations_[f];if(!h.matches(n))u.push(h);else if(n.hasAnyCallback()){u=u.concat(l.eventRegistrations_.slice(f+1));break}}l.eventRegistrations_=u}else l.eventRegistrations_=[];return r}function tp(l,n,a,r){n.type===Qt.MERGE&&n.source.queryId!==null&&(U(Hi(l.viewCache_),"We should always have a full cache before handling merges"),U(Kr(l.viewCache_),"Missing event cache, even though we have a server cache"));const u=l.viewCache_,f=HT(l.processor_,u,n,a,r);return LT(l.processor_,f.viewCache),U(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=f.viewCache,Ay(l,f.changes,f.viewCache.eventCache.getNode(),null)}function FT(l,n){const a=l.viewCache_.eventCache,r=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(De,(f,h)=>{r.push(Hl(f,h))}),a.isFullyInitialized()&&r.push(gy(a.getNode())),Ay(l,r,a.getNode(),n)}function Ay(l,n,a,r){const u=r?[r]:l.eventRegistrations_;return mT(l.eventGenerator_,n,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wr;class wy{constructor(){this.views=new Map}}function ZT(l){U(!Wr,"__referenceConstructor has already been defined"),Wr=l}function PT(){return U(Wr,"Reference.ts has not been loaded"),Wr}function WT(l){return l.views.size===0}function Kf(l,n,a,r){const u=n.source.queryId;if(u!==null){const f=l.views.get(u);return U(f!=null,"SyncTree gave us an op for an invalid query."),tp(f,n,a,r)}else{let f=[];for(const h of l.views.values())f=f.concat(tp(h,n,a,r));return f}}function Ny(l,n,a,r,u){const f=n._queryIdentifier,h=l.views.get(f);if(!h){let _=Fr(a,u?r:null),g=!1;_?g=!0:r instanceof K?(_=Vf(a,r),g=!1):(_=K.EMPTY_NODE,g=!1);const m=oo(new oi(_,g,!1),new oi(r,u,!1));return new YT(n,m)}return h}function JT(l,n,a,r,u,f){const h=Ny(l,n,r,u,f);return l.views.has(n._queryIdentifier)||l.views.set(n._queryIdentifier,h),KT(h,a),FT(h,a)}function $T(l,n,a,r){const u=n._queryIdentifier,f=[];let h=[];const _=ui(l);if(u==="default")for(const[g,m]of l.views.entries())h=h.concat(ep(m,a,r)),$g(m)&&(l.views.delete(g),m.query._queryParams.loadsAllData()||f.push(m.query));else{const g=l.views.get(u);g&&(h=h.concat(ep(g,a,r)),$g(g)&&(l.views.delete(u),g.query._queryParams.loadsAllData()||f.push(g.query)))}return _&&!ui(l)&&f.push(new(PT())(n._repo,n._path)),{removed:f,events:h}}function Ry(l){const n=[];for(const a of l.views.values())a.query._queryParams.loadsAllData()||n.push(a);return n}function ai(l,n){let a=null;for(const r of l.views.values())a=a||XT(r,n);return a}function Dy(l,n){if(n._queryParams.loadsAllData())return co(l);{const r=n._queryIdentifier;return l.views.get(r)}}function Oy(l,n){return Dy(l,n)!=null}function ui(l){return co(l)!=null}function co(l){for(const n of l.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jr;function eC(l){U(!Jr,"__referenceConstructor has already been defined"),Jr=l}function tC(){return U(Jr,"Reference.ts has not been loaded"),Jr}let nC=1;class np{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Ee(null),this.pendingWriteTree_=MT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function My(l,n,a,r,u){return vT(l.pendingWriteTree_,n,a,r,u),u?Vl(l,new Li(qf(),n,a)):[]}function iC(l,n,a,r){bT(l.pendingWriteTree_,n,a,r);const u=Ee.fromObject(a);return Vl(l,new Bl(qf(),n,u))}function ei(l,n,a=!1){const r=ST(l.pendingWriteTree_,n);if(ET(l.pendingWriteTree_,n)){let f=new Ee(null);return r.snap!=null?f=f.set(ce(),!0):Fe(r.children,h=>{f=f.set(new _e(h),!0)}),Vl(l,new Xr(r.path,f,a))}else return[]}function ps(l,n,a){return Vl(l,new Li(Gf(),n,a))}function lC(l,n,a){const r=Ee.fromObject(a);return Vl(l,new Bl(Gf(),n,r))}function aC(l,n){return Vl(l,new cs(Gf(),n))}function sC(l,n,a){const r=Zf(l,a);if(r){const u=Pf(r),f=u.path,h=u.queryId,_=st(f,n),g=new cs(Yf(h),_);return Wf(l,f,g)}else return[]}function $r(l,n,a,r,u=!1){const f=n._path,h=l.syncPointTree_.get(f);let _=[];if(h&&(n._queryIdentifier==="default"||Oy(h,n))){const g=$T(h,n,a,r);WT(h)&&(l.syncPointTree_=l.syncPointTree_.remove(f));const m=g.removed;if(_=g.events,!u){const v=m.findIndex(T=>T._queryParams.loadsAllData())!==-1,b=l.syncPointTree_.findOnPath(f,(T,z)=>ui(z));if(v&&!b){const T=l.syncPointTree_.subtree(f);if(!T.isEmpty()){const z=uC(T);for(let L=0;L<z.length;++L){const Z=z[L],ae=Z.query,Ze=Uy(l,Z);l.listenProvider_.startListening(es(ae),fs(l,ae),Ze.hashFn,Ze.onComplete)}}}!b&&m.length>0&&!r&&(v?l.listenProvider_.stopListening(es(n),null):m.forEach(T=>{const z=l.queryToTagMap.get(fo(T));l.listenProvider_.stopListening(es(T),z)}))}cC(l,m)}return _}function xy(l,n,a,r){const u=Zf(l,r);if(u!=null){const f=Pf(u),h=f.path,_=f.queryId,g=st(h,n),m=new Li(Yf(_),g,a);return Wf(l,h,m)}else return[]}function rC(l,n,a,r){const u=Zf(l,r);if(u){const f=Pf(u),h=f.path,_=f.queryId,g=st(h,n),m=Ee.fromObject(a),v=new Bl(Yf(_),g,m);return Wf(l,h,v)}else return[]}function bf(l,n,a,r=!1){const u=n._path;let f=null,h=!1;l.syncPointTree_.foreachOnPath(u,(T,z)=>{const L=st(T,u);f=f||ai(z,L),h=h||ui(z)});let _=l.syncPointTree_.get(u);_?(h=h||ui(_),f=f||ai(_,ce())):(_=new wy,l.syncPointTree_=l.syncPointTree_.set(u,_));let g;f!=null?g=!0:(g=!1,f=K.EMPTY_NODE,l.syncPointTree_.subtree(u).foreachChild((z,L)=>{const Z=ai(L,ce());Z&&(f=f.updateImmediateChild(z,Z))}));const m=Oy(_,n);if(!m&&!n._queryParams.loadsAllData()){const T=fo(n);U(!l.queryToTagMap.has(T),"View does not exist, but we have a tag");const z=fC();l.queryToTagMap.set(T,z),l.tagToQueryMap.set(z,T)}const v=uo(l.pendingWriteTree_,u);let b=JT(_,n,a,v,f,g);if(!m&&!h&&!r){const T=Dy(_,n);b=b.concat(hC(l,n,T))}return b}function Ff(l,n,a){const u=l.pendingWriteTree_,f=l.syncPointTree_.findOnPath(n,(h,_)=>{const g=st(h,n),m=ai(_,g);if(m)return m});return by(u,n,f,a,!0)}function oC(l,n){const a=n._path;let r=null;l.syncPointTree_.foreachOnPath(a,(m,v)=>{const b=st(m,a);r=r||ai(v,b)});let u=l.syncPointTree_.get(a);u?r=r||ai(u,ce()):(u=new wy,l.syncPointTree_=l.syncPointTree_.set(a,u));const f=r!=null,h=f?new oi(r,!0,!1):null,_=uo(l.pendingWriteTree_,n._path),g=Ny(u,n,_,f?h.getNode():K.EMPTY_NODE,f);return QT(g)}function Vl(l,n){return Iy(n,l.syncPointTree_,null,uo(l.pendingWriteTree_,ce()))}function Iy(l,n,a,r){if(te(l.path))return zy(l,n,a,r);{const u=n.get(ce());a==null&&u!=null&&(a=ai(u,ce()));let f=[];const h=$(l.path),_=l.operationForChild(h),g=n.children.get(h);if(g&&_){const m=a?a.getImmediateChild(h):null,v=Sy(r,h);f=f.concat(Iy(_,g,m,v))}return u&&(f=f.concat(Kf(u,l,r,a))),f}}function zy(l,n,a,r){const u=n.get(ce());a==null&&u!=null&&(a=ai(u,ce()));let f=[];return n.children.inorderTraversal((h,_)=>{const g=a?a.getImmediateChild(h):null,m=Sy(r,h),v=l.operationForChild(h);v&&(f=f.concat(zy(v,_,g,m)))}),u&&(f=f.concat(Kf(u,l,r,a))),f}function Uy(l,n){const a=n.query,r=fs(l,a);return{hashFn:()=>(VT(n)||K.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return r?sC(l,a._path,r):aC(l,a._path);{const f=aE(u,a);return $r(l,a,null,f)}}}}function fs(l,n){const a=fo(n);return l.queryToTagMap.get(a)}function fo(l){return l._path.toString()+"$"+l._queryIdentifier}function Zf(l,n){return l.tagToQueryMap.get(n)}function Pf(l){const n=l.indexOf("$");return U(n!==-1&&n<l.length-1,"Bad queryKey."),{queryId:l.substr(n+1),path:new _e(l.substr(0,n))}}function Wf(l,n,a){const r=l.syncPointTree_.get(n);U(r,"Missing sync point for query tag that we're tracking");const u=uo(l.pendingWriteTree_,n);return Kf(r,a,u,null)}function uC(l){return l.fold((n,a,r)=>{if(a&&ui(a))return[co(a)];{let u=[];return a&&(u=Ry(a)),Fe(r,(f,h)=>{u=u.concat(h)}),u}})}function es(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(tC())(l._repo,l._path):l}function cC(l,n){for(let a=0;a<n.length;++a){const r=n[a];if(!r._queryParams.loadsAllData()){const u=fo(r),f=l.queryToTagMap.get(u);l.queryToTagMap.delete(u),l.tagToQueryMap.delete(f)}}}function fC(){return nC++}function hC(l,n,a){const r=n._path,u=fs(l,n),f=Uy(l,a),h=l.listenProvider_.startListening(es(n),u,f.hashFn,f.onComplete),_=l.syncPointTree_.subtree(r);if(u)U(!ui(_.value),"If we're adding a query, it shouldn't be shadowed");else{const g=_.fold((m,v,b)=>{if(!te(m)&&v&&ui(v))return[co(v).query];{let T=[];return v&&(T=T.concat(Ry(v).map(z=>z.query))),Fe(b,(z,L)=>{T=T.concat(L)}),T}});for(let m=0;m<g.length;++m){const v=g[m];l.listenProvider_.stopListening(es(v),fs(l,v))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(n){this.node_=n}getImmediateChild(n){const a=this.node_.getImmediateChild(n);return new Jf(a)}node(){return this.node_}}class $f{constructor(n,a){this.syncTree_=n,this.path_=a}getImmediateChild(n){const a=Re(this.path_,n);return new $f(this.syncTree_,a)}node(){return Ff(this.syncTree_,this.path_)}}const dC=function(l){return l=l||{},l.timestamp=l.timestamp||new Date().getTime(),l},ip=function(l,n,a){if(!l||typeof l!="object")return l;if(U(".sv"in l,"Unexpected leaf node or priority contents"),typeof l[".sv"]=="string")return _C(l[".sv"],n,a);if(typeof l[".sv"]=="object")return mC(l[".sv"],n);U(!1,"Unexpected server value: "+JSON.stringify(l,null,2))},_C=function(l,n,a){switch(l){case"timestamp":return a.timestamp;default:U(!1,"Unexpected server value: "+l)}},mC=function(l,n,a){l.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const r=l.increment;typeof r!="number"&&U(!1,"Unexpected increment value: "+r);const u=n.node();if(U(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return r;const h=u.getValue();return typeof h!="number"?r:h+r},Ly=function(l,n,a,r){return eh(n,new $f(a,l),r)},Hy=function(l,n,a){return eh(l,new Jf(n),a)};function eh(l,n,a){const r=l.getPriority().val(),u=ip(r,n.getImmediateChild(".priority"),a);let f;if(l.isLeafNode()){const h=l,_=ip(h.getValue(),n,a);return _!==h.getValue()||u!==h.getPriority().val()?new Qe(_,xe(u)):l}else{const h=l;return f=h,u!==h.getPriority().val()&&(f=f.updatePriority(new Qe(u))),h.forEachChild(De,(_,g)=>{const m=eh(g,n.getImmediateChild(_),a);m!==g&&(f=f.updateImmediateChild(_,m))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(n="",a=null,r={children:{},childCount:0}){this.name=n,this.parent=a,this.node=r}}function nh(l,n){let a=n instanceof _e?n:new _e(n),r=l,u=$(a);for(;u!==null;){const f=zl(r.node.children,u)||{children:{},childCount:0};r=new th(u,r,f),a=be(a),u=$(a)}return r}function Ql(l){return l.node.value}function By(l,n){l.node.value=n,Sf(l)}function ky(l){return l.node.childCount>0}function gC(l){return Ql(l)===void 0&&!ky(l)}function ho(l,n){Fe(l.node.children,(a,r)=>{n(new th(a,l,r))})}function jy(l,n,a,r){a&&n(l),ho(l,u=>{jy(u,n,!0)})}function pC(l,n,a){let r=l.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function ys(l){return new _e(l.parent===null?l.name:ys(l.parent)+"/"+l.name)}function Sf(l){l.parent!==null&&yC(l.parent,l.name,l)}function yC(l,n,a){const r=gC(a),u=nn(l.node.children,n);r&&u?(delete l.node.children[n],l.node.childCount--,Sf(l)):!r&&!u&&(l.node.children[n]=a.node,l.node.childCount++,Sf(l))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=/[\[\].#$\/\u0000-\u001F\u007F]/,bC=/[\[\].#$\u0000-\u001F\u007F]/,Wc=10*1024*1024,ih=function(l){return typeof l=="string"&&l.length!==0&&!vC.test(l)},qy=function(l){return typeof l=="string"&&l.length!==0&&!bC.test(l)},SC=function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),qy(l)},Gy=function(l){return l===null||typeof l=="string"||typeof l=="number"&&!so(l)||l&&typeof l=="object"&&nn(l,".sv")},Ef=function(l,n,a,r){_o(Ul(l,"value"),n,a)},_o=function(l,n,a){const r=a instanceof _e?new kE(a,l):a;if(n===void 0)throw new Error(l+"contains undefined "+xi(r));if(typeof n=="function")throw new Error(l+"contains a function "+xi(r)+" with contents = "+n.toString());if(so(n))throw new Error(l+"contains "+n.toString()+" "+xi(r));if(typeof n=="string"&&n.length>Wc/3&&ao(n)>Wc)throw new Error(l+"contains a string greater than "+Wc+" utf8 bytes "+xi(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let u=!1,f=!1;if(Fe(n,(h,_)=>{if(h===".value")u=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!ih(h)))throw new Error(l+" contains an invalid key ("+h+") "+xi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);jE(r,h),_o(l,_,r),qE(r)}),u&&f)throw new Error(l+' contains ".value" child '+xi(r)+" in addition to actual children.")}},EC=function(l,n){let a,r;for(a=0;a<n.length;a++){r=n[a];const f=ss(r);for(let h=0;h<f.length;h++)if(!(f[h]===".priority"&&h===f.length-1)){if(!ih(f[h]))throw new Error(l+"contains an invalid key ("+f[h]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(BE);let u=null;for(a=0;a<n.length;a++){if(r=n[a],u!==null&&kt(u,r))throw new Error(l+"contains a path "+u.toString()+" that is ancestor of another path "+r.toString());u=r}},Yy=function(l,n,a,r){const u=Ul(l,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(u+" must be an object containing the children to replace.");const f=[];Fe(n,(h,_)=>{const g=new _e(h);if(_o(u,_,Re(a,g)),Uf(g)===".priority"&&!Gy(_))throw new Error(u+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(g)}),EC(u,f)},TC=function(l,n,a){if(so(n))throw new Error(Ul(l,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gy(n))throw new Error(Ul(l,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Vy=function(l,n,a,r){if(!qy(a))throw new Error(Ul(l,n)+'was an invalid path = "'+a+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},CC=function(l,n,a,r){a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Vy(l,n,a)},Ml=function(l,n){if($(n)===".info")throw new Error(l+" failed = Can't modify data under /.info/")},AC=function(l,n){const a=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!ih(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||a.length!==0&&!SC(a))throw new Error(Ul(l,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function mo(l,n){let a=null;for(let r=0;r<n.length;r++){const u=n[r],f=u.getPath();a!==null&&!Lf(f,a.path)&&(l.eventLists_.push(a),a=null),a===null&&(a={events:[],path:f}),a.events.push(u)}a&&l.eventLists_.push(a)}function Qy(l,n,a){mo(l,a),Xy(l,r=>Lf(r,n))}function jt(l,n,a){mo(l,a),Xy(l,r=>kt(r,n)||kt(n,r))}function Xy(l,n){l.recursionDepth_++;let a=!0;for(let r=0;r<l.eventLists_.length;r++){const u=l.eventLists_[r];if(u){const f=u.path;n(f)?(NC(l.eventLists_[r]),l.eventLists_[r]=null):a=!1}}a&&(l.eventLists_=[]),l.recursionDepth_--}function NC(l){for(let n=0;n<l.events.length;n++){const a=l.events[n];if(a!==null){l.events[n]=null;const r=a.getEventRunner();Pa&&Ke("event: "+a.toString()),Gl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="repo_interrupt",DC=25;class OC{constructor(n,a,r,u){this.repoInfo_=n,this.forceRestClient_=a,this.authTokenProvider_=r,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qr(),this.transactionQueueTree_=new th,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function MC(l,n,a){if(l.stats_=If(l.repoInfo_),l.forceRestClient_||uE())l.server_=new Vr(l.repoInfo_,(r,u,f,h)=>{lp(l,r,u,f,h)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>ap(l,!0),0);else{if(typeof a<"u"&&a!==null){if(typeof a!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{je(a)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}l.persistentConnection_=new Sn(l.repoInfo_,n,(r,u,f,h)=>{lp(l,r,u,f,h)},r=>{ap(l,r)},r=>{IC(l,r)},l.authTokenProvider_,l.appCheckProvider_,a),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(r=>{l.server_.refreshAuthToken(r)}),l.appCheckProvider_.addTokenChangeListener(r=>{l.server_.refreshAppCheckToken(r.token)}),l.statsReporter_=_E(l.repoInfo_,()=>new dT(l.stats_,l.server_)),l.infoData_=new oT,l.infoSyncTree_=new np({startListening:(r,u,f,h)=>{let _=[];const g=l.infoData_.getNode(r._path);return g.isEmpty()||(_=ps(l.infoSyncTree_,r._path,g),setTimeout(()=>{h("ok")},0)),_},stopListening:()=>{}}),lh(l,"connected",!1),l.serverSyncTree_=new np({startListening:(r,u,f,h)=>(l.server_.listen(r,f,u,(_,g)=>{const m=h(_,g);jt(l.eventQueue_,r._path,m)}),[]),stopListening:(r,u)=>{l.server_.unlisten(r,u)}})}function xC(l){const a=l.infoData_.getNode(new _e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+a}function go(l){return dC({timestamp:xC(l)})}function lp(l,n,a,r,u){l.dataUpdateCount++;const f=new _e(n);a=l.interceptServerDataCallback_?l.interceptServerDataCallback_(n,a):a;let h=[];if(u)if(r){const g=kr(a,m=>xe(m));h=rC(l.serverSyncTree_,f,g,u)}else{const g=xe(a);h=xy(l.serverSyncTree_,f,g,u)}else if(r){const g=kr(a,m=>xe(m));h=lC(l.serverSyncTree_,f,g)}else{const g=xe(a);h=ps(l.serverSyncTree_,f,g)}let _=f;h.length>0&&(_=jl(l,f)),jt(l.eventQueue_,_,h)}function ap(l,n){lh(l,"connected",n),n===!1&&HC(l)}function IC(l,n){Fe(n,(a,r)=>{lh(l,a,r)})}function lh(l,n,a){const r=new _e("/.info/"+n),u=xe(a);l.infoData_.updateSnapshot(r,u);const f=ps(l.infoSyncTree_,r,u);jt(l.eventQueue_,r,f)}function ah(l){return l.nextWriteId_++}function zC(l,n,a){const r=oC(l.serverSyncTree_,n);return r!=null?Promise.resolve(r):l.server_.get(n).then(u=>{const f=xe(u).withIndex(n._queryParams.getIndex());bf(l.serverSyncTree_,n,a,!0);let h;if(n._queryParams.loadsAllData())h=ps(l.serverSyncTree_,n._path,f);else{const _=fs(l.serverSyncTree_,n);h=xy(l.serverSyncTree_,n._path,f,_)}return jt(l.eventQueue_,n._path,h),$r(l.serverSyncTree_,n,a,null,!0),f},u=>(vs(l,"get for query "+je(n)+" failed: "+u),Promise.reject(new Error(u))))}function UC(l,n,a,r,u){vs(l,"set",{path:n.toString(),value:a,priority:r});const f=go(l),h=xe(a,r),_=Ff(l.serverSyncTree_,n),g=Hy(h,_,f),m=ah(l),v=My(l.serverSyncTree_,n,g,m,!0);mo(l.eventQueue_,v),l.server_.put(n.toString(),h.val(!0),(T,z)=>{const L=T==="ok";L||rt("set at "+n+" failed: "+T);const Z=ei(l.serverSyncTree_,m,!L);jt(l.eventQueue_,n,Z),ci(l,u,T,z)});const b=rh(l,n);jl(l,b),jt(l.eventQueue_,b,[])}function LC(l,n,a,r){vs(l,"update",{path:n.toString(),value:a});let u=!0;const f=go(l),h={};if(Fe(a,(_,g)=>{u=!1,h[_]=Ly(Re(n,_),xe(g),l.serverSyncTree_,f)}),u)Ke("update() called with empty data.  Don't do anything."),ci(l,r,"ok",void 0);else{const _=ah(l),g=iC(l.serverSyncTree_,n,h,_);mo(l.eventQueue_,g),l.server_.merge(n.toString(),a,(m,v)=>{const b=m==="ok";b||rt("update at "+n+" failed: "+m);const T=ei(l.serverSyncTree_,_,!b),z=T.length>0?jl(l,n):n;jt(l.eventQueue_,z,T),ci(l,r,m,v)}),Fe(a,m=>{const v=rh(l,Re(n,m));jl(l,v)}),jt(l.eventQueue_,n,[])}}function HC(l){vs(l,"onDisconnectEvents");const n=go(l),a=Qr();_f(l.onDisconnect_,ce(),(u,f)=>{const h=Ly(u,f,l.serverSyncTree_,n);Yl(a,u,h)});let r=[];_f(a,ce(),(u,f)=>{r=r.concat(ps(l.serverSyncTree_,u,f));const h=rh(l,u);jl(l,h)}),l.onDisconnect_=Qr(),jt(l.eventQueue_,ce(),r)}function BC(l,n,a){l.server_.onDisconnectCancel(n.toString(),(r,u)=>{r==="ok"&&df(l.onDisconnect_,n),ci(l,a,r,u)})}function sp(l,n,a,r){const u=xe(a);l.server_.onDisconnectPut(n.toString(),u.val(!0),(f,h)=>{f==="ok"&&Yl(l.onDisconnect_,n,u),ci(l,r,f,h)})}function kC(l,n,a,r,u){const f=xe(a,r);l.server_.onDisconnectPut(n.toString(),f.val(!0),(h,_)=>{h==="ok"&&Yl(l.onDisconnect_,n,f),ci(l,u,h,_)})}function jC(l,n,a,r){if(lf(a)){Ke("onDisconnect().update() called with empty data.  Don't do anything."),ci(l,r,"ok",void 0);return}l.server_.onDisconnectMerge(n.toString(),a,(u,f)=>{u==="ok"&&Fe(a,(h,_)=>{const g=xe(_);Yl(l.onDisconnect_,Re(n,h),g)}),ci(l,r,u,f)})}function qC(l,n,a){let r;$(n._path)===".info"?r=bf(l.infoSyncTree_,n,a):r=bf(l.serverSyncTree_,n,a),Qy(l.eventQueue_,n._path,r)}function Ky(l,n,a){let r;$(n._path)===".info"?r=$r(l.infoSyncTree_,n,a):r=$r(l.serverSyncTree_,n,a),Qy(l.eventQueue_,n._path,r)}function GC(l){l.persistentConnection_&&l.persistentConnection_.interrupt(RC)}function vs(l,...n){let a="";l.persistentConnection_&&(a=l.persistentConnection_.id+":"),Ke(a,...n)}function ci(l,n,a,r){n&&Gl(()=>{if(a==="ok")n(null);else{const u=(a||"error").toUpperCase();let f=u;r&&(f+=": "+r);const h=new Error(f);h.code=u,n(h)}})}function Fy(l,n,a){return Ff(l.serverSyncTree_,n,a)||K.EMPTY_NODE}function sh(l,n=l.transactionQueueTree_){if(n||po(l,n),Ql(n)){const a=Py(l,n);U(a.length>0,"Sending zero length transaction queue"),a.every(u=>u.status===0)&&YC(l,ys(n),a)}else ky(n)&&ho(n,a=>{sh(l,a)})}function YC(l,n,a){const r=a.map(m=>m.currentWriteId),u=Fy(l,n,r);let f=u;const h=u.hash();for(let m=0;m<a.length;m++){const v=a[m];U(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const b=st(n,v.path);f=f.updateChild(b,v.currentOutputSnapshotRaw)}const _=f.val(!0),g=n;l.server_.put(g.toString(),_,m=>{vs(l,"transaction put response",{path:g.toString(),status:m});let v=[];if(m==="ok"){const b=[];for(let T=0;T<a.length;T++)a[T].status=2,v=v.concat(ei(l.serverSyncTree_,a[T].currentWriteId)),a[T].onComplete&&b.push(()=>a[T].onComplete(null,!0,a[T].currentOutputSnapshotResolved)),a[T].unwatcher();po(l,nh(l.transactionQueueTree_,n)),sh(l,l.transactionQueueTree_),jt(l.eventQueue_,n,v);for(let T=0;T<b.length;T++)Gl(b[T])}else{if(m==="datastale")for(let b=0;b<a.length;b++)a[b].status===3?a[b].status=4:a[b].status=0;else{rt("transaction at "+g.toString()+" failed: "+m);for(let b=0;b<a.length;b++)a[b].status=4,a[b].abortReason=m}jl(l,n)}},h)}function jl(l,n){const a=Zy(l,n),r=ys(a),u=Py(l,a);return VC(l,u,r),r}function VC(l,n,a){if(n.length===0)return;const r=[];let u=[];const h=n.filter(_=>_.status===0).map(_=>_.currentWriteId);for(let _=0;_<n.length;_++){const g=n[_],m=st(a,g.path);let v=!1,b;if(U(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)v=!0,b=g.abortReason,u=u.concat(ei(l.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=DC)v=!0,b="maxretry",u=u.concat(ei(l.serverSyncTree_,g.currentWriteId,!0));else{const T=Fy(l,g.path,h);g.currentInputSnapshot=T;const z=n[_].update(T.val());if(z!==void 0){_o("transaction failed: Data returned ",z,g.path);let L=xe(z);typeof z=="object"&&z!=null&&nn(z,".priority")||(L=L.updatePriority(T.getPriority()));const ae=g.currentWriteId,Ze=go(l),He=Hy(L,T,Ze);g.currentOutputSnapshotRaw=L,g.currentOutputSnapshotResolved=He,g.currentWriteId=ah(l),h.splice(h.indexOf(ae),1),u=u.concat(My(l.serverSyncTree_,g.path,He,g.currentWriteId,g.applyLocally)),u=u.concat(ei(l.serverSyncTree_,ae,!0))}else v=!0,b="nodata",u=u.concat(ei(l.serverSyncTree_,g.currentWriteId,!0))}jt(l.eventQueue_,a,u),u=[],v&&(n[_].status=2,function(T){setTimeout(T,Math.floor(0))}(n[_].unwatcher),n[_].onComplete&&(b==="nodata"?r.push(()=>n[_].onComplete(null,!1,n[_].currentInputSnapshot)):r.push(()=>n[_].onComplete(new Error(b),!1,null))))}po(l,l.transactionQueueTree_);for(let _=0;_<r.length;_++)Gl(r[_]);sh(l,l.transactionQueueTree_)}function Zy(l,n){let a,r=l.transactionQueueTree_;for(a=$(n);a!==null&&Ql(r)===void 0;)r=nh(r,a),n=be(n),a=$(n);return r}function Py(l,n){const a=[];return Wy(l,n,a),a.sort((r,u)=>r.order-u.order),a}function Wy(l,n,a){const r=Ql(n);if(r)for(let u=0;u<r.length;u++)a.push(r[u]);ho(n,u=>{Wy(l,u,a)})}function po(l,n){const a=Ql(n);if(a){let r=0;for(let u=0;u<a.length;u++)a[u].status!==2&&(a[r]=a[u],r++);a.length=r,By(n,a.length>0?a:void 0)}ho(n,r=>{po(l,r)})}function rh(l,n){const a=ys(Zy(l,n)),r=nh(l.transactionQueueTree_,n);return pC(r,u=>{Jc(l,u)}),Jc(l,r),jy(r,u=>{Jc(l,u)}),a}function Jc(l,n){const a=Ql(n);if(a){const r=[];let u=[],f=-1;for(let h=0;h<a.length;h++)a[h].status===3||(a[h].status===1?(U(f===h-1,"All SENT items should be at beginning of queue."),f=h,a[h].status=3,a[h].abortReason="set"):(U(a[h].status===0,"Unexpected transaction status in abort"),a[h].unwatcher(),u=u.concat(ei(l.serverSyncTree_,a[h].currentWriteId,!0)),a[h].onComplete&&r.push(a[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?By(n,void 0):a.length=f+1,jt(l.eventQueue_,ys(n),u);for(let h=0;h<r.length;h++)Gl(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(l){let n="";const a=l.split("/");for(let r=0;r<a.length;r++)if(a[r].length>0){let u=a[r];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}n+="/"+u}return n}function XC(l){const n={};l.charAt(0)==="?"&&(l=l.substring(1));for(const a of l.split("&")){if(a.length===0)continue;const r=a.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):rt(`Invalid query segment '${a}' in query '${l}'`)}return n}const rp=function(l,n){const a=KC(l),r=a.namespace;a.domain==="firebase.com"&&Cn(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&a.domain!=="localhost"&&Cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||eE();const u=a.scheme==="ws"||a.scheme==="wss";return{repoInfo:new ey(a.host,a.secure,r,u,n,"",r!==a.subdomain),path:new _e(a.pathString)}},KC=function(l){let n="",a="",r="",u="",f="",h=!0,_="https",g=443;if(typeof l=="string"){let m=l.indexOf("//");m>=0&&(_=l.substring(0,m-1),l=l.substring(m+2));let v=l.indexOf("/");v===-1&&(v=l.length);let b=l.indexOf("?");b===-1&&(b=l.length),n=l.substring(0,Math.min(v,b)),v<b&&(u=QC(l.substring(v,b)));const T=XC(l.substring(Math.min(l.length,b)));m=n.indexOf(":"),m>=0?(h=_==="https"||_==="wss",g=parseInt(n.substring(m+1),10)):m=n.length;const z=n.slice(0,m);if(z.toLowerCase()==="localhost")a="localhost";else if(z.split(".").length<=2)a=z;else{const L=n.indexOf(".");r=n.substring(0,L).toLowerCase(),a=n.substring(L+1),f=r}"ns"in T&&(f=T.ns)}return{host:n,port:g,domain:a,subdomain:r,secure:h,scheme:_,pathString:u,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(n,a,r,u){this.eventType=n,this.eventRegistration=a,this.snapshot=r,this.prevName=u}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+je(this.snapshot.exportVal())}}class ZC{constructor(n,a,r){this.eventRegistration=n,this.error=a,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(n,a){this.snapshotCallback=n,this.cancelCallback=a}onValue(n,a){this.snapshotCallback.call(null,n,a)}onCancel(n){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(n,a){this._repo=n,this._path=a}cancel(){const n=new en;return BC(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Ml("OnDisconnect.remove",this._path);const n=new en;return sp(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Ml("OnDisconnect.set",this._path),Ef("OnDisconnect.set",n,this._path);const a=new en;return sp(this._repo,this._path,n,a.wrapCallback(()=>{})),a.promise}setWithPriority(n,a){Ml("OnDisconnect.setWithPriority",this._path),Ef("OnDisconnect.setWithPriority",n,this._path),TC("OnDisconnect.setWithPriority",a);const r=new en;return kC(this._repo,this._path,n,a,r.wrapCallback(()=>{})),r.promise}update(n){Ml("OnDisconnect.update",this._path),Yy("OnDisconnect.update",n,this._path);const a=new en;return jC(this._repo,this._path,n,a.wrapCallback(()=>{})),a.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(n,a,r,u){this._repo=n,this._path=a,this._queryParams=r,this._orderByCalled=u}get key(){return te(this._path)?null:Uf(this._path)}get ref(){return new wn(this._repo,this._path)}get _queryIdentifier(){const n=Xg(this._queryParams),a=Mf(n);return a==="{}"?"default":a}get _queryObject(){return Xg(this._queryParams)}isEqual(n){if(n=An(n),!(n instanceof oh))return!1;const a=this._repo===n._repo,r=Lf(this._path,n._path),u=this._queryIdentifier===n._queryIdentifier;return a&&r&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+HE(this._path)}}class wn extends oh{constructor(n,a){super(n,a,new jf,!1)}get parent(){const n=uy(this._path);return n===null?null:new wn(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class hs{constructor(n,a,r){this._node=n,this.ref=a,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const a=new _e(n),r=Tf(this.ref,n);return new hs(this._node.getChild(a),r,De)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,u)=>n(new hs(u,Tf(this.ref,r),De)))}hasChild(n){const a=new _e(n);return!this._node.getChild(a).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Jn(l,n){return l=An(l),l._checkNotDeleted("ref"),n!==void 0?Tf(l._root,n):l._root}function Tf(l,n){return l=An(l),$(l._path)===null?CC("child","path",n):Vy("child","path",n),new wn(l._repo,Re(l._path,n))}function op(l){return l=An(l),new PC(l._repo,l._path)}function up(l){return Ml("remove",l._path),$y(l,null)}function $y(l,n){l=An(l),Ml("set",l._path),Ef("set",n,l._path);const a=new en;return UC(l._repo,l._path,n,null,a.wrapCallback(()=>{})),a.promise}function WC(l,n){Yy("update",n,l._path);const a=new en;return LC(l._repo,l._path,n,a.wrapCallback(()=>{})),a.promise}function JC(l){l=An(l);const n=new Jy(()=>{}),a=new yo(n);return zC(l._repo,l,a).then(r=>new hs(r,new wn(l._repo,l._path),l._queryParams.getIndex()))}class yo{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,a){const r=a._queryParams.getIndex();return new FC("value",this,new hs(n.snapshotNode,new wn(a._repo,a._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,a){return this.callbackContext.hasCancelCallback?new ZC(this,n,a):null}matches(n){return n instanceof yo?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function $C(l,n,a,r,u){const f=new Jy(a,void 0),h=new yo(f);return qC(l._repo,l,h),()=>Ky(l._repo,l,h)}function cp(l,n,a,r){return $C(l,"value",n)}function fp(l,n,a){Ky(l._repo,l,null)}ZT(wn);eC(wn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="FIREBASE_DATABASE_EMULATOR_HOST",Cf={};let tA=!1;function nA(l,n,a,r){const u=n.lastIndexOf(":"),f=n.substring(0,u),h=Rf(f);l.repoInfo_=new ey(n,h,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0,a),r&&(l.authTokenProvider_=r)}function iA(l,n,a,r,u){let f=r||l.options.databaseURL;f===void 0&&(l.options.projectId||Cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ke("Using default host for project ",l.options.projectId),f=`${l.options.projectId}-default-rtdb.firebaseio.com`);let h=rp(f,u),_=h.repoInfo,g;typeof process<"u"&&Rg&&(g=Rg[eA]),g?(f=`http://${g}?ns=${_.namespace}`,h=rp(f,u),_=h.repoInfo):h.repoInfo.secure;const m=new fE(l.name,l.options,n);AC("Invalid Firebase Database URL",h),te(h.path)||Cn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=aA(_,l,m,new cE(l,a));return new sA(v,l)}function lA(l,n){const a=Cf[n];(!a||a[l.key]!==l)&&Cn(`Database ${n}(${l.repoInfo_}) has already been deleted.`),GC(l),delete a[l.key]}function aA(l,n,a,r){let u=Cf[n.name];u||(u={},Cf[n.name]=u);let f=u[l.toURLString()];return f&&Cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new OC(l,tA,a,r),u[l.toURLString()]=f,f}class sA{constructor(n,a){this._repoInternal=n,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(MC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0,Rp("Database",this._repo.repoInfo_.emulatorOptions!==null)),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wn(this._repo,ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lA(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Cn("Cannot call "+n+" on a deleted database.")}}function rA(l=Hp(),n){const a=ds(l,"database").getImmediate({identifier:n});if(!a._instanceStarted){const r=p1("database");r&&oA(a,...r)}return a}function oA(l,n,a,r={}){l=An(l),l._checkNotDeleted("useEmulator");const u=`${n}:${a}`,f=l._repoInternal;if(l._instanceStarted){if(u===l._repoInternal.repoInfo_.host&&is(r,f.repoInfo_.emulatorOptions))return;Cn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&Cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Hr(Hr.OWNER);else if(r.mockUserToken){const _=typeof r.mockUserToken=="string"?r.mockUserToken:v1(r.mockUserToken,l.app.options.projectId);h=new Hr(_)}Rf(n)&&(y1(n),Rp("Database",!0)),nA(f,u,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(l){FS(HS),si(new En("database",(n,{instanceIdentifier:a})=>{const r=n.getProvider("app").getImmediate(),u=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return iA(r,u,f,a)},"PUBLIC").setMultipleInstances(!0)),tn(Dg,Og,l),tn(Dg,Og,"esm2017")}Sn.prototype.simpleListen=function(l,n){this.sendRequest("q",{p:l},n)};Sn.prototype.echo=function(l,n){this.sendRequest("echo",{d:l},n)};uA();var cA="firebase",fA="11.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn(cA,fA,"app");const ev="@firebase/installations",uh="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=1e4,nv=`w:${uh}`,iv="FIS_v2",hA="https://firebaseinstallations.googleapis.com/v1",dA=60*60*1e3,_A="installations",mA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bi=new lo(_A,mA,gA);function lv(l){return l instanceof ji&&l.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av({projectId:l}){return`${hA}/projects/${l}/installations`}function sv(l){return{token:l.token,requestStatus:2,expiresIn:yA(l.expiresIn),creationTime:Date.now()}}async function rv(l,n){const r=(await n.json()).error;return Bi.create("request-failed",{requestName:l,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ov({apiKey:l}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":l})}function pA(l,{refreshToken:n}){const a=ov(l);return a.append("Authorization",vA(n)),a}async function uv(l){const n=await l();return n.status>=500&&n.status<600?l():n}function yA(l){return Number(l.replace("s","000"))}function vA(l){return`${iv} ${l}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA({appConfig:l,heartbeatServiceProvider:n},{fid:a}){const r=av(l),u=ov(l),f=n.getImmediate({optional:!0});if(f){const m=await f.getHeartbeatsHeader();m&&u.append("x-firebase-client",m)}const h={fid:a,authVersion:iv,appId:l.appId,sdkVersion:nv},_={method:"POST",headers:u,body:JSON.stringify(h)},g=await uv(()=>fetch(r,_));if(g.ok){const m=await g.json();return{fid:m.fid||a,registrationStatus:2,refreshToken:m.refreshToken,authToken:sv(m.authToken)}}else throw await rv("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(l){return new Promise(n=>{setTimeout(n,l)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(l){return btoa(String.fromCharCode(...l)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=/^[cdef][\w-]{21}$/,Af="";function TA(){try{const l=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(l),l[0]=112+l[0]%16;const a=CA(l);return EA.test(a)?a:Af}catch{return Af}}function CA(l){return SA(l).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(l){return`${l.appName}!${l.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new Map;function hv(l,n){const a=vo(l);dv(a,n),AA(a,n)}function dv(l,n){const a=fv.get(l);if(a)for(const r of a)r(n)}function AA(l,n){const a=wA();a&&a.postMessage({key:l,fid:n}),NA()}let zi=null;function wA(){return!zi&&"BroadcastChannel"in self&&(zi=new BroadcastChannel("[Firebase] FID Change"),zi.onmessage=l=>{dv(l.data.key,l.data.fid)}),zi}function NA(){fv.size===0&&zi&&(zi.close(),zi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="firebase-installations-database",DA=1,ki="firebase-installations-store";let $c=null;function ch(){return $c||($c=Up(RA,DA,{upgrade:(l,n)=>{switch(n){case 0:l.createObjectStore(ki)}}})),$c}async function eo(l,n){const a=vo(l),u=(await ch()).transaction(ki,"readwrite"),f=u.objectStore(ki),h=await f.get(a);return await f.put(n,a),await u.done,(!h||h.fid!==n.fid)&&hv(l,n.fid),n}async function _v(l){const n=vo(l),r=(await ch()).transaction(ki,"readwrite");await r.objectStore(ki).delete(n),await r.done}async function bo(l,n){const a=vo(l),u=(await ch()).transaction(ki,"readwrite"),f=u.objectStore(ki),h=await f.get(a),_=n(h);return _===void 0?await f.delete(a):await f.put(_,a),await u.done,_&&(!h||h.fid!==_.fid)&&hv(l,_.fid),_}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(l){let n;const a=await bo(l.appConfig,r=>{const u=OA(r),f=MA(l,u);return n=f.registrationPromise,f.installationEntry});return a.fid===Af?{installationEntry:await n}:{installationEntry:a,registrationPromise:n}}function OA(l){const n=l||{fid:TA(),registrationStatus:0};return mv(n)}function MA(l,n){if(n.registrationStatus===0){if(!navigator.onLine){const u=Promise.reject(Bi.create("app-offline"));return{installationEntry:n,registrationPromise:u}}const a={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},r=xA(l,a);return{installationEntry:a,registrationPromise:r}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:IA(l)}:{installationEntry:n}}async function xA(l,n){try{const a=await bA(l,n);return eo(l.appConfig,a)}catch(a){throw lv(a)&&a.customData.serverCode===409?await _v(l.appConfig):await eo(l.appConfig,{fid:n.fid,registrationStatus:0}),a}}async function IA(l){let n=await hp(l.appConfig);for(;n.registrationStatus===1;)await cv(100),n=await hp(l.appConfig);if(n.registrationStatus===0){const{installationEntry:a,registrationPromise:r}=await fh(l);return r||a}return n}function hp(l){return bo(l,n=>{if(!n)throw Bi.create("installation-not-found");return mv(n)})}function mv(l){return zA(l)?{fid:l.fid,registrationStatus:0}:l}function zA(l){return l.registrationStatus===1&&l.registrationTime+tv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA({appConfig:l,heartbeatServiceProvider:n},a){const r=LA(l,a),u=pA(l,a),f=n.getImmediate({optional:!0});if(f){const m=await f.getHeartbeatsHeader();m&&u.append("x-firebase-client",m)}const h={installation:{sdkVersion:nv,appId:l.appId}},_={method:"POST",headers:u,body:JSON.stringify(h)},g=await uv(()=>fetch(r,_));if(g.ok){const m=await g.json();return sv(m)}else throw await rv("Generate Auth Token",g)}function LA(l,{fid:n}){return`${av(l)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(l,n=!1){let a;const r=await bo(l.appConfig,f=>{if(!gv(f))throw Bi.create("not-registered");const h=f.authToken;if(!n&&kA(h))return f;if(h.requestStatus===1)return a=HA(l,n),f;{if(!navigator.onLine)throw Bi.create("app-offline");const _=qA(f);return a=BA(l,_),_}});return a?await a:r.authToken}async function HA(l,n){let a=await dp(l.appConfig);for(;a.authToken.requestStatus===1;)await cv(100),a=await dp(l.appConfig);const r=a.authToken;return r.requestStatus===0?hh(l,n):r}function dp(l){return bo(l,n=>{if(!gv(n))throw Bi.create("not-registered");const a=n.authToken;return GA(a)?Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}):n})}async function BA(l,n){try{const a=await UA(l,n),r=Object.assign(Object.assign({},n),{authToken:a});return await eo(l.appConfig,r),a}catch(a){if(lv(a)&&(a.customData.serverCode===401||a.customData.serverCode===404))await _v(l.appConfig);else{const r=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}});await eo(l.appConfig,r)}throw a}}function gv(l){return l!==void 0&&l.registrationStatus===2}function kA(l){return l.requestStatus===2&&!jA(l)}function jA(l){const n=Date.now();return n<l.creationTime||l.creationTime+l.expiresIn<n+dA}function qA(l){const n={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},l),{authToken:n})}function GA(l){return l.requestStatus===1&&l.requestTime+tv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(l){const n=l,{installationEntry:a,registrationPromise:r}=await fh(n);return r?r.catch(console.error):hh(n).catch(console.error),a.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(l,n=!1){const a=l;return await QA(a),(await hh(a,n)).token}async function QA(l){const{registrationPromise:n}=await fh(l);n&&await n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(l){if(!l||!l.options)throw ef("App Configuration");if(!l.name)throw ef("App Name");const n=["projectId","apiKey","appId"];for(const a of n)if(!l.options[a])throw ef(a);return{appName:l.name,projectId:l.options.projectId,apiKey:l.options.apiKey,appId:l.options.appId}}function ef(l){return Bi.create("missing-app-config-values",{valueName:l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="installations",KA="installations-internal",FA=l=>{const n=l.getProvider("app").getImmediate(),a=XA(n),r=ds(n,"heartbeat");return{app:n,appConfig:a,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},ZA=l=>{const n=l.getProvider("app").getImmediate(),a=ds(n,pv).getImmediate();return{getId:()=>YA(a),getToken:u=>VA(a,u)}};function PA(){si(new En(pv,FA,"PUBLIC")),si(new En(KA,ZA,"PRIVATE"))}PA();tn(ev,uh);tn(ev,uh,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="analytics",WA="firebase_id",JA="origin",$A=60*1e3,ew="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dh="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t=new Df("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rt=new lo("analytics","Analytics",tw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(l){if(!l.startsWith(dh)){const n=Rt.create("invalid-gtag-resource",{gtagURL:l});return _t.warn(n.message),""}return l}function yv(l){return Promise.all(l.map(n=>n.catch(a=>a)))}function iw(l,n){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(l,n)),a}function lw(l,n){const a=iw("firebase-js-sdk-policy",{createScriptURL:nw}),r=document.createElement("script"),u=`${dh}?l=${l}&id=${n}`;r.src=a?a==null?void 0:a.createScriptURL(u):u,r.async=!0,document.head.appendChild(r)}function aw(l){let n=[];return Array.isArray(window[l])?n=window[l]:window[l]=n,n}async function sw(l,n,a,r,u,f){const h=r[u];try{if(h)await n[h];else{const g=(await yv(a)).find(m=>m.measurementId===u);g&&await n[g.appId]}}catch(_){_t.error(_)}l("config",u,f)}async function rw(l,n,a,r,u){try{let f=[];if(u&&u.send_to){let h=u.send_to;Array.isArray(h)||(h=[h]);const _=await yv(a);for(const g of h){const m=_.find(b=>b.measurementId===g),v=m&&n[m.appId];if(v)f.push(v);else{f=[];break}}}f.length===0&&(f=Object.values(n)),await Promise.all(f),l("event",r,u||{})}catch(f){_t.error(f)}}function ow(l,n,a,r){async function u(f,...h){try{if(f==="event"){const[_,g]=h;await rw(l,n,a,_,g)}else if(f==="config"){const[_,g]=h;await sw(l,n,a,r,_,g)}else if(f==="consent"){const[_,g]=h;l("consent",_,g)}else if(f==="get"){const[_,g,m]=h;l("get",_,g,m)}else if(f==="set"){const[_]=h;l("set",_)}else l(f,...h)}catch(_){_t.error(_)}}return u}function uw(l,n,a,r,u){let f=function(...h){window[r].push(arguments)};return window[u]&&typeof window[u]=="function"&&(f=window[u]),window[u]=ow(f,l,n,a),{gtagCore:f,wrappedGtag:window[u]}}function cw(l){const n=window.document.getElementsByTagName("script");for(const a of Object.values(n))if(a.src&&a.src.includes(dh)&&a.src.includes(l))return a;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=30,hw=1e3;class dw{constructor(n={},a=hw){this.throttleMetadata=n,this.intervalMillis=a}getThrottleMetadata(n){return this.throttleMetadata[n]}setThrottleMetadata(n,a){this.throttleMetadata[n]=a}deleteThrottleMetadata(n){delete this.throttleMetadata[n]}}const vv=new dw;function _w(l){return new Headers({Accept:"application/json","x-goog-api-key":l})}async function mw(l){var n;const{appId:a,apiKey:r}=l,u={method:"GET",headers:_w(r)},f=ew.replace("{app-id}",a),h=await fetch(f,u);if(h.status!==200&&h.status!==304){let _="";try{const g=await h.json();!((n=g.error)===null||n===void 0)&&n.message&&(_=g.error.message)}catch{}throw Rt.create("config-fetch-failed",{httpStatus:h.status,responseMessage:_})}return h.json()}async function gw(l,n=vv,a){const{appId:r,apiKey:u,measurementId:f}=l.options;if(!r)throw Rt.create("no-app-id");if(!u){if(f)return{measurementId:f,appId:r};throw Rt.create("no-api-key")}const h=n.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_=new vw;return setTimeout(async()=>{_.abort()},$A),bv({appId:r,apiKey:u,measurementId:f},h,_,n)}async function bv(l,{throttleEndTimeMillis:n,backoffCount:a},r,u=vv){var f;const{appId:h,measurementId:_}=l;try{await pw(r,n)}catch(g){if(_)return _t.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:_};throw g}try{const g=await mw(l);return u.deleteThrottleMetadata(h),g}catch(g){const m=g;if(!yw(m)){if(u.deleteThrottleMetadata(h),_)return _t.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:h,measurementId:_};throw g}const v=Number((f=m==null?void 0:m.customData)===null||f===void 0?void 0:f.httpStatus)===503?vg(a,u.intervalMillis,fw):vg(a,u.intervalMillis),b={throttleEndTimeMillis:Date.now()+v,backoffCount:a+1};return u.setThrottleMetadata(h,b),_t.debug(`Calling attemptFetch again in ${v} millis`),bv(l,b,r,u)}}function pw(l,n){return new Promise((a,r)=>{const u=Math.max(n-Date.now(),0),f=setTimeout(a,u);l.addEventListener(()=>{clearTimeout(f),r(Rt.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}function yw(l){if(!(l instanceof ji)||!l.customData)return!1;const n=Number(l.customData.httpStatus);return n===429||n===500||n===503||n===504}class vw{constructor(){this.listeners=[]}addEventListener(n){this.listeners.push(n)}abort(){this.listeners.forEach(n=>n())}}async function bw(l,n,a,r,u){if(u&&u.global){l("event",a,r);return}else{const f=await n,h=Object.assign(Object.assign({},r),{send_to:f});l("event",a,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(){if(Op())try{await Mp()}catch(l){return _t.warn(Rt.create("indexeddb-unavailable",{errorInfo:l==null?void 0:l.toString()}).message),!1}else return _t.warn(Rt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ew(l,n,a,r,u,f,h){var _;const g=gw(l);g.then(z=>{a[z.measurementId]=z.appId,l.options.measurementId&&z.measurementId!==l.options.measurementId&&_t.warn(`The measurement ID in the local Firebase config (${l.options.measurementId}) does not match the measurement ID fetched from the server (${z.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(z=>_t.error(z)),n.push(g);const m=Sw().then(z=>{if(z)return r.getId()}),[v,b]=await Promise.all([g,m]);cw(f)||lw(f,v.measurementId),u("js",new Date);const T=(_=h==null?void 0:h.config)!==null&&_!==void 0?_:{};return T[JA]="firebase",T.update=!0,b!=null&&(T[WA]=b),u("config",v.measurementId,T),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(n){this.app=n}_delete(){return delete ts[this.app.options.appId],Promise.resolve()}}let ts={},_p=[];const mp={};let tf="dataLayer",Cw="gtag",gp,Sv,pp=!1;function Aw(){const l=[];if(T1()&&l.push("This is a browser extension environment."),w1()||l.push("Cookies are not available."),l.length>0){const n=l.map((r,u)=>`(${u+1}) ${r}`).join(" "),a=Rt.create("invalid-analytics-context",{errorInfo:n});_t.warn(a.message)}}function ww(l,n,a){Aw();const r=l.options.appId;if(!r)throw Rt.create("no-app-id");if(!l.options.apiKey)if(l.options.measurementId)_t.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${l.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rt.create("no-api-key");if(ts[r]!=null)throw Rt.create("already-exists",{id:r});if(!pp){aw(tf);const{wrappedGtag:f,gtagCore:h}=uw(ts,_p,mp,tf,Cw);Sv=f,gp=h,pp=!0}return ts[r]=Ew(l,_p,mp,n,gp,tf,a),new Tw(l)}function Nw(l=Hp()){l=An(l);const n=ds(l,to);return n.isInitialized()?n.getImmediate():Rw(l)}function Rw(l,n={}){const a=ds(l,to);if(a.isInitialized()){const u=a.getImmediate();if(is(n,a.getOptions()))return u;throw Rt.create("already-initialized")}return a.initialize({options:n})}function Dw(l,n,a,r){l=An(l),bw(Sv,ts[l.app.options.appId],n,a,r).catch(u=>_t.error(u))}const yp="@firebase/analytics",vp="0.10.16";function Ow(){si(new En(to,(n,{options:a})=>{const r=n.getProvider("app").getImmediate(),u=n.getProvider("installations-internal").getImmediate();return ww(r,u,a)},"PUBLIC")),si(new En("analytics-internal",l,"PRIVATE")),tn(yp,vp),tn(yp,vp,"esm2017");function l(n){try{const a=n.getProvider(to).getImmediate();return{logEvent:(r,u,f)=>Dw(a,r,u,f)}}catch(a){throw Rt.create("interop-component-reg-failed",{reason:a})}}}Ow();const Mw={apiKey:"AIzaSyBc7_1bwrSFvCXAPp4cqTu2pmEnU1r8Cvw",authDomain:"arewecooked-e1e7c.firebaseapp.com",databaseURL:"https://arewecooked-e1e7c-default-rtdb.europe-west1.firebasedatabase.app",projectId:"arewecooked-e1e7c",storageBucket:"arewecooked-e1e7c.firebasestorage.app",messagingSenderId:"147695465248",appId:"1:147695465248:web:07930272b8571c69cddd45",measurementId:"G-J1D7J0EVR0"},Ev=Lp(Mw),$n=rA(Ev);Nw(Ev);function xw({setGameState:l,setLobbyId:n,setIsHost:a,playerName:r,setPlayerId:u}){const f=async()=>{const h=Math.floor(Math.random()*1e6).toString().padStart(6,"0"),_="host_"+Date.now();u(_);try{await $y(Jn($n,`lobbies/${h}`),{hostId:_,players:{[_]:{id:_,name:r||"Host",isHost:!0}},createdAt:Date.now()}),n(h),a(!0),l("lobby")}catch(g){console.error("Error creating lobby:",g),alert("Failed to create lobby. Please try again.")}};return G.jsxs("div",{className:"MainMenu",children:[G.jsx("div",{className:"logo"}),G.jsxs("div",{className:"buttonContainer",children:[G.jsx("div",{className:"button",children:G.jsx("div",{className:"buttonInside",onClick:()=>{f()},children:"Stwrz gre"})}),G.jsx("div",{className:"button",children:G.jsx("div",{className:"buttonInside",onClick:()=>{l("connect")},children:"Docz do gry"})})]})]})}function Iw(){return G.jsxs("div",{className:"language",children:[G.jsx("div",{className:"flag",children:G.jsx("div",{className:"pl"})}),G.jsx("p",{children:"PL"})]})}function zw({setGameState:l,lobbyId:n,isHost:a,setPlayers:r,players:u,playerId:f}){Bt.useEffect(()=>{const _=Jn($n,`lobbies/${n}/players`),g=Jn($n,`lobbies/${n}`),m=cp(_,b=>{const T=b.val();T&&r(T)}),v=cp(g,b=>{b.exists()||(a||alert("Lobby zostao zamknite przez hosta"),r([]),l("menu"))});if(f){const b=Jn($n,`lobbies/${n}/players/${f}`);op(b).remove(),a&&op(g).remove()}return()=>{fp(_),fp(g),m==null||m(),v==null||v()}},[n,f]);function h(){if(!n||!f)return;const _=Jn($n,`lobbies/${n}/players/${f}`),g=Jn($n,`lobbies/${n}`);a?up(g).then(()=>{r([]),l("menu")}):up(_).then(()=>{r([]),l("menu")})}return G.jsxs("div",{className:"Lobby",children:[G.jsx("div",{className:"logoCorner",onClick:h}),G.jsxs("div",{className:"lobbyIDText",children:[G.jsx("p",{children:"Kod gry:"}),G.jsx("div",{className:"lobbyID",children:n})]}),G.jsx("div",{className:"players",children:u&&Object.values(u).map(_=>G.jsx(Uw,{name:_.name,Host:_.isHost},_.id))})]})}function Uw({name:l,Host:n}){return G.jsxs("div",{className:"player",children:[G.jsx("div",{className:"playerName",children:l}),n&&G.jsx("div",{className:"hostTag"})]})}var Tv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bp=ti.createContext&&ti.createContext(Tv),Lw=["attr","size","title"];function Hw(l,n){if(l==null)return{};var a=Bw(l,n),r,u;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(l);for(u=0;u<f.length;u++)r=f[u],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(l,r)&&(a[r]=l[r])}return a}function Bw(l,n){if(l==null)return{};var a={};for(var r in l)if(Object.prototype.hasOwnProperty.call(l,r)){if(n.indexOf(r)>=0)continue;a[r]=l[r]}return a}function no(){return no=Object.assign?Object.assign.bind():function(l){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(l[r]=a[r])}return l},no.apply(this,arguments)}function Sp(l,n){var a=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);n&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(l,u).enumerable})),a.push.apply(a,r)}return a}function io(l){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Sp(Object(a),!0).forEach(function(r){kw(l,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(a)):Sp(Object(a)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(a,r))})}return l}function kw(l,n,a){return n=jw(n),n in l?Object.defineProperty(l,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[n]=a,l}function jw(l){var n=qw(l,"string");return typeof n=="symbol"?n:n+""}function qw(l,n){if(typeof l!="object"||!l)return l;var a=l[Symbol.toPrimitive];if(a!==void 0){var r=a.call(l,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(l)}function Cv(l){return l&&l.map((n,a)=>ti.createElement(n.tag,io({key:a},n.attr),Cv(n.child)))}function Gw(l){return n=>ti.createElement(Yw,no({attr:io({},l.attr)},n),Cv(l.child))}function Yw(l){var n=a=>{var{attr:r,size:u,title:f}=l,h=Hw(l,Lw),_=u||a.size||"1em",g;return a.className&&(g=a.className),l.className&&(g=(g?g+" ":"")+l.className),ti.createElement("svg",no({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,h,{className:g,style:io(io({color:l.color||a.color},a.style),l.style),height:_,width:_,xmlns:"http://www.w3.org/2000/svg"}),f&&ti.createElement("title",null,f),l.children)};return bp!==void 0?ti.createElement(bp.Consumer,null,a=>n(a)):n(Tv)}function Av(l){return Gw({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M186.301 339.893L96 249.461l-32 30.507L186.301 402 448 140.506 416 110z"},child:[]}]})(l)}function Vw({setGameState:l,setLobbyId:n,setPlayers:a,PlayerName:r,setPlayerId:u}){const[f,h]=Bt.useState(""),[_,g]=Bt.useState(!1);function m(b){if(!f||_)return;const T=Jn($n,`lobbies/${b}`);JC(T).then(z=>{if(!z.exists()){alert("Lobby does not exist"),g(!1);return}const L="player_"+Date.now();u(L);const Z={id:L,name:r||"Player",isHost:!1};WC(Jn($n,`lobbies/${b}/players`),{[L]:Z}).then(()=>{a(ae=>({...ae,[L]:Z})),l("lobby")})}),g(!1)}function v(){n(f),g(!0),m(f)}return G.jsxs("div",{className:"connect",children:[G.jsx("div",{className:"logo",onClick:()=>{l("menu")}}),G.jsxs("div",{className:"inputLobbyIDContainer",children:[!_&&G.jsxs("div",{className:"inputLobbyID",children:[G.jsx("form",{onSubmit:b=>{b.preventDefault(),v()},children:G.jsx("input",{type:"text",className:"lobbyIDInput",placeholder:"Kod gry",maxLength:6,onChange:b=>{h(b.target.value)}})}),G.jsx("div",{className:"joinButton",onClick:v,children:G.jsx(Av,{})})]}),_&&G.jsxs("div",{className:"connecting",children:[G.jsx("p",{children:"czenie z pokojem..."}),G.jsx("div",{className:"loading"})]})]})]})}function Qw({setPlayerName:l,setGameState:n}){const[a,r]=ti.useState("");function u(){if(a.length<3){alert("Nazwa jest za krtka");return}l(a),n("menu")}return G.jsxs("div",{className:"connect",children:[G.jsx("div",{className:"logo"}),G.jsx("div",{className:"inputLobbyIDContainer",children:G.jsxs("div",{className:"inputLobbyID",children:[G.jsx("form",{onSubmit:f=>{f.preventDefault(),u()},children:G.jsx("input",{type:"text",className:"lobbyIDInput",placeholder:"Wybierz nazw",maxLength:12,onChange:f=>{r(f.target.value)}})}),G.jsx("div",{className:"joinButton",onClick:u,children:G.jsx(Av,{})})]})})]})}function Xw(){const[l,n]=Bt.useState(""),[a,r]=Bt.useState("playrerName"),[u,f]=Bt.useState("000000"),[h,_]=Bt.useState(!1),[g,m]=Bt.useState([]),[v,b]=Bt.useState("");return Bt.useEffect(()=>{console.log(`Lobby ID: ${u}`)},[u]),G.jsx(G.Fragment,{children:G.jsxs("div",{children:[G.jsx(Iw,{}),G.jsx(s1,{}),a=="playrerName"&&G.jsx(Qw,{setGameState:r,setPlayerName:n}),a=="menu"&&G.jsx(xw,{playerName:l,setGameState:r,setLobbyId:f,setIsHost:_,setPlayerId:b}),a=="lobby"&&G.jsx(zw,{setGameState:r,lobbyId:u,isHost:h,players:g,setPlayers:m,playerId:v}),a=="connect"&&G.jsx(Vw,{setLobbyId:f,setGameState:r,setPlayers:m,PlayerName:l,setPlayerId:b})]})})}l1.createRoot(document.getElementById("root")).render(G.jsx(Bt.StrictMode,{children:G.jsx(Xw,{})}));
